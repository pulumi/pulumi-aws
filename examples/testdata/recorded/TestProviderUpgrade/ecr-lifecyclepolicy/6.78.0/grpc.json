{"method":"/pulumirpc.LanguageRuntime/GetPluginInfo","request":{},"response":{"version":"v1.19.0"}}
{"method":"/pulumirpc.LanguageRuntime/GetRequiredPackages","request":{"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestEcrLifecyclePolicyUpgrade3753224442/007/ecr-lifecyclepolicy","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestEcrLifecyclePolicyUpgrade3753224442/007/ecr-lifecyclepolicy"}},"response":{"packages":[{"kind":"resource","name":"aws"}]}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"outputValues"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"deletedWith"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"aliasSpecs"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"transforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"invokeTransforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"parameterization"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"customTimeouts":{},"name":"aws_ecr_lifecyclePolicy_LifecyclePolicy_1-test","object":{},"sourcePosition":{"line":290,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fserver%2Fserver.go"},"supportsResultReporting":true,"type":"pulumi:pulumi:Stack"},"response":{"object":{},"urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::pulumi:pulumi:Stack::aws_ecr_lifecyclePolicy_LifecyclePolicy_1-test"}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"outputs":{},"urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::pulumi:pulumi:Stack::aws_ecr_lifecyclePolicy_LifecyclePolicy_1-test"},"response":{}}
{"method":"/pulumirpc.ResourceProvider/Handshake","request":{"configureWithUrn":true,"engineAddress":"127.0.0.1:51405","programDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0","rootDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/GetPluginInfo","request":{},"response":{"version":"6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/CheckConfig","request":{"name":"default","news":{},"olds":{},"type":"pulumi:providers:aws","urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::pulumi:providers:aws::default"},"response":{"inputs":{"region":"us-west-2","skipCredentialsValidation":"false","skipRegionValidation":"true"}}}
{"method":"/pulumirpc.ResourceProvider/Configure","request":{"acceptResources":true,"acceptSecrets":true,"args":{"region":"us-west-2","skipCredentialsValidation":"false","skipRegionValidation":"true"},"id":"f7717978-220b-45eb-9cee-29653a8690c6","name":"default","sendsOldInputs":true,"sendsOldInputsToDelete":true,"type":"pulumi:providers:aws","urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::pulumi:providers:aws::default","variables":{"aws:config:region":"us-west-2","aws:config:skipCredentialsValidation":"false","aws:config:skipRegionValidation":"true"}},"response":{"supportsAutonamingConfiguration":true,"supportsPreview":true}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"foo","news":{"name":"bar"},"olds":{},"randomSeed":"4jebYMhYsaIyCFFjsUzEsitWHNl/9obZ0i1rkJ52M7o=","type":"aws:ecr/repository:Repository","urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/repository:Repository::foo"},"response":{"inputs":{"__defaults":["imageTagMutability"],"imageTagMutability":"MUTABLE","name":"bar"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"foo","properties":{"__defaults":["imageTagMutability"],"imageTagMutability":"MUTABLE","name":"bar"},"type":"aws:ecr/repository:Repository","urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/repository:Repository::foo"},"response":{"id":"bar","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"delete\":1200000000000}}","arn":"arn:aws:ecr:us-west-2:894850187425:repository/bar","encryptionConfigurations":[{"encryptionType":"AES256","kmsKey":""}],"forceDelete":null,"id":"bar","imageScanningConfiguration":{"scanOnPush":false},"imageTagMutability":"MUTABLE","name":"bar","registryId":"894850187425","repositoryUrl":"894850187425.dkr.ecr.us-west-2.amazonaws.com/bar"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"name":"foo","object":{"name":"bar"},"parent":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::pulumi:pulumi:Stack::aws_ecr_lifecyclePolicy_LifecyclePolicy_1-test","propertyDependencies":{"name":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:ecr/repository:Repository"},"response":{"id":"bar","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"delete\":1200000000000}}","arn":"arn:aws:ecr:us-west-2:894850187425:repository/bar","encryptionConfigurations":[{"encryptionType":"AES256","kmsKey":""}],"forceDelete":null,"id":"bar","imageScanningConfiguration":{"scanOnPush":false},"imageTagMutability":"MUTABLE","name":"bar","registryId":"894850187425","repositoryUrl":"894850187425.dkr.ecr.us-west-2.amazonaws.com/bar"},"urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/repository:Repository::foo"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"foopolicy","news":{"policy":"{\n    \"rules\": [\n        {\n            \"rulePriority\": 1,\n            \"description\": \"Expire images older than 14 days\",\n            \"selection\": {\n                \"tagStatus\": \"untagged\",\n                \"countType\": \"sinceImagePushed\",\n                \"countUnit\": \"days\",\n                \"countNumber\": 14\n            },\n            \"action\": {\n                \"type\": \"expire\"\n            }\n        }\n    ]\n}\n","repository":"bar"},"olds":{},"randomSeed":"QXmULTch5Hny6mJkmskhxnJqMYifjKh9DtpUYYeELrU=","type":"aws:ecr/lifecyclePolicy:LifecyclePolicy","urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/lifecyclePolicy:LifecyclePolicy::foopolicy"},"response":{"inputs":{"__defaults":[],"policy":"{\n    \"rules\": [\n        {\n            \"rulePriority\": 1,\n            \"description\": \"Expire images older than 14 days\",\n            \"selection\": {\n                \"tagStatus\": \"untagged\",\n                \"countType\": \"sinceImagePushed\",\n                \"countUnit\": \"days\",\n                \"countNumber\": 14\n            },\n            \"action\": {\n                \"type\": \"expire\"\n            }\n        }\n    ]\n}\n","repository":"bar"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"foopolicy","properties":{"__defaults":[],"policy":"{\n    \"rules\": [\n        {\n            \"rulePriority\": 1,\n            \"description\": \"Expire images older than 14 days\",\n            \"selection\": {\n                \"tagStatus\": \"untagged\",\n                \"countType\": \"sinceImagePushed\",\n                \"countUnit\": \"days\",\n                \"countNumber\": 14\n            },\n            \"action\": {\n                \"type\": \"expire\"\n            }\n        }\n    ]\n}\n","repository":"bar"},"type":"aws:ecr/lifecyclePolicy:LifecyclePolicy","urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/lifecyclePolicy:LifecyclePolicy::foopolicy"},"response":{"id":"bar","properties":{"id":"bar","policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Expire images older than 14 days\",\"rulePriority\":1,\"selection\":{\"countNumber\":14,\"countType\":\"sinceImagePushed\",\"countUnit\":\"days\",\"tagStatus\":\"untagged\"}}]}","registryId":"894850187425","repository":"bar"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/repository:Repository::foo"],"name":"foopolicy","object":{"policy":"{\n    \"rules\": [\n        {\n            \"rulePriority\": 1,\n            \"description\": \"Expire images older than 14 days\",\n            \"selection\": {\n                \"tagStatus\": \"untagged\",\n                \"countType\": \"sinceImagePushed\",\n                \"countUnit\": \"days\",\n                \"countNumber\": 14\n            },\n            \"action\": {\n                \"type\": \"expire\"\n            }\n        }\n    ]\n}\n","repository":"bar"},"parent":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::pulumi:pulumi:Stack::aws_ecr_lifecyclePolicy_LifecyclePolicy_1-test","propertyDependencies":{"policy":{},"repository":{"urns":["urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/repository:Repository::foo"]}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:ecr/lifecyclePolicy:LifecyclePolicy"},"response":{"id":"bar","object":{"id":"bar","policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Expire images older than 14 days\",\"rulePriority\":1,\"selection\":{\"countNumber\":14,\"countType\":\"sinceImagePushed\",\"countUnit\":\"days\",\"tagStatus\":\"untagged\"}}]}","registryId":"894850187425","repository":"bar"},"urn":"urn:pulumi:test::aws_ecr_lifecyclePolicy_LifecyclePolicy_1::aws:ecr/lifecyclePolicy:LifecyclePolicy::foopolicy"}}
{"method":"/pulumirpc.LanguageRuntime/Run","request":{"configPropertyMap":{},"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestEcrLifecyclePolicyUpgrade3753224442/007/ecr-lifecyclepolicy","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestEcrLifecyclePolicyUpgrade3753224442/007/ecr-lifecyclepolicy"},"loaderTarget":"127.0.0.1:51417","monitorAddress":"127.0.0.1:51416","organization":"organization","parallel":56,"program":".","project":"aws_ecr_lifecyclePolicy_LifecyclePolicy_1","pwd":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestEcrLifecyclePolicyUpgrade3753224442/007/ecr-lifecyclepolicy","stack":"test"},"response":{}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}