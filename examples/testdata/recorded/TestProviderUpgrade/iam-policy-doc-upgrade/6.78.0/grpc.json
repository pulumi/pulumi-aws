{"method":"/pulumirpc.LanguageRuntime/GetPluginInfo","request":{},"response":{"version":"3.171.0-dev.0"}}
{"method":"/pulumirpc.LanguageRuntime/GetRequiredPackages","request":{"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade"}},"response":{"packages":[{"kind":"resource","name":"aws","version":"v7.0.0-alpha.0+dev"}]}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"outputValues"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"aliasSpecs"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"transforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"secrets"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"invokeTransforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"parameterization"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"deletedWith"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"customTimeouts":{},"name":"iam-policy-doc-upgrade-test","object":{},"sourcePosition":{"column":19,"line":37,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/node_modules/@pulumi/runtime/stack.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"pulumi:pulumi:Stack"},"response":{"object":{},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test"}}
{"method":"/pulumirpc.ResourceProvider/Handshake","request":{"configureWithUrn":true,"engineAddress":"127.0.0.1:53203","programDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0","rootDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/GetPluginInfo","request":{},"response":{"version":"6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/CheckConfig","request":{"name":"default_7_0_0_alpha_0_dev","news":{"version":"7.0.0-alpha.0+dev"},"olds":{},"type":"pulumi:providers:aws","urn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:providers:aws::default_7_0_0_alpha_0_dev"},"response":{"inputs":{"region":"us-east-2","skipCredentialsValidation":"false","skipRegionValidation":"true","version":"7.0.0-alpha.0+dev"}}}
{"method":"/pulumirpc.ResourceProvider/Configure","request":{"acceptResources":true,"acceptSecrets":true,"args":{"region":"us-east-2","skipCredentialsValidation":"false","skipRegionValidation":"true","version":"7.0.0-alpha.0+dev"},"id":"e9f08f5f-60bb-404e-beb9-a98ac2c8da41","name":"default_7_0_0_alpha_0_dev","sendsOldInputs":true,"sendsOldInputsToDelete":true,"type":"pulumi:providers:aws","urn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:providers:aws::default_7_0_0_alpha_0_dev","variables":{"aws:config:region":"us-east-2","aws:config:skipCredentialsValidation":"false","aws:config:skipRegionValidation":"true"}},"response":{"supportsAutonamingConfiguration":true,"supportsPreview":true}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"test-bucket","news":{},"olds":{},"randomSeed":"e68u9NTa/V7fdh5tCgweLQ/rnHHm7aERRzB8nB5NOY4=","type":"aws:s3/bucket:Bucket","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket"},"response":{"inputs":{"__defaults":["acl","bucket","forceDestroy"],"acl":"private","bucket":"test-bucket-24922bd","forceDestroy":false}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"dynamic-bucket","news":{},"olds":{},"randomSeed":"HQloHQeRKuemx+3el+TSpAtpXdt1eqTxlkg1e7VNTo4=","type":"aws:s3/bucket:Bucket","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::dynamic-bucket"},"response":{"inputs":{"__defaults":["acl","bucket","forceDestroy"],"acl":"private","bucket":"dynamic-bucket-3508d66","forceDestroy":false}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"args":{},"tok":"aws:index/getCallerIdentity:getCallerIdentity"},"response":{"return":{"accountId":"616138583583","arn":"arn:aws:sts::616138583583:assumed-role/AWSReservedSSO_AdministratorAccess_224e23fb315b65cb/chall@pulumi.com","id":"616138583583","userId":"AROAY65FYVYP6E2HSUXEV:chall@pulumi.com"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"acceptResources":true,"args":{},"tok":"aws:index/getCallerIdentity:getCallerIdentity","version":"7.0.0-alpha.0+dev"},"response":{"return":{"accountId":"616138583583","arn":"arn:aws:sts::616138583583:assumed-role/AWSReservedSSO_AdministratorAccess_224e23fb315b65cb/chall@pulumi.com","id":"616138583583","userId":"AROAY65FYVYP6E2HSUXEV:chall@pulumi.com"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"base-role","news":{"assumeRolePolicy":{"Id":"comprehensive-policy-id","Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":["arn:aws:iam::616138583583:root"]},"Sid":"AllowAWSPrincipal"}],"Version":"2012-10-17"}},"olds":{},"randomSeed":"BPNEdX7sNdbzOl91y4FfNVSXaXWZRLH5Quvppv7tpAc=","type":"aws:iam/role:Role","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::base-role"},"response":{"inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\"]},\"Sid\":\"AllowAWSPrincipal\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"base-role-1ed1734","path":"/"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"base-role","properties":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\"]},\"Sid\":\"AllowAWSPrincipal\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"base-role-1ed1734","path":"/"},"type":"aws:iam/role:Role","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::base-role"},"response":{"id":"base-role-1ed1734","properties":{"arn":"arn:aws:iam::616138583583:role/base-role-1ed1734","assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\"]},\"Sid\":\"AllowAWSPrincipal\"}],\"Version\":\"2012-10-17\"}","createDate":"2025-05-29T16:23:29Z","description":"","forceDetachPolicies":false,"id":"base-role-1ed1734","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"base-role-1ed1734","namePrefix":"","path":"/","permissionsBoundary":"","uniqueId":"AROAY65FYVYPRWOUBTADX"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"custom":true,"customTimeouts":{},"name":"base-role","object":{"assumeRolePolicy":{"Id":"comprehensive-policy-id","Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":["arn:aws:iam::616138583583:root"]},"Sid":"AllowAWSPrincipal"}],"Version":"2012-10-17"}},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","propertyDependencies":{"assumeRolePolicy":{}},"sourcePosition":{"column":18,"line":23,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:iam/role:Role","version":"7.0.0-alpha.0+dev"},"response":{"id":"base-role-1ed1734","object":{"arn":"arn:aws:iam::616138583583:role/base-role-1ed1734","assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\"]},\"Sid\":\"AllowAWSPrincipal\"}],\"Version\":\"2012-10-17\"}","createDate":"2025-05-29T16:23:29Z","description":"","forceDetachPolicies":false,"id":"base-role-1ed1734","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"base-role-1ed1734","namePrefix":"","path":"/","permissionsBoundary":"","uniqueId":"AROAY65FYVYPRWOUBTADX"},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::base-role"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"comprehensive-role","news":{"assumeRolePolicy":{"Id":"comprehensive-policy-id","Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":["arn:aws:iam::616138583583:root","arn:aws:iam::616138583583:role/base-role-1ed1734"]},"Sid":"AllowAWSPrincipal"},{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com","ec2.amazonaws.com"]},"Sid":"AllowServicePrincipal"},{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Federated":"arn:aws:iam::123456789012:saml-provider/ExampleProvider"},"Sid":"AllowFederatedPrincipal"}],"Version":"2012-10-17"}},"olds":{},"randomSeed":"gf/Oixb4ChuyIoDyVxZ/qweRMPAv6VS5Vl/IigGyGng=","type":"aws:iam/role:Role","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"},"response":{"inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\",\"arn:aws:iam::616138583583:role/base-role-1ed1734\"]},\"Sid\":\"AllowAWSPrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ec2.amazonaws.com\"]},\"Sid\":\"AllowServicePrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::123456789012:saml-provider/ExampleProvider\"},\"Sid\":\"AllowFederatedPrincipal\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"comprehensive-role-58ec1c3","path":"/"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"dynamic-bucket","properties":{"__defaults":["acl","bucket","forceDestroy"],"acl":"private","bucket":"dynamic-bucket-3508d66","forceDestroy":false},"type":"aws:s3/bucket:Bucket","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::dynamic-bucket"},"response":{"id":"dynamic-bucket-3508d66","properties":{"accelerationStatus":"","acl":"private","arn":"arn:aws:s3:::dynamic-bucket-3508d66","bucket":"dynamic-bucket-3508d66","bucketDomainName":"dynamic-bucket-3508d66.s3.amazonaws.com","bucketPrefix":null,"bucketRegionalDomainName":"dynamic-bucket-3508d66.s3.us-east-2.amazonaws.com","corsRules":[],"forceDestroy":false,"grants":[],"hostedZoneId":"Z2O1EMRO9K5GLX","id":"dynamic-bucket-3508d66","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"policy":null,"region":"us-east-2","replicationConfiguration":null,"requestPayer":"BucketOwner","serverSideEncryptionConfiguration":{"rule":{"applyServerSideEncryptionByDefault":{"kmsMasterKeyId":"","sseAlgorithm":"AES256"},"bucketKeyEnabled":false}},"versioning":{"enabled":false,"mfaDelete":false},"website":null,"websiteDomain":null,"websiteEndpoint":null}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"aliases":[{"spec":{"parentUrn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","type":"aws:s3/bucketV2:BucketV2"}},{"spec":{"parentUrn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","type":"aws:s3/bucketV2:BucketV2"}}],"custom":true,"customTimeouts":{},"name":"dynamic-bucket","object":{},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","sourcePosition":{"column":23,"line":292,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:s3/bucket:Bucket","version":"7.0.0-alpha.0+dev"},"response":{"id":"dynamic-bucket-3508d66","object":{"accelerationStatus":"","acl":"private","arn":"arn:aws:s3:::dynamic-bucket-3508d66","bucket":"dynamic-bucket-3508d66","bucketDomainName":"dynamic-bucket-3508d66.s3.amazonaws.com","bucketPrefix":null,"bucketRegionalDomainName":"dynamic-bucket-3508d66.s3.us-east-2.amazonaws.com","corsRules":[],"forceDestroy":false,"grants":[],"hostedZoneId":"Z2O1EMRO9K5GLX","id":"dynamic-bucket-3508d66","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"policy":null,"region":"us-east-2","replicationConfiguration":null,"requestPayer":"BucketOwner","serverSideEncryptionConfiguration":{"rule":{"applyServerSideEncryptionByDefault":{"kmsMasterKeyId":"","sseAlgorithm":"AES256"},"bucketKeyEnabled":false}},"versioning":{"enabled":false,"mfaDelete":false},"website":null,"websiteDomain":null,"websiteEndpoint":null},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::dynamic-bucket"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"test-bucket","properties":{"__defaults":["acl","bucket","forceDestroy"],"acl":"private","bucket":"test-bucket-24922bd","forceDestroy":false},"type":"aws:s3/bucket:Bucket","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket"},"response":{"id":"test-bucket-24922bd","properties":{"accelerationStatus":"","acl":"private","arn":"arn:aws:s3:::test-bucket-24922bd","bucket":"test-bucket-24922bd","bucketDomainName":"test-bucket-24922bd.s3.amazonaws.com","bucketPrefix":null,"bucketRegionalDomainName":"test-bucket-24922bd.s3.us-east-2.amazonaws.com","corsRules":[],"forceDestroy":false,"grants":[],"hostedZoneId":"Z2O1EMRO9K5GLX","id":"test-bucket-24922bd","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"policy":null,"region":"us-east-2","replicationConfiguration":null,"requestPayer":"BucketOwner","serverSideEncryptionConfiguration":{"rule":{"applyServerSideEncryptionByDefault":{"kmsMasterKeyId":"","sseAlgorithm":"AES256"},"bucketKeyEnabled":false}},"versioning":{"enabled":false,"mfaDelete":false},"website":null,"websiteDomain":null,"websiteEndpoint":null}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"aliases":[{"spec":{"parentUrn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","type":"aws:s3/bucketV2:BucketV2"}},{"spec":{"parentUrn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","type":"aws:s3/bucketV2:BucketV2"}}],"custom":true,"customTimeouts":{},"name":"test-bucket","object":{},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","sourcePosition":{"column":16,"line":21,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:s3/bucket:Bucket","version":"7.0.0-alpha.0+dev"},"response":{"id":"test-bucket-24922bd","object":{"accelerationStatus":"","acl":"private","arn":"arn:aws:s3:::test-bucket-24922bd","bucket":"test-bucket-24922bd","bucketDomainName":"test-bucket-24922bd.s3.amazonaws.com","bucketPrefix":null,"bucketRegionalDomainName":"test-bucket-24922bd.s3.us-east-2.amazonaws.com","corsRules":[],"forceDestroy":false,"grants":[],"hostedZoneId":"Z2O1EMRO9K5GLX","id":"test-bucket-24922bd","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"policy":null,"region":"us-east-2","replicationConfiguration":null,"requestPayer":"BucketOwner","serverSideEncryptionConfiguration":{"rule":{"applyServerSideEncryptionByDefault":{"kmsMasterKeyId":"","sseAlgorithm":"AES256"},"bucketKeyEnabled":false}},"versioning":{"enabled":false,"mfaDelete":false},"website":null,"websiteDomain":null,"websiteEndpoint":null},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucket-policy","news":{"bucket":"test-bucket-24922bd","policy":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::616138583583:root"},"Resource":"arn:aws:s3:::test-bucket-24922bd/*","Sid":"PrincipalTest"},{"Action":"s3:ListBucket","Effect":"Deny","NotPrincipal":{"AWS":["arn:aws:iam::616138583583:role/base-role-1ed1734","arn:aws:iam::616138583583:root"]},"Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"NotPrincipalTest"},{"Action":"s3:ListBucket","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"},"Resource":"arn:aws:s3:::test-bucket-24922bd"},{"Action":["s3:ListBucket"],"Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com"]},"Resource":["arn:aws:s3:::test-bucket-24922bd"]},{"Action":"s3:GetObject","Effect":"Deny","NotPrincipal":{"AWS":["arn:aws:iam::616138583583:role/base-role-1ed1734","arn:aws:iam::616138583583:root"]},"NotResource":"arn:aws:s3:::test-bucket-24922bd/logs/*","Sid":"ComprehensiveDenyTest"}],"Version":"2012-10-17"}},"olds":{},"randomSeed":"niAkJPTu6rUrQP+EDTQV4FNEOAFH8wSBYGnUkVGPubg=","type":"aws:s3/bucketPolicy:BucketPolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucketPolicy:BucketPolicy::bucket-policy"},"response":{"inputs":{"__defaults":[],"bucket":"test-bucket-24922bd","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::616138583583:root\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"PrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotPrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\"]},\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2012-10-17\"}"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"comprehensive-role","properties":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\",\"arn:aws:iam::616138583583:role/base-role-1ed1734\"]},\"Sid\":\"AllowAWSPrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ec2.amazonaws.com\"]},\"Sid\":\"AllowServicePrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::123456789012:saml-provider/ExampleProvider\"},\"Sid\":\"AllowFederatedPrincipal\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"comprehensive-role-58ec1c3","path":"/"},"type":"aws:iam/role:Role","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"},"response":{"id":"comprehensive-role-58ec1c3","properties":{"arn":"arn:aws:iam::616138583583:role/comprehensive-role-58ec1c3","assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\",\"arn:aws:iam::616138583583:role/base-role-1ed1734\"]},\"Sid\":\"AllowAWSPrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ec2.amazonaws.com\"]},\"Sid\":\"AllowServicePrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::123456789012:saml-provider/ExampleProvider\"},\"Sid\":\"AllowFederatedPrincipal\"}],\"Version\":\"2012-10-17\"}","createDate":"2025-05-29T16:23:37Z","description":"","forceDetachPolicies":false,"id":"comprehensive-role-58ec1c3","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"comprehensive-role-58ec1c3","namePrefix":"","path":"/","permissionsBoundary":"","uniqueId":"AROAY65FYVYPVARKNTLKA"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::base-role"],"name":"comprehensive-role","object":{"assumeRolePolicy":{"Id":"comprehensive-policy-id","Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":["arn:aws:iam::616138583583:root","arn:aws:iam::616138583583:role/base-role-1ed1734"]},"Sid":"AllowAWSPrincipal"},{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com","ec2.amazonaws.com"]},"Sid":"AllowServicePrincipal"},{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Federated":"arn:aws:iam::123456789012:saml-provider/ExampleProvider"},"Sid":"AllowFederatedPrincipal"}],"Version":"2012-10-17"}},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","propertyDependencies":{"assumeRolePolicy":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::base-role"]}},"sourcePosition":{"column":27,"line":43,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:iam/role:Role","version":"7.0.0-alpha.0+dev"},"response":{"id":"comprehensive-role-58ec1c3","object":{"arn":"arn:aws:iam::616138583583:role/comprehensive-role-58ec1c3","assumeRolePolicy":"{\"Id\":\"comprehensive-policy-id\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::616138583583:root\",\"arn:aws:iam::616138583583:role/base-role-1ed1734\"]},\"Sid\":\"AllowAWSPrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ec2.amazonaws.com\"]},\"Sid\":\"AllowServicePrincipal\"},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::123456789012:saml-provider/ExampleProvider\"},\"Sid\":\"AllowFederatedPrincipal\"}],\"Version\":\"2012-10-17\"}","createDate":"2025-05-29T16:23:37Z","description":"","forceDetachPolicies":false,"id":"comprehensive-role-58ec1c3","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"comprehensive-role-58ec1c3","namePrefix":"","path":"/","permissionsBoundary":"","uniqueId":"AROAY65FYVYPVARKNTLKA"},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"outputs":{"dynamicBucketArn":"arn:aws:s3:::dynamic-bucket-3508d66","testBucket":"arn:aws:s3:::test-bucket-24922bd","testRole":"arn:aws:iam::616138583583:role/comprehensive-role-58ec1c3"},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test"},"response":{}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"dynamic-policy","news":{"policy":{"Statement":[{"Action":"s3:*","Condition":{"StringEquals":{"s3:ExistingBucketName":"dynamic-bucket-3508d66"}},"Effect":"Allow","Resource":["arn:aws:s3:::dynamic-bucket-3508d66","arn:aws:s3:::dynamic-bucket-3508d66/*"]}],"Version":"2012-10-17"},"role":"comprehensive-role-58ec1c3"},"olds":{},"randomSeed":"GS03VjIcHU6gsAcRJp0EWYlJPdgh6HoQ1bgoO99+psQ=","type":"aws:iam/rolePolicy:RolePolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::dynamic-policy"},"response":{"inputs":{"__defaults":["name"],"name":"dynamic-policy-ee16a6a","policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"StringEquals\":{\"s3:ExistingBucketName\":\"dynamic-bucket-3508d66\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::dynamic-bucket-3508d66\",\"arn:aws:s3:::dynamic-bucket-3508d66/*\"]}],\"Version\":\"2012-10-17\"}","role":"comprehensive-role-58ec1c3"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"edge-cases-policy","news":{"policy":{"Statement":[{"Action":["s3:GetObject"],"Effect":"Allow","Resource":["arn:aws:s3:::test-bucket-24922bd"]},{"Condition":{"StringNotEquals":{"aws:RequestTag/approved":"true"}},"Effect":"Deny","NotAction":"s3:GetBucketLocation","NotResource":"arn:aws:s3:::test-bucket-24922bd/logs/*","Sid":"ComprehensiveDenyTest"}],"Version":"2008-10-17"},"role":"comprehensive-role-58ec1c3"},"olds":{},"randomSeed":"2c2a4+shIC3SOGcOSsaWpvsLdGIAiZBTMlcami4RwVM=","type":"aws:iam/rolePolicy:RolePolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::edge-cases-policy"},"response":{"inputs":{"__defaults":["name"],"name":"edge-cases-policy-663f4d8","policy":"{\"Statement\":[{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Condition\":{\"StringNotEquals\":{\"aws:RequestTag/approved\":\"true\"}},\"Effect\":\"Deny\",\"NotAction\":\"s3:GetBucketLocation\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2008-10-17\"}","role":"comprehensive-role-58ec1c3"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"comprehensive-policy","news":{"policy":{"Id":"test-policy-document-id","Statement":[{"Action":["s3:GetObject","s3:PutObject","s3:DeleteObject"],"Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd/*","Sid":"ActionArrayTest"},{"Action":"s3:ListBucket","Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"ActionStringTest"},{"Effect":"Deny","NotAction":["s3:GetObject","s3:PutObject"],"Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"NotActionTest"},{"Action":"s3:GetObject","Effect":"Allow","Resource":["arn:aws:s3:::test-bucket-24922bd/*","arn:aws:s3:::test-bucket-24922bd/public/*"],"Sid":"ResourceArrayTest"},{"Action":"s3:GetBucketLocation","Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"ResourceStringTest"},{"Action":"s3:DeleteObject","Effect":"Deny","NotResource":"arn:aws:s3:::test-bucket-24922bd/protected/*","Sid":"NotResourceTest"},{"Action":"s3:GetObject","Condition":{"ArnEquals":{"aws:SourceArn":"arn:aws:s3:::test-bucket-24922bd"},"ArnLike":{"aws:SourceArn":"arn:aws:s3:::example-*"},"Bool":{"aws:MultiFactorAuthPresent":"true","aws:SecureTransport":"true"},"DateGreaterThan":{"aws:RequestTime":"2023-01-01T00:00:00Z"},"DateLessThan":{"aws:RequestTime":"2025-01-01T00:00:00Z"},"ForAllValues:StringEquals":{"aws:RequestTag/team":["dev","ops"]},"ForAnyValue:StringLike":{"s3:object-tag-keys":["environment","team"]},"IpAddress":{"aws:SourceIp":["203.0.113.0/24","2001:DB8:1234:5678::/64"]},"IpAddressIfExists":{"aws:SourceIp":"203.0.113.0/24"},"Null":{"aws:RequestTag/environment":"false"},"NumericGreaterThan":{"s3:max-keys":"100"},"NumericLessThanEquals":{"s3:object-size":"1048576"},"StringEquals":{"aws:RequestTag/environment":"production","s3:ExistingObjectTag/classification":["public","internal"]},"StringLike":{"s3:prefix":["${aws:username}/*","public/*"]},"StringNotEquals":{"aws:RequestTag/team":"external"}},"Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd/*","Sid":"ComplexConditionsTest"}],"Version":"2012-10-17"},"role":"comprehensive-role-58ec1c3"},"olds":{},"randomSeed":"l0wCBT6GtGsGGq/1UmdjRZvpq0PgkYx2saZeDbYYBfU=","type":"aws:iam/rolePolicy:RolePolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::comprehensive-policy"},"response":{"inputs":{"__defaults":["name"],"name":"comprehensive-policy-77f33c5","policy":"{\"Id\":\"test-policy-document-id\",\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:PutObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ActionArrayTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ActionStringTest\"},{\"Effect\":\"Deny\",\"NotAction\":[\"s3:GetObject\",\"s3:PutObject\"],\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotActionTest\"},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd/*\",\"arn:aws:s3:::test-bucket-24922bd/public/*\"],\"Sid\":\"ResourceArrayTest\"},{\"Action\":\"s3:GetBucketLocation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ResourceStringTest\"},{\"Action\":\"s3:DeleteObject\",\"Effect\":\"Deny\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/protected/*\",\"Sid\":\"NotResourceTest\"},{\"Action\":\"s3:GetObject\",\"Condition\":{\"ArnEquals\":{\"aws:SourceArn\":\"arn:aws:s3:::test-bucket-24922bd\"},\"ArnLike\":{\"aws:SourceArn\":\"arn:aws:s3:::example-*\"},\"Bool\":{\"aws:MultiFactorAuthPresent\":\"true\",\"aws:SecureTransport\":\"true\"},\"DateGreaterThan\":{\"aws:RequestTime\":\"2023-01-01T00:00:00Z\"},\"DateLessThan\":{\"aws:RequestTime\":\"2025-01-01T00:00:00Z\"},\"ForAllValues:StringEquals\":{\"aws:RequestTag/team\":[\"dev\",\"ops\"]},\"ForAnyValue:StringLike\":{\"s3:object-tag-keys\":[\"environment\",\"team\"]},\"IpAddress\":{\"aws:SourceIp\":[\"203.0.113.0/24\",\"2001:DB8:1234:5678::/64\"]},\"IpAddressIfExists\":{\"aws:SourceIp\":\"203.0.113.0/24\"},\"Null\":{\"aws:RequestTag/environment\":\"false\"},\"NumericGreaterThan\":{\"s3:max-keys\":\"100\"},\"NumericLessThanEquals\":{\"s3:object-size\":\"1048576\"},\"StringEquals\":{\"aws:RequestTag/environment\":\"production\",\"s3:ExistingObjectTag/classification\":[\"public\",\"internal\"]},\"StringLike\":{\"s3:prefix\":[\"${aws:username}/*\",\"public/*\"]},\"StringNotEquals\":{\"aws:RequestTag/team\":\"external\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ComplexConditionsTest\"}],\"Version\":\"2012-10-17\"}","role":"comprehensive-role-58ec1c3"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"edge-cases-policy","properties":{"__defaults":["name"],"name":"edge-cases-policy-663f4d8","policy":"{\"Statement\":[{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Condition\":{\"StringNotEquals\":{\"aws:RequestTag/approved\":\"true\"}},\"Effect\":\"Deny\",\"NotAction\":\"s3:GetBucketLocation\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2008-10-17\"}","role":"comprehensive-role-58ec1c3"},"type":"aws:iam/rolePolicy:RolePolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::edge-cases-policy"},"response":{"id":"comprehensive-role-58ec1c3:edge-cases-policy-663f4d8","properties":{"id":"comprehensive-role-58ec1c3:edge-cases-policy-663f4d8","name":"edge-cases-policy-663f4d8","namePrefix":"","policy":"{\"Statement\":[{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Condition\":{\"StringNotEquals\":{\"aws:RequestTag/approved\":\"true\"}},\"Effect\":\"Deny\",\"NotAction\":\"s3:GetBucketLocation\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2008-10-17\"}","role":"comprehensive-role-58ec1c3"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket","urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"],"name":"edge-cases-policy","object":{"policy":{"Statement":[{"Action":["s3:GetObject"],"Effect":"Allow","Resource":["arn:aws:s3:::test-bucket-24922bd"]},{"Condition":{"StringNotEquals":{"aws:RequestTag/approved":"true"}},"Effect":"Deny","NotAction":"s3:GetBucketLocation","NotResource":"arn:aws:s3:::test-bucket-24922bd/logs/*","Sid":"ComprehensiveDenyTest"}],"Version":"2008-10-17"},"role":"comprehensive-role-58ec1c3"},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","propertyDependencies":{"policy":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket"]},"role":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"]}},"sourcePosition":{"column":1,"line":264,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:iam/rolePolicy:RolePolicy","version":"7.0.0-alpha.0+dev"},"response":{"id":"comprehensive-role-58ec1c3:edge-cases-policy-663f4d8","object":{"id":"comprehensive-role-58ec1c3:edge-cases-policy-663f4d8","name":"edge-cases-policy-663f4d8","namePrefix":"","policy":"{\"Statement\":[{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Condition\":{\"StringNotEquals\":{\"aws:RequestTag/approved\":\"true\"}},\"Effect\":\"Deny\",\"NotAction\":\"s3:GetBucketLocation\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2008-10-17\"}","role":"comprehensive-role-58ec1c3"},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::edge-cases-policy"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"comprehensive-policy","properties":{"__defaults":["name"],"name":"comprehensive-policy-77f33c5","policy":"{\"Id\":\"test-policy-document-id\",\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:PutObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ActionArrayTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ActionStringTest\"},{\"Effect\":\"Deny\",\"NotAction\":[\"s3:GetObject\",\"s3:PutObject\"],\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotActionTest\"},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd/*\",\"arn:aws:s3:::test-bucket-24922bd/public/*\"],\"Sid\":\"ResourceArrayTest\"},{\"Action\":\"s3:GetBucketLocation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ResourceStringTest\"},{\"Action\":\"s3:DeleteObject\",\"Effect\":\"Deny\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/protected/*\",\"Sid\":\"NotResourceTest\"},{\"Action\":\"s3:GetObject\",\"Condition\":{\"ArnEquals\":{\"aws:SourceArn\":\"arn:aws:s3:::test-bucket-24922bd\"},\"ArnLike\":{\"aws:SourceArn\":\"arn:aws:s3:::example-*\"},\"Bool\":{\"aws:MultiFactorAuthPresent\":\"true\",\"aws:SecureTransport\":\"true\"},\"DateGreaterThan\":{\"aws:RequestTime\":\"2023-01-01T00:00:00Z\"},\"DateLessThan\":{\"aws:RequestTime\":\"2025-01-01T00:00:00Z\"},\"ForAllValues:StringEquals\":{\"aws:RequestTag/team\":[\"dev\",\"ops\"]},\"ForAnyValue:StringLike\":{\"s3:object-tag-keys\":[\"environment\",\"team\"]},\"IpAddress\":{\"aws:SourceIp\":[\"203.0.113.0/24\",\"2001:DB8:1234:5678::/64\"]},\"IpAddressIfExists\":{\"aws:SourceIp\":\"203.0.113.0/24\"},\"Null\":{\"aws:RequestTag/environment\":\"false\"},\"NumericGreaterThan\":{\"s3:max-keys\":\"100\"},\"NumericLessThanEquals\":{\"s3:object-size\":\"1048576\"},\"StringEquals\":{\"aws:RequestTag/environment\":\"production\",\"s3:ExistingObjectTag/classification\":[\"public\",\"internal\"]},\"StringLike\":{\"s3:prefix\":[\"${aws:username}/*\",\"public/*\"]},\"StringNotEquals\":{\"aws:RequestTag/team\":\"external\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ComplexConditionsTest\"}],\"Version\":\"2012-10-17\"}","role":"comprehensive-role-58ec1c3"},"type":"aws:iam/rolePolicy:RolePolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::comprehensive-policy"},"response":{"id":"comprehensive-role-58ec1c3:comprehensive-policy-77f33c5","properties":{"id":"comprehensive-role-58ec1c3:comprehensive-policy-77f33c5","name":"comprehensive-policy-77f33c5","namePrefix":"","policy":"{\"Version\":\"2012-10-17\",\"Id\":\"test-policy-document-id\",\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:PutObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ActionArrayTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ActionStringTest\"},{\"Effect\":\"Deny\",\"NotAction\":[\"s3:GetObject\",\"s3:PutObject\"],\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotActionTest\"},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd/*\",\"arn:aws:s3:::test-bucket-24922bd/public/*\"],\"Sid\":\"ResourceArrayTest\"},{\"Action\":\"s3:GetBucketLocation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ResourceStringTest\"},{\"Action\":\"s3:DeleteObject\",\"Effect\":\"Deny\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/protected/*\",\"Sid\":\"NotResourceTest\"},{\"Action\":\"s3:GetObject\",\"Condition\":{\"ArnEquals\":{\"aws:SourceArn\":\"arn:aws:s3:::test-bucket-24922bd\"},\"ArnLike\":{\"aws:SourceArn\":\"arn:aws:s3:::example-*\"},\"Bool\":{\"aws:MultiFactorAuthPresent\":\"true\",\"aws:SecureTransport\":\"true\"},\"DateGreaterThan\":{\"aws:RequestTime\":\"2023-01-01T00:00:00Z\"},\"DateLessThan\":{\"aws:RequestTime\":\"2025-01-01T00:00:00Z\"},\"ForAllValues:StringEquals\":{\"aws:RequestTag/team\":[\"dev\",\"ops\"]},\"ForAnyValue:StringLike\":{\"s3:object-tag-keys\":[\"environment\",\"team\"]},\"IpAddress\":{\"aws:SourceIp\":[\"203.0.113.0/24\",\"2001:DB8:1234:5678::/64\"]},\"IpAddressIfExists\":{\"aws:SourceIp\":\"203.0.113.0/24\"},\"Null\":{\"aws:RequestTag/environment\":\"false\"},\"NumericGreaterThan\":{\"s3:max-keys\":\"100\"},\"NumericLessThanEquals\":{\"s3:object-size\":\"1048576\"},\"StringEquals\":{\"aws:RequestTag/environment\":\"production\",\"s3:ExistingObjectTag/classification\":[\"public\",\"internal\"]},\"StringLike\":{\"s3:prefix\":[\"${aws:username}/*\",\"public/*\"]},\"StringNotEquals\":{\"aws:RequestTag/team\":\"external\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ComplexConditionsTest\"}]}","role":"comprehensive-role-58ec1c3"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket","urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"],"name":"comprehensive-policy","object":{"policy":{"Id":"test-policy-document-id","Statement":[{"Action":["s3:GetObject","s3:PutObject","s3:DeleteObject"],"Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd/*","Sid":"ActionArrayTest"},{"Action":"s3:ListBucket","Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"ActionStringTest"},{"Effect":"Deny","NotAction":["s3:GetObject","s3:PutObject"],"Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"NotActionTest"},{"Action":"s3:GetObject","Effect":"Allow","Resource":["arn:aws:s3:::test-bucket-24922bd/*","arn:aws:s3:::test-bucket-24922bd/public/*"],"Sid":"ResourceArrayTest"},{"Action":"s3:GetBucketLocation","Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"ResourceStringTest"},{"Action":"s3:DeleteObject","Effect":"Deny","NotResource":"arn:aws:s3:::test-bucket-24922bd/protected/*","Sid":"NotResourceTest"},{"Action":"s3:GetObject","Condition":{"ArnEquals":{"aws:SourceArn":"arn:aws:s3:::test-bucket-24922bd"},"ArnLike":{"aws:SourceArn":"arn:aws:s3:::example-*"},"Bool":{"aws:MultiFactorAuthPresent":"true","aws:SecureTransport":"true"},"DateGreaterThan":{"aws:RequestTime":"2023-01-01T00:00:00Z"},"DateLessThan":{"aws:RequestTime":"2025-01-01T00:00:00Z"},"ForAllValues:StringEquals":{"aws:RequestTag/team":["dev","ops"]},"ForAnyValue:StringLike":{"s3:object-tag-keys":["environment","team"]},"IpAddress":{"aws:SourceIp":["203.0.113.0/24","2001:DB8:1234:5678::/64"]},"IpAddressIfExists":{"aws:SourceIp":"203.0.113.0/24"},"Null":{"aws:RequestTag/environment":"false"},"NumericGreaterThan":{"s3:max-keys":"100"},"NumericLessThanEquals":{"s3:object-size":"1048576"},"StringEquals":{"aws:RequestTag/environment":"production","s3:ExistingObjectTag/classification":["public","internal"]},"StringLike":{"s3:prefix":["${aws:username}/*","public/*"]},"StringNotEquals":{"aws:RequestTag/team":"external"}},"Effect":"Allow","Resource":"arn:aws:s3:::test-bucket-24922bd/*","Sid":"ComplexConditionsTest"}],"Version":"2012-10-17"},"role":"comprehensive-role-58ec1c3"},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","propertyDependencies":{"policy":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket"]},"role":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"]}},"sourcePosition":{"column":1,"line":81,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:iam/rolePolicy:RolePolicy","version":"7.0.0-alpha.0+dev"},"response":{"id":"comprehensive-role-58ec1c3:comprehensive-policy-77f33c5","object":{"id":"comprehensive-role-58ec1c3:comprehensive-policy-77f33c5","name":"comprehensive-policy-77f33c5","namePrefix":"","policy":"{\"Version\":\"2012-10-17\",\"Id\":\"test-policy-document-id\",\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:PutObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ActionArrayTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ActionStringTest\"},{\"Effect\":\"Deny\",\"NotAction\":[\"s3:GetObject\",\"s3:PutObject\"],\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotActionTest\"},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd/*\",\"arn:aws:s3:::test-bucket-24922bd/public/*\"],\"Sid\":\"ResourceArrayTest\"},{\"Action\":\"s3:GetBucketLocation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"ResourceStringTest\"},{\"Action\":\"s3:DeleteObject\",\"Effect\":\"Deny\",\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/protected/*\",\"Sid\":\"NotResourceTest\"},{\"Action\":\"s3:GetObject\",\"Condition\":{\"ArnEquals\":{\"aws:SourceArn\":\"arn:aws:s3:::test-bucket-24922bd\"},\"ArnLike\":{\"aws:SourceArn\":\"arn:aws:s3:::example-*\"},\"Bool\":{\"aws:MultiFactorAuthPresent\":\"true\",\"aws:SecureTransport\":\"true\"},\"DateGreaterThan\":{\"aws:RequestTime\":\"2023-01-01T00:00:00Z\"},\"DateLessThan\":{\"aws:RequestTime\":\"2025-01-01T00:00:00Z\"},\"ForAllValues:StringEquals\":{\"aws:RequestTag/team\":[\"dev\",\"ops\"]},\"ForAnyValue:StringLike\":{\"s3:object-tag-keys\":[\"environment\",\"team\"]},\"IpAddress\":{\"aws:SourceIp\":[\"203.0.113.0/24\",\"2001:DB8:1234:5678::/64\"]},\"IpAddressIfExists\":{\"aws:SourceIp\":\"203.0.113.0/24\"},\"Null\":{\"aws:RequestTag/environment\":\"false\"},\"NumericGreaterThan\":{\"s3:max-keys\":\"100\"},\"NumericLessThanEquals\":{\"s3:object-size\":\"1048576\"},\"StringEquals\":{\"aws:RequestTag/environment\":\"production\",\"s3:ExistingObjectTag/classification\":[\"public\",\"internal\"]},\"StringLike\":{\"s3:prefix\":[\"${aws:username}/*\",\"public/*\"]},\"StringNotEquals\":{\"aws:RequestTag/team\":\"external\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"ComplexConditionsTest\"}]}","role":"comprehensive-role-58ec1c3"},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::comprehensive-policy"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"dynamic-policy","properties":{"__defaults":["name"],"name":"dynamic-policy-ee16a6a","policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"StringEquals\":{\"s3:ExistingBucketName\":\"dynamic-bucket-3508d66\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::dynamic-bucket-3508d66\",\"arn:aws:s3:::dynamic-bucket-3508d66/*\"]}],\"Version\":\"2012-10-17\"}","role":"comprehensive-role-58ec1c3"},"type":"aws:iam/rolePolicy:RolePolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::dynamic-policy"},"response":{"id":"comprehensive-role-58ec1c3:dynamic-policy-ee16a6a","properties":{"id":"comprehensive-role-58ec1c3:dynamic-policy-ee16a6a","name":"dynamic-policy-ee16a6a","namePrefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"StringEquals\":{\"s3:ExistingBucketName\":\"dynamic-bucket-3508d66\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::dynamic-bucket-3508d66\",\"arn:aws:s3:::dynamic-bucket-3508d66/*\"]}]}","role":"comprehensive-role-58ec1c3"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::dynamic-bucket","urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"],"name":"dynamic-policy","object":{"policy":{"Statement":[{"Action":"s3:*","Condition":{"StringEquals":{"s3:ExistingBucketName":"dynamic-bucket-3508d66"}},"Effect":"Allow","Resource":["arn:aws:s3:::dynamic-bucket-3508d66","arn:aws:s3:::dynamic-bucket-3508d66/*"]}],"Version":"2012-10-17"},"role":"comprehensive-role-58ec1c3"},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","propertyDependencies":{"policy":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::dynamic-bucket"]},"role":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::comprehensive-role"]}},"sourcePosition":{"column":1,"line":293,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:iam/rolePolicy:RolePolicy","version":"7.0.0-alpha.0+dev"},"response":{"id":"comprehensive-role-58ec1c3:dynamic-policy-ee16a6a","object":{"id":"comprehensive-role-58ec1c3:dynamic-policy-ee16a6a","name":"dynamic-policy-ee16a6a","namePrefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"StringEquals\":{\"s3:ExistingBucketName\":\"dynamic-bucket-3508d66\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::dynamic-bucket-3508d66\",\"arn:aws:s3:::dynamic-bucket-3508d66/*\"]}]}","role":"comprehensive-role-58ec1c3"},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/rolePolicy:RolePolicy::dynamic-policy"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucket-policy","properties":{"__defaults":[],"bucket":"test-bucket-24922bd","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::616138583583:root\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"PrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotPrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\"]},\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2012-10-17\"}"},"type":"aws:s3/bucketPolicy:BucketPolicy","urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucketPolicy:BucketPolicy::bucket-policy"},"response":{"id":"test-bucket-24922bd","properties":{"bucket":"test-bucket-24922bd","id":"test-bucket-24922bd","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::616138583583:root\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"PrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotPrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\"]},\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2012-10-17\"}"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliasSpecs":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket","urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::base-role"],"name":"bucket-policy","object":{"bucket":"test-bucket-24922bd","policy":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::616138583583:root"},"Resource":"arn:aws:s3:::test-bucket-24922bd/*","Sid":"PrincipalTest"},{"Action":"s3:ListBucket","Effect":"Deny","NotPrincipal":{"AWS":["arn:aws:iam::616138583583:role/base-role-1ed1734","arn:aws:iam::616138583583:root"]},"Resource":"arn:aws:s3:::test-bucket-24922bd","Sid":"NotPrincipalTest"},{"Action":"s3:ListBucket","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"},"Resource":"arn:aws:s3:::test-bucket-24922bd"},{"Action":["s3:ListBucket"],"Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com"]},"Resource":["arn:aws:s3:::test-bucket-24922bd"]},{"Action":"s3:GetObject","Effect":"Deny","NotPrincipal":{"AWS":["arn:aws:iam::616138583583:role/base-role-1ed1734","arn:aws:iam::616138583583:root"]},"NotResource":"arn:aws:s3:::test-bucket-24922bd/logs/*","Sid":"ComprehensiveDenyTest"}],"Version":"2012-10-17"}},"parent":"urn:pulumi:test::iam-policy-doc-upgrade::pulumi:pulumi:Stack::iam-policy-doc-upgrade-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket"]},"policy":{"urns":["urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucket:Bucket::test-bucket","urn:pulumi:test::iam-policy-doc-upgrade::aws:iam/role:Role::base-role"]}},"sourcePosition":{"column":1,"line":203,"uri":"file:///private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade/index.ts"},"supportsPartialValues":true,"supportsResultReporting":true,"type":"aws:s3/bucketPolicy:BucketPolicy","version":"7.0.0-alpha.0+dev"},"response":{"id":"test-bucket-24922bd","object":{"bucket":"test-bucket-24922bd","id":"test-bucket-24922bd","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::616138583583:root\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd/*\",\"Sid\":\"PrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\",\"Sid\":\"NotPrincipalTest\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Resource\":\"arn:aws:s3:::test-bucket-24922bd\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\"]},\"Resource\":[\"arn:aws:s3:::test-bucket-24922bd\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Deny\",\"NotPrincipal\":{\"AWS\":[\"arn:aws:iam::616138583583:role/base-role-1ed1734\",\"arn:aws:iam::616138583583:root\"]},\"NotResource\":\"arn:aws:s3:::test-bucket-24922bd/logs/*\",\"Sid\":\"ComprehensiveDenyTest\"}],\"Version\":\"2012-10-17\"}"},"urn":"urn:pulumi:test::iam-policy-doc-upgrade::aws:s3/bucketPolicy:BucketPolicy::bucket-policy"}}
{"method":"/pulumirpc.LanguageRuntime/Run","request":{"configPropertyMap":{},"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade"},"loaderTarget":"127.0.0.1:53208","monitorAddress":"127.0.0.1:53207","organization":"organization","parallel":56,"program":".","project":"iam-policy-doc-upgrade","pwd":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestPolicyDocumentUpgrade1875752320/007/iam-policy-doc-upgrade","stack":"test"},"response":{}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}