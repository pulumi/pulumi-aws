{"method":"/pulumirpc.LanguageRuntime/GetPluginInfo","request":{},"response":{"version":"v1.19.0"}}
{"method":"/pulumirpc.LanguageRuntime/GetRequiredPackages","request":{"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketUpgrade2997865192/007/bucketv2-to-bucket","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketUpgrade2997865192/007/bucketv2-to-bucket"}},"response":{"packages":[{"kind":"resource","name":"aws"}]}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"outputValues"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"deletedWith"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"aliasSpecs"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"transforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"invokeTransforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"parameterization"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"customTimeouts":{},"name":"test-aws-bucket-migration-test","object":{},"sourcePosition":{"line":290,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fserver%2Fserver.go"},"supportsResultReporting":true,"type":"pulumi:pulumi:Stack"},"response":{"object":{},"urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test"}}
{"method":"/pulumirpc.ResourceProvider/Handshake","request":{"configureWithUrn":true,"engineAddress":"127.0.0.1:57306","programDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0","rootDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/GetPluginInfo","request":{},"response":{"version":"6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/CheckConfig","request":{"name":"default","news":{},"olds":{},"type":"pulumi:providers:aws","urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:providers:aws::default"},"response":{"inputs":{"region":"us-west-2","skipCredentialsValidation":"false","skipRegionValidation":"true"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"outputs":{},"urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test"},"response":{}}
{"method":"/pulumirpc.ResourceProvider/Configure","request":{"acceptResources":true,"acceptSecrets":true,"args":{"region":"us-west-2","skipCredentialsValidation":"false","skipRegionValidation":"true"},"id":"9cbf4562-15fd-4b7b-b6f5-c36e0dcdf779","name":"default","sendsOldInputs":true,"sendsOldInputsToDelete":true,"type":"pulumi:providers:aws","urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:providers:aws::default","variables":{"aws:config:region":"us-west-2","aws:config:skipCredentialsValidation":"false","aws:config:skipRegionValidation":"true"}},"response":{"supportsAutonamingConfiguration":true,"supportsPreview":true}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"loggingBucket","news":{"forceDestroy":true},"olds":{},"randomSeed":"WM5TzSOGCvjLPmHN3+XecYg68Q0lkN0sTEY5EZc2cwQ=","type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"},"response":{"inputs":{"__defaults":["bucket"],"bucket":"loggingbucket-59918bf","forceDestroy":true}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"replication","news":{"assumeRolePolicy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"s3.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","name":"tf-iam-role-replication-12345"},"olds":{},"randomSeed":"oJ5FyMII6SbVY+6+bXP3yWJ91+qyohq13gryGfFDYUE=","type":"aws:iam/role:Role","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/role:Role::replication"},"response":{"inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","path"],"assumeRolePolicy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"s3.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"tf-iam-role-replication-12345","path":"/"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"destinationBucket","news":{"forceDestroy":true,"versionings":[{"enabled":true}]},"olds":{},"randomSeed":"TN5sowneFBJjxLn3vWj4mnAmdGyyxtOVJUx1urEQFwI=","type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::destinationBucket"},"response":{"inputs":{"__defaults":["bucket"],"bucket":"destinationbucket-35dc1e4","forceDestroy":true,"versionings":[{"__defaults":["mfaDelete"],"enabled":true,"mfaDelete":false}]}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"replication","properties":{"__defaults":["forceDetachPolicies","maxSessionDuration","path"],"assumeRolePolicy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"s3.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"tf-iam-role-replication-12345","path":"/"},"type":"aws:iam/role:Role","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/role:Role::replication"},"response":{"id":"tf-iam-role-replication-12345","properties":{"arn":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"s3.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","createDate":"2025-05-12T16:53:36Z","description":"","forceDetachPolicies":false,"id":"tf-iam-role-replication-12345","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"tf-iam-role-replication-12345","namePrefix":"","path":"/","permissionsBoundary":"","uniqueId":"AROA5AWJ2ICQ7DK44SNQQ"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"name":"replication","object":{"assumeRolePolicy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"s3.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","name":"tf-iam-role-replication-12345"},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"assumeRolePolicy":{},"name":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:iam/role:Role"},"response":{"id":"tf-iam-role-replication-12345","object":{"arn":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"s3.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","createDate":"2025-05-12T16:53:36Z","description":"","forceDetachPolicies":false,"id":"tf-iam-role-replication-12345","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"tf-iam-role-replication-12345","namePrefix":"","path":"/","permissionsBoundary":"","uniqueId":"AROA5AWJ2ICQ7DK44SNQQ"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/role:Role::replication"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"loggingBucket","properties":{"__defaults":["bucket"],"bucket":"loggingbucket-59918bf","forceDestroy":true},"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"},"response":{"id":"loggingbucket-59918bf","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::loggingbucket-59918bf","bucket":"loggingbucket-59918bf","bucketDomainName":"loggingbucket-59918bf.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"loggingbucket-59918bf.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"loggingbucket-59918bf","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":false,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"aws:s3/bucket:Bucket"}}],"custom":true,"customTimeouts":{},"name":"loggingBucket","object":{"forceDestroy":true},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"forceDestroy":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketV2:BucketV2"},"response":{"id":"loggingbucket-59918bf","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::loggingbucket-59918bf","bucket":"loggingbucket-59918bf","bucketDomainName":"loggingbucket-59918bf.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"loggingbucket-59918bf.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"loggingbucket-59918bf","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":false,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"exampleBucketOwnershipControls","news":{"bucket":"loggingbucket-59918bf","rule":{"objectOwnership":"BucketOwnerPreferred"}},"olds":{},"randomSeed":"U9jH8IsCn/5BhVQBIxV19Lh+5s8AgMR+vYOVIkb48ac=","type":"aws:s3/bucketOwnershipControls:BucketOwnershipControls","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls"},"response":{"inputs":{"__defaults":[],"bucket":"loggingbucket-59918bf","rule":{"__defaults":[],"objectOwnership":"BucketOwnerPreferred"}}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"destinationBucket","properties":{"__defaults":["bucket"],"bucket":"destinationbucket-35dc1e4","forceDestroy":true,"versionings":[{"__defaults":["mfaDelete"],"enabled":true,"mfaDelete":false}]},"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::destinationBucket"},"response":{"id":"destinationbucket-35dc1e4","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::destinationbucket-35dc1e4","bucket":"destinationbucket-35dc1e4","bucketDomainName":"destinationbucket-35dc1e4.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"destinationbucket-35dc1e4.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"destinationbucket-35dc1e4","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":true,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"aws:s3/bucket:Bucket"}}],"custom":true,"customTimeouts":{},"name":"destinationBucket","object":{"forceDestroy":true,"versionings":[{"enabled":true}]},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"forceDestroy":{},"versionings":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketV2:BucketV2"},"response":{"id":"destinationbucket-35dc1e4","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::destinationbucket-35dc1e4","bucket":"destinationbucket-35dc1e4","bucketDomainName":"destinationbucket-35dc1e4.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"destinationbucket-35dc1e4.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"destinationbucket-35dc1e4","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":true,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::destinationBucket"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"migrationBucket","news":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}],"forceDestroy":true,"lifecycleRules":[{"enabled":true,"expirations":[{"days":30}],"id":"noncurrent","noncurrentVersionExpirations":[{"days":30}]},{"enabled":true,"id":"log","prefix":"log/","tags":{"autoclean":"true","rule":"log"},"transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}],"loggings":[{"targetBucket":"loggingbucket-59918bf","targetPrefix":"/log"}],"replicationConfigurations":[{"role":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","rules":[{"destinations":[{"bucket":"arn:aws:s3:::destinationbucket-35dc1e4","metrics":[{"minutes":15,"status":"Disabled"}],"replicationTimes":[{"minutes":15,"status":"Disabled"}]}],"filters":[{"tags":{}}],"id":"foobar","status":"Disabled"}]}],"serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"sseAlgorithm":"AES256"}]}]}],"versionings":[{"enabled":true}],"websites":[{"errorDocument":"error.html","indexDocument":"index.html","routingRules":"[{\n  \"Condition\": {\n    \"KeyPrefixEquals\": \"docs\"\n  },\n  \"Redirect\": {\n    \"ReplaceKeyPrefixWith\": \"documents/\"\n  }\n}]\n"}]},"olds":{},"randomSeed":"+JNxhgAaLZNO/yHOERmuZUcNshnUqwryrIOn7oyVGmY=","type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"},"response":{"inputs":{"__defaults":["bucket"],"bucket":"migrationbucket-e21dc23","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}],"forceDestroy":true,"lifecycleRules":[{"__defaults":[],"enabled":true,"expirations":[{"__defaults":[],"days":30}],"id":"noncurrent","noncurrentVersionExpirations":[{"__defaults":[],"days":30}]},{"__defaults":[],"enabled":true,"id":"log","prefix":"log/","tags":{"autoclean":"true","rule":"log"},"transitions":[{"__defaults":[],"days":30,"storageClass":"STANDARD_IA"}]}],"loggings":[{"__defaults":[],"targetBucket":"loggingbucket-59918bf","targetPrefix":"/log"}],"replicationConfigurations":[{"__defaults":[],"role":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","rules":[{"__defaults":[],"destinations":[{"__defaults":[],"bucket":"arn:aws:s3:::destinationbucket-35dc1e4","metrics":[{"__defaults":[],"minutes":15,"status":"Disabled"}],"replicationTimes":[{"__defaults":[],"minutes":15,"status":"Disabled"}]}],"filters":[{"__defaults":[],"tags":{}}],"id":"foobar","status":"Disabled"}]}],"serverSideEncryptionConfigurations":[{"__defaults":[],"rules":[{"__defaults":[],"applyServerSideEncryptionByDefaults":[{"__defaults":[],"sseAlgorithm":"AES256"}]}]}],"versionings":[{"__defaults":["mfaDelete"],"enabled":true,"mfaDelete":false}],"websites":[{"__defaults":[],"errorDocument":"error.html","indexDocument":"index.html","routingRules":"[{\n  \"Condition\": {\n    \"KeyPrefixEquals\": \"docs\"\n  },\n  \"Redirect\": {\n    \"ReplaceKeyPrefixWith\": \"documents/\"\n  }\n}]\n"}]}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"exampleBucketOwnershipControls","properties":{"__defaults":[],"bucket":"loggingbucket-59918bf","rule":{"__defaults":[],"objectOwnership":"BucketOwnerPreferred"}},"type":"aws:s3/bucketOwnershipControls:BucketOwnershipControls","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls"},"response":{"id":"loggingbucket-59918bf","properties":{"bucket":"loggingbucket-59918bf","id":"loggingbucket-59918bf","rule":{"objectOwnership":"BucketOwnerPreferred"}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"],"name":"exampleBucketOwnershipControls","object":{"bucket":"loggingbucket-59918bf","rule":{"objectOwnership":"BucketOwnerPreferred"}},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"]},"rule":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketOwnershipControls:BucketOwnershipControls"},"response":{"id":"loggingbucket-59918bf","object":{"bucket":"loggingbucket-59918bf","id":"loggingbucket-59918bf","rule":{"objectOwnership":"BucketOwnerPreferred"}},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"exampleBucketAcl","news":{"acl":"log-delivery-write","bucket":"loggingbucket-59918bf"},"olds":{},"randomSeed":"MkmzVLi8ojEN9t21/Xqb04hctPjDLnb5yyyQ86EhtGc=","type":"aws:s3/bucketAclV2:BucketAclV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketAclV2:BucketAclV2::exampleBucketAcl"},"response":{"inputs":{"__defaults":[],"acl":"log-delivery-write","bucket":"loggingbucket-59918bf"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"exampleBucketAcl","properties":{"__defaults":[],"acl":"log-delivery-write","bucket":"loggingbucket-59918bf"},"type":"aws:s3/bucketAclV2:BucketAclV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketAclV2:BucketAclV2::exampleBucketAcl"},"response":{"id":"loggingbucket-59918bf,log-delivery-write","properties":{"accessControlPolicy":{"grants":[{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"READ_ACP"},{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"WRITE"},{"grantee":{"displayName":"aws-contact+ci","emailAddress":"","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","type":"CanonicalUser","uri":""},"permission":"FULL_CONTROL"}],"owner":{"displayName":"aws-contact+ci","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3"}},"acl":"log-delivery-write","bucket":"loggingbucket-59918bf","expectedBucketOwner":"","id":"loggingbucket-59918bf,log-delivery-write"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"],"name":"exampleBucketAcl","object":{"acl":"log-delivery-write","bucket":"loggingbucket-59918bf"},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"acl":{},"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"]}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketAclV2:BucketAclV2"},"response":{"id":"loggingbucket-59918bf,log-delivery-write","object":{"accessControlPolicy":{"grants":[{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"READ_ACP"},{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"WRITE"},{"grantee":{"displayName":"aws-contact+ci","emailAddress":"","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","type":"CanonicalUser","uri":""},"permission":"FULL_CONTROL"}],"owner":{"displayName":"aws-contact+ci","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3"}},"acl":"log-delivery-write","bucket":"loggingbucket-59918bf","expectedBucketOwner":"","id":"loggingbucket-59918bf,log-delivery-write"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketAclV2:BucketAclV2::exampleBucketAcl"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"migrationBucket","properties":{"__defaults":["bucket"],"bucket":"migrationbucket-e21dc23","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}],"forceDestroy":true,"lifecycleRules":[{"__defaults":[],"enabled":true,"expirations":[{"__defaults":[],"days":30}],"id":"noncurrent","noncurrentVersionExpirations":[{"__defaults":[],"days":30}]},{"__defaults":[],"enabled":true,"id":"log","prefix":"log/","tags":{"autoclean":"true","rule":"log"},"transitions":[{"__defaults":[],"days":30,"storageClass":"STANDARD_IA"}]}],"loggings":[{"__defaults":[],"targetBucket":"loggingbucket-59918bf","targetPrefix":"/log"}],"replicationConfigurations":[{"__defaults":[],"role":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","rules":[{"__defaults":[],"destinations":[{"__defaults":[],"bucket":"arn:aws:s3:::destinationbucket-35dc1e4","metrics":[{"__defaults":[],"minutes":15,"status":"Disabled"}],"replicationTimes":[{"__defaults":[],"minutes":15,"status":"Disabled"}]}],"filters":[{"__defaults":[],"tags":{}}],"id":"foobar","status":"Disabled"}]}],"serverSideEncryptionConfigurations":[{"__defaults":[],"rules":[{"__defaults":[],"applyServerSideEncryptionByDefaults":[{"__defaults":[],"sseAlgorithm":"AES256"}]}]}],"versionings":[{"__defaults":["mfaDelete"],"enabled":true,"mfaDelete":false}],"websites":[{"__defaults":[],"errorDocument":"error.html","indexDocument":"index.html","routingRules":"[{\n  \"Condition\": {\n    \"KeyPrefixEquals\": \"docs\"\n  },\n  \"Redirect\": {\n    \"ReplaceKeyPrefixWith\": \"documents/\"\n  }\n}]\n"}]},"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"},"response":{"id":"migrationbucket-e21dc23","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::migrationbucket-e21dc23","bucket":"migrationbucket-e21dc23","bucketDomainName":"migrationbucket-e21dc23.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"migrationbucket-e21dc23.s3.us-west-2.amazonaws.com","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"migrationbucket-e21dc23","lifecycleRules":[{"abortIncompleteMultipartUploadDays":0,"enabled":true,"expirations":[{"date":"","days":30,"expiredObjectDeleteMarker":false}],"id":"noncurrent","noncurrentVersionExpirations":[{"days":30}],"noncurrentVersionTransitions":[],"prefix":"","tags":null,"transitions":[]},{"abortIncompleteMultipartUploadDays":0,"enabled":true,"expirations":[],"id":"log","noncurrentVersionExpirations":[],"noncurrentVersionTransitions":[],"prefix":"log/","tags":{"autoclean":"true","rule":"log"},"transitions":[{"date":"","days":30,"storageClass":"STANDARD_IA"}]}],"loggings":[{"targetBucket":"loggingbucket-59918bf","targetPrefix":"/log"}],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[{"role":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","rules":[{"deleteMarkerReplicationStatus":"","destinations":[{"accessControlTranslations":[],"accountId":"","bucket":"arn:aws:s3:::destinationbucket-35dc1e4","metrics":[{"minutes":15,"status":"Disabled"}],"replicaKmsKeyId":"","replicationTimes":[{"minutes":15,"status":"Disabled"}],"storageClass":""}],"filters":[{"prefix":"","tags":null}],"id":"foobar","prefix":"","priority":null,"sourceSelectionCriterias":[],"status":"Disabled"}]}],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":true,"mfaDelete":false}],"websiteDomain":"s3-website-us-west-2.amazonaws.com","websiteEndpoint":"migrationbucket-e21dc23.s3-website-us-west-2.amazonaws.com","websites":[{"errorDocument":"error.html","indexDocument":"index.html","redirectAllRequestsTo":"","routingRules":"[{\"Condition\":{\"KeyPrefixEquals\":\"docs\"},\"Redirect\":{\"ReplaceKeyPrefixWith\":\"documents/\"}}]"}]}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"aws:s3/bucket:Bucket"}}],"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:iam/role:Role::replication","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::destinationBucket","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"],"name":"migrationBucket","object":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}],"forceDestroy":true,"lifecycleRules":[{"enabled":true,"expirations":[{"days":30}],"id":"noncurrent","noncurrentVersionExpirations":[{"days":30}]},{"enabled":true,"id":"log","prefix":"log/","tags":{"autoclean":"true","rule":"log"},"transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}],"loggings":[{"targetBucket":"loggingbucket-59918bf","targetPrefix":"/log"}],"replicationConfigurations":[{"role":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","rules":[{"destinations":[{"bucket":"arn:aws:s3:::destinationbucket-35dc1e4","metrics":[{"minutes":15,"status":"Disabled"}],"replicationTimes":[{"minutes":15,"status":"Disabled"}]}],"filters":[{"tags":{}}],"id":"foobar","status":"Disabled"}]}],"serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"sseAlgorithm":"AES256"}]}]}],"versionings":[{"enabled":true}],"websites":[{"errorDocument":"error.html","indexDocument":"index.html","routingRules":"[{\n  \"Condition\": {\n    \"KeyPrefixEquals\": \"docs\"\n  },\n  \"Redirect\": {\n    \"ReplaceKeyPrefixWith\": \"documents/\"\n  }\n}]\n"}]},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"corsRules":{},"forceDestroy":{},"lifecycleRules":{},"loggings":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"]},"replicationConfigurations":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:iam/role:Role::replication","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::destinationBucket"]},"serverSideEncryptionConfigurations":{},"versionings":{},"websites":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketV2:BucketV2"},"response":{"id":"migrationbucket-e21dc23","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::migrationbucket-e21dc23","bucket":"migrationbucket-e21dc23","bucketDomainName":"migrationbucket-e21dc23.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"migrationbucket-e21dc23.s3.us-west-2.amazonaws.com","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"migrationbucket-e21dc23","lifecycleRules":[{"abortIncompleteMultipartUploadDays":0,"enabled":true,"expirations":[{"date":"","days":30,"expiredObjectDeleteMarker":false}],"id":"noncurrent","noncurrentVersionExpirations":[{"days":30}],"noncurrentVersionTransitions":[],"prefix":"","tags":null,"transitions":[]},{"abortIncompleteMultipartUploadDays":0,"enabled":true,"expirations":[],"id":"log","noncurrentVersionExpirations":[],"noncurrentVersionTransitions":[],"prefix":"log/","tags":{"autoclean":"true","rule":"log"},"transitions":[{"date":"","days":30,"storageClass":"STANDARD_IA"}]}],"loggings":[{"targetBucket":"loggingbucket-59918bf","targetPrefix":"/log"}],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[{"role":"arn:aws:iam::894850187425:role/tf-iam-role-replication-12345","rules":[{"deleteMarkerReplicationStatus":"","destinations":[{"accessControlTranslations":[],"accountId":"","bucket":"arn:aws:s3:::destinationbucket-35dc1e4","metrics":[{"minutes":15,"status":"Disabled"}],"replicaKmsKeyId":"","replicationTimes":[{"minutes":15,"status":"Disabled"}],"storageClass":""}],"filters":[{"prefix":"","tags":null}],"id":"foobar","prefix":"","priority":null,"sourceSelectionCriterias":[],"status":"Disabled"}]}],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":true,"mfaDelete":false}],"websiteDomain":"s3-website-us-west-2.amazonaws.com","websiteEndpoint":"migrationbucket-e21dc23.s3-website-us-west-2.amazonaws.com","websites":[{"errorDocument":"error.html","indexDocument":"index.html","redirectAllRequestsTo":"","routingRules":"[{\"Condition\":{\"KeyPrefixEquals\":\"docs\"},\"Redirect\":{\"ReplaceKeyPrefixWith\":\"documents/\"}}]"}]},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"replication","news":{"name":"tf-iam-role-policy-replication-12345","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:GetReplicationConfiguration\",\n        \"s3:ListBucket\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:GetObjectVersionForReplication\",\n        \"s3:GetObjectVersionAcl\",\n         \"s3:GetObjectVersionTagging\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23/*\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:ReplicateObject\",\n        \"s3:ReplicateDelete\",\n        \"s3:ReplicateTags\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:s3:::destinationbucket-35dc1e4/*\"\n    }\n  ]\n}\n"},"olds":{},"randomSeed":"qFbF0NJW4wKdQ8LoEf3BgaWEODyg3rwRrVPjQ+SeTdg=","type":"aws:iam/policy:Policy","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/policy:Policy::replication"},"response":{"inputs":{"__defaults":["path"],"name":"tf-iam-role-policy-replication-12345","path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:GetReplicationConfiguration\",\n        \"s3:ListBucket\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:GetObjectVersionForReplication\",\n        \"s3:GetObjectVersionAcl\",\n         \"s3:GetObjectVersionTagging\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23/*\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:ReplicateObject\",\n        \"s3:ReplicateDelete\",\n        \"s3:ReplicateTags\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:s3:::destinationbucket-35dc1e4/*\"\n    }\n  ]\n}\n"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"replication","properties":{"__defaults":["path"],"name":"tf-iam-role-policy-replication-12345","path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:GetReplicationConfiguration\",\n        \"s3:ListBucket\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:GetObjectVersionForReplication\",\n        \"s3:GetObjectVersionAcl\",\n         \"s3:GetObjectVersionTagging\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23/*\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:ReplicateObject\",\n        \"s3:ReplicateDelete\",\n        \"s3:ReplicateTags\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:s3:::destinationbucket-35dc1e4/*\"\n    }\n  ]\n}\n"},"type":"aws:iam/policy:Policy","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/policy:Policy::replication"},"response":{"id":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","properties":{"arn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","attachmentCount":0,"description":"","id":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","name":"tf-iam-role-policy-replication-12345","namePrefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"s3:GetReplicationConfiguration\",\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::migrationbucket-e21dc23\"]},{\"Action\":[\"s3:GetObjectVersionForReplication\",\"s3:GetObjectVersionAcl\",\"s3:GetObjectVersionTagging\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::migrationbucket-e21dc23/*\"]},{\"Action\":[\"s3:ReplicateObject\",\"s3:ReplicateDelete\",\"s3:ReplicateTags\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::destinationbucket-35dc1e4/*\"}],\"Version\":\"2012-10-17\"}","policyId":"ANPA5AWJ2ICQ4SGW45EON"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::destinationBucket","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"],"name":"replication","object":{"name":"tf-iam-role-policy-replication-12345","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:GetReplicationConfiguration\",\n        \"s3:ListBucket\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:GetObjectVersionForReplication\",\n        \"s3:GetObjectVersionAcl\",\n         \"s3:GetObjectVersionTagging\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:aws:s3:::migrationbucket-e21dc23/*\"\n      ]\n    },\n    {\n      \"Action\": [\n        \"s3:ReplicateObject\",\n        \"s3:ReplicateDelete\",\n        \"s3:ReplicateTags\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:s3:::destinationbucket-35dc1e4/*\"\n    }\n  ]\n}\n"},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"name":{},"policy":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::destinationBucket","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"]}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:iam/policy:Policy"},"response":{"id":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","object":{"arn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","attachmentCount":0,"description":"","id":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","name":"tf-iam-role-policy-replication-12345","namePrefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"s3:GetReplicationConfiguration\",\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::migrationbucket-e21dc23\"]},{\"Action\":[\"s3:GetObjectVersionForReplication\",\"s3:GetObjectVersionAcl\",\"s3:GetObjectVersionTagging\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::migrationbucket-e21dc23/*\"]},{\"Action\":[\"s3:ReplicateObject\",\"s3:ReplicateDelete\",\"s3:ReplicateTags\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::destinationbucket-35dc1e4/*\"}],\"Version\":\"2012-10-17\"}","policyId":"ANPA5AWJ2ICQ4SGW45EON"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/policy:Policy::replication"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"replication","news":{"policyArn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","role":"tf-iam-role-replication-12345"},"olds":{},"randomSeed":"nbi71UxOg4f+dPLlaFoUYztezdTM82arYlEqE6LpPf8=","type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/rolePolicyAttachment:RolePolicyAttachment::replication"},"response":{"inputs":{"__defaults":[],"policyArn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","role":"tf-iam-role-replication-12345"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"replication","properties":{"__defaults":[],"policyArn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","role":"tf-iam-role-replication-12345"},"type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/rolePolicyAttachment:RolePolicyAttachment::replication"},"response":{"id":"tf-iam-role-replication-12345-20250512165344375800000001","properties":{"id":"tf-iam-role-replication-12345-20250512165344375800000001","policyArn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","role":"tf-iam-role-replication-12345"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:iam/policy:Policy::replication","urn:pulumi:test::test-aws-bucket-migration::aws:iam/role:Role::replication"],"name":"replication","object":{"policyArn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","role":"tf-iam-role-replication-12345"},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"policyArn":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:iam/policy:Policy::replication"]},"role":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:iam/role:Role::replication"]}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment"},"response":{"id":"tf-iam-role-replication-12345-20250512165344375800000001","object":{"id":"tf-iam-role-replication-12345-20250512165344375800000001","policyArn":"arn:aws:iam::894850187425:policy/tf-iam-role-policy-replication-12345","role":"tf-iam-role-replication-12345"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:iam/rolePolicyAttachment:RolePolicyAttachment::replication"}}
{"method":"/pulumirpc.LanguageRuntime/Run","request":{"configPropertyMap":{},"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketUpgrade2997865192/007/bucketv2-to-bucket","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketUpgrade2997865192/007/bucketv2-to-bucket"},"loaderTarget":"127.0.0.1:57310","monitorAddress":"127.0.0.1:57309","organization":"organization","parallel":56,"program":".","project":"test-aws-bucket-migration","pwd":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketUpgrade2997865192/007/bucketv2-to-bucket","stack":"test"},"response":{}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}