{"method":"/pulumirpc.LanguageRuntime/GetPluginInfo","request":{},"response":{"version":"v1.19.0"}}
{"method":"/pulumirpc.LanguageRuntime/GetRequiredPackages","request":{"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketSidecarUpgrade2886591154/007/bucket-sidecar-renames","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketSidecarUpgrade2886591154/007/bucket-sidecar-renames"}},"response":{"packages":[{"kind":"resource","name":"aws"}]}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"outputValues"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"deletedWith"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"aliasSpecs"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"transforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"invokeTransforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"parameterization"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"customTimeouts":{},"name":"test-aws-bucket-migration-test","object":{},"sourcePosition":{"line":290,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fserver%2Fserver.go"},"supportsResultReporting":true,"type":"pulumi:pulumi:Stack"},"response":{"object":{},"urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test"}}
{"method":"/pulumirpc.ResourceProvider/Handshake","request":{"configureWithUrn":true,"engineAddress":"127.0.0.1:61581","programDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0","rootDirectory":"/Users/chall/.pulumi/plugins/resource-aws-v6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/GetPluginInfo","request":{},"response":{"version":"6.78.0"}}
{"method":"/pulumirpc.ResourceProvider/CheckConfig","request":{"name":"default","news":{},"olds":{},"type":"pulumi:providers:aws","urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:providers:aws::default"},"response":{"inputs":{"region":"us-west-2","skipCredentialsValidation":"false","skipRegionValidation":"true"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"outputs":{},"urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test"},"response":{}}
{"method":"/pulumirpc.ResourceProvider/Configure","request":{"acceptResources":true,"acceptSecrets":true,"args":{"region":"us-west-2","skipCredentialsValidation":"false","skipRegionValidation":"true"},"id":"13e0d472-6636-4b73-87c7-e03df4f203fe","name":"default","sendsOldInputs":true,"sendsOldInputsToDelete":true,"type":"pulumi:providers:aws","urn":"urn:pulumi:test::test-aws-bucket-migration::pulumi:providers:aws::default","variables":{"aws:config:region":"us-west-2","aws:config:skipCredentialsValidation":"false","aws:config:skipRegionValidation":"true"}},"response":{"supportsAutonamingConfiguration":true,"supportsPreview":true}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"migrationBucket","news":{"forceDestroy":true},"olds":{},"randomSeed":"sXVGNyjXh0KXTHrMeYJOy45cVbY9VpPOylKEF/UHlpk=","type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"},"response":{"inputs":{"__defaults":["bucket"],"bucket":"migrationbucket-77c2d21","forceDestroy":true}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"loggingBucket","news":{"forceDestroy":true},"olds":{},"randomSeed":"07MiY9h02LsIXmXatHu+zOG1+sE2FQ8DrDlIETpCve8=","type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"},"response":{"inputs":{"__defaults":["bucket"],"bucket":"loggingbucket-4f953f8","forceDestroy":true}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"loggingBucket","properties":{"__defaults":["bucket"],"bucket":"loggingbucket-4f953f8","forceDestroy":true},"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"},"response":{"id":"loggingbucket-4f953f8","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::loggingbucket-4f953f8","bucket":"loggingbucket-4f953f8","bucketDomainName":"loggingbucket-4f953f8.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"loggingbucket-4f953f8.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"loggingbucket-4f953f8","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":false,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"aws:s3/bucket:Bucket"}}],"custom":true,"customTimeouts":{},"name":"loggingBucket","object":{"forceDestroy":true},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"forceDestroy":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketV2:BucketV2"},"response":{"id":"loggingbucket-4f953f8","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::loggingbucket-4f953f8","bucket":"loggingbucket-4f953f8","bucketDomainName":"loggingbucket-4f953f8.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"loggingbucket-4f953f8.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"loggingbucket-4f953f8","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":false,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"exampleBucketOwnershipControls","news":{"bucket":"loggingbucket-4f953f8","rule":{"objectOwnership":"BucketOwnerPreferred"}},"olds":{},"randomSeed":"c4upDvU6xsM5nvIXgeuQVjH8pqUcVBKe3Y5GK4rIDqY=","type":"aws:s3/bucketOwnershipControls:BucketOwnershipControls","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls"},"response":{"inputs":{"__defaults":[],"bucket":"loggingbucket-4f953f8","rule":{"__defaults":[],"objectOwnership":"BucketOwnerPreferred"}}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"migrationBucket","properties":{"__defaults":["bucket"],"bucket":"migrationbucket-77c2d21","forceDestroy":true},"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"},"response":{"id":"migrationbucket-77c2d21","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::migrationbucket-77c2d21","bucket":"migrationbucket-77c2d21","bucketDomainName":"migrationbucket-77c2d21.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"migrationbucket-77c2d21.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"migrationbucket-77c2d21","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":false,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"aws:s3/bucket:Bucket"}}],"custom":true,"customTimeouts":{},"name":"migrationBucket","object":{"forceDestroy":true},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"forceDestroy":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketV2:BucketV2"},"response":{"id":"migrationbucket-77c2d21","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","acl":null,"arn":"arn:aws:s3:::migrationbucket-77c2d21","bucket":"migrationbucket-77c2d21","bucketDomainName":"migrationbucket-77c2d21.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"migrationbucket-77c2d21.s3.us-west-2.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3BJ6K6RIION7M","id":"migrationbucket-77c2d21","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-west-2","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"versionings":[{"enabled":false,"mfaDelete":false}],"websiteDomain":null,"websiteEndpoint":null,"websites":[]},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucketVersioning","news":{"bucket":"migrationbucket-77c2d21","versioningConfiguration":{"status":"Enabled"}},"olds":{},"randomSeed":"tBeVsjUt1ASeDLkj/uCACj3kHXLlAwgLwr4NHbiuzgg=","type":"aws:s3/bucketVersioningV2:BucketVersioningV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketVersioningV2:BucketVersioningV2::bucketVersioning"},"response":{"inputs":{"__defaults":[],"bucket":"migrationbucket-77c2d21","versioningConfiguration":{"__defaults":[],"status":"Enabled"}}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucketLogging","news":{"bucket":"migrationbucket-77c2d21","targetBucket":"loggingbucket-4f953f8","targetPrefix":"/log"},"olds":{},"randomSeed":"ih7qjkIinsEWxGz27WSqHQCX8d7ete6pbBpjCCZWoaY=","type":"aws:s3/bucketLoggingV2:BucketLoggingV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketLoggingV2:BucketLoggingV2::bucketLogging"},"response":{"inputs":{"__defaults":[],"bucket":"migrationbucket-77c2d21","targetBucket":"loggingbucket-4f953f8","targetPrefix":"/log"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucketCorsConfig","news":{"bucket":"migrationbucket-77c2d21","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}]},"olds":{},"randomSeed":"63t4cZ7sm+Vd23oFbLXAHQj/B/3h/+FfyxVp4DNAHMA=","type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::bucketCorsConfig"},"response":{"inputs":{"__defaults":[],"bucket":"migrationbucket-77c2d21","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}]}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucketWebsiteConfig","news":{"bucket":"migrationbucket-77c2d21","errorDocument":{"key":"error.html"},"indexDocument":{"suffix":"index.html"},"routingRules":[{"condition":{"keyPrefixEquals":"docs/"},"redirect":{"replaceKeyPrefixWith":"documents/"}}]},"olds":{},"randomSeed":"fmRS3+Q6BDxI/NrpgoWajaoBCEpia3Wy5eZWkDKKytE=","type":"aws:s3/bucketWebsiteConfigurationV2:BucketWebsiteConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketWebsiteConfigurationV2:BucketWebsiteConfigurationV2::bucketWebsiteConfig"},"response":{"inputs":{"__defaults":[],"bucket":"migrationbucket-77c2d21","errorDocument":{"__defaults":[],"key":"error.html"},"indexDocument":{"__defaults":[],"suffix":"index.html"},"routingRules":[{"__defaults":[],"condition":{"__defaults":[],"keyPrefixEquals":"docs/"},"redirect":{"__defaults":[],"replaceKeyPrefixWith":"documents/"}}]}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucketSse","news":{"bucket":"migrationbucket-77c2d21","rules":[{"applyServerSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"olds":{},"randomSeed":"qUFuBz/wWg4FOKQVTVKGTe0Dki4AYn6EXK24lhJX0z0=","type":"aws:s3/bucketServerSideEncryptionConfigurationV2:BucketServerSideEncryptionConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketServerSideEncryptionConfigurationV2:BucketServerSideEncryptionConfigurationV2::bucketSse"},"response":{"inputs":{"__defaults":[],"bucket":"migrationbucket-77c2d21","rules":[{"__defaults":[],"applyServerSideEncryptionByDefault":{"__defaults":[],"sseAlgorithm":"AES256"}}]}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucketLifecycleConfig","news":{"bucket":"migrationbucket-77c2d21","rules":[{"expiration":{"days":30},"id":"noncurrent","noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"},{"filter":{"and":{"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}},"id":"log","status":"Enabled","transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}]},"olds":{},"randomSeed":"zPNB+W97/A2wA+v9sd5hxRGltbX2OQNijh5eNnrAQo0=","type":"aws:s3/bucketLifecycleConfigurationV2:BucketLifecycleConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketLifecycleConfigurationV2:BucketLifecycleConfigurationV2::bucketLifecycleConfig"},"response":{"inputs":{"bucket":"migrationbucket-77c2d21","rules":[{"expiration":{"days":30},"id":"noncurrent","noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"},{"filter":{"and":{"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}},"id":"log","status":"Enabled","transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}]}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucketWebsiteConfig","properties":{"__defaults":[],"bucket":"migrationbucket-77c2d21","errorDocument":{"__defaults":[],"key":"error.html"},"indexDocument":{"__defaults":[],"suffix":"index.html"},"routingRules":[{"__defaults":[],"condition":{"__defaults":[],"keyPrefixEquals":"docs/"},"redirect":{"__defaults":[],"replaceKeyPrefixWith":"documents/"}}]},"type":"aws:s3/bucketWebsiteConfigurationV2:BucketWebsiteConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketWebsiteConfigurationV2:BucketWebsiteConfigurationV2::bucketWebsiteConfig"},"response":{"id":"migrationbucket-77c2d21","properties":{"bucket":"migrationbucket-77c2d21","errorDocument":{"key":"error.html"},"expectedBucketOwner":"","id":"migrationbucket-77c2d21","indexDocument":{"suffix":"index.html"},"redirectAllRequestsTo":null,"routingRuleDetails":"[{\"Condition\":{\"KeyPrefixEquals\":\"docs/\"},\"Redirect\":{\"ReplaceKeyPrefixWith\":\"documents/\"}}]","routingRules":[{"condition":{"httpErrorCodeReturnedEquals":"","keyPrefixEquals":"docs/"},"redirect":{"hostName":"","httpRedirectCode":"","protocol":"","replaceKeyPrefixWith":"documents/","replaceKeyWith":""}}],"websiteDomain":"s3-website-us-west-2.amazonaws.com","websiteEndpoint":"migrationbucket-77c2d21.s3-website-us-west-2.amazonaws.com"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"],"name":"bucketWebsiteConfig","object":{"bucket":"migrationbucket-77c2d21","errorDocument":{"key":"error.html"},"indexDocument":{"suffix":"index.html"},"routingRules":[{"condition":{"keyPrefixEquals":"docs/"},"redirect":{"replaceKeyPrefixWith":"documents/"}}]},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"]},"errorDocument":{},"indexDocument":{},"routingRules":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketWebsiteConfigurationV2:BucketWebsiteConfigurationV2"},"response":{"id":"migrationbucket-77c2d21","object":{"bucket":"migrationbucket-77c2d21","errorDocument":{"key":"error.html"},"expectedBucketOwner":"","id":"migrationbucket-77c2d21","indexDocument":{"suffix":"index.html"},"redirectAllRequestsTo":null,"routingRuleDetails":"[{\"Condition\":{\"KeyPrefixEquals\":\"docs/\"},\"Redirect\":{\"ReplaceKeyPrefixWith\":\"documents/\"}}]","routingRules":[{"condition":{"httpErrorCodeReturnedEquals":"","keyPrefixEquals":"docs/"},"redirect":{"hostName":"","httpRedirectCode":"","protocol":"","replaceKeyPrefixWith":"documents/","replaceKeyWith":""}}],"websiteDomain":"s3-website-us-west-2.amazonaws.com","websiteEndpoint":"migrationbucket-77c2d21.s3-website-us-west-2.amazonaws.com"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketWebsiteConfigurationV2:BucketWebsiteConfigurationV2::bucketWebsiteConfig"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"exampleBucketOwnershipControls","properties":{"__defaults":[],"bucket":"loggingbucket-4f953f8","rule":{"__defaults":[],"objectOwnership":"BucketOwnerPreferred"}},"type":"aws:s3/bucketOwnershipControls:BucketOwnershipControls","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls"},"response":{"id":"loggingbucket-4f953f8","properties":{"bucket":"loggingbucket-4f953f8","id":"loggingbucket-4f953f8","rule":{"objectOwnership":"BucketOwnerPreferred"}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"],"name":"exampleBucketOwnershipControls","object":{"bucket":"loggingbucket-4f953f8","rule":{"objectOwnership":"BucketOwnerPreferred"}},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"]},"rule":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketOwnershipControls:BucketOwnershipControls"},"response":{"id":"loggingbucket-4f953f8","object":{"bucket":"loggingbucket-4f953f8","id":"loggingbucket-4f953f8","rule":{"objectOwnership":"BucketOwnerPreferred"}},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"bucketAcl","news":{"acl":"log-delivery-write","bucket":"loggingbucket-4f953f8"},"olds":{},"randomSeed":"9aaA7z04QimppiRgRmXDFuMTTS5kKgcy28B4o9ZBf9M=","type":"aws:s3/bucketAclV2:BucketAclV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketAclV2:BucketAclV2::bucketAcl"},"response":{"inputs":{"__defaults":[],"acl":"log-delivery-write","bucket":"loggingbucket-4f953f8"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucketLogging","properties":{"__defaults":[],"bucket":"migrationbucket-77c2d21","targetBucket":"loggingbucket-4f953f8","targetPrefix":"/log"},"type":"aws:s3/bucketLoggingV2:BucketLoggingV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketLoggingV2:BucketLoggingV2::bucketLogging"},"response":{"id":"migrationbucket-77c2d21","properties":{"bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","targetBucket":"loggingbucket-4f953f8","targetGrants":[],"targetObjectKeyFormat":null,"targetPrefix":"/log"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"],"name":"bucketLogging","object":{"bucket":"migrationbucket-77c2d21","targetBucket":"loggingbucket-4f953f8","targetPrefix":"/log"},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"]},"targetBucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"]},"targetPrefix":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketLoggingV2:BucketLoggingV2"},"response":{"id":"migrationbucket-77c2d21","object":{"bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","targetBucket":"loggingbucket-4f953f8","targetGrants":[],"targetObjectKeyFormat":null,"targetPrefix":"/log"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketLoggingV2:BucketLoggingV2::bucketLogging"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucketSse","properties":{"__defaults":[],"bucket":"migrationbucket-77c2d21","rules":[{"__defaults":[],"applyServerSideEncryptionByDefault":{"__defaults":[],"sseAlgorithm":"AES256"}}]},"type":"aws:s3/bucketServerSideEncryptionConfigurationV2:BucketServerSideEncryptionConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketServerSideEncryptionConfigurationV2:BucketServerSideEncryptionConfigurationV2::bucketSse"},"response":{"id":"migrationbucket-77c2d21","properties":{"bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","rules":[{"applyServerSideEncryptionByDefault":{"kmsMasterKeyId":"","sseAlgorithm":"AES256"},"bucketKeyEnabled":null}]}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"],"name":"bucketSse","object":{"bucket":"migrationbucket-77c2d21","rules":[{"applyServerSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"]},"rules":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketServerSideEncryptionConfigurationV2:BucketServerSideEncryptionConfigurationV2"},"response":{"id":"migrationbucket-77c2d21","object":{"bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","rules":[{"applyServerSideEncryptionByDefault":{"kmsMasterKeyId":"","sseAlgorithm":"AES256"},"bucketKeyEnabled":null}]},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketServerSideEncryptionConfigurationV2:BucketServerSideEncryptionConfigurationV2::bucketSse"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucketAcl","properties":{"__defaults":[],"acl":"log-delivery-write","bucket":"loggingbucket-4f953f8"},"type":"aws:s3/bucketAclV2:BucketAclV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketAclV2:BucketAclV2::bucketAcl"},"response":{"id":"loggingbucket-4f953f8,log-delivery-write","properties":{"accessControlPolicy":{"grants":[{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"READ_ACP"},{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"WRITE"},{"grantee":{"displayName":"aws-contact+ci","emailAddress":"","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","type":"CanonicalUser","uri":""},"permission":"FULL_CONTROL"}],"owner":{"displayName":"aws-contact+ci","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3"}},"acl":"log-delivery-write","bucket":"loggingbucket-4f953f8","expectedBucketOwner":"","id":"loggingbucket-4f953f8,log-delivery-write"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketOwnershipControls:BucketOwnershipControls::exampleBucketOwnershipControls","urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"],"name":"bucketAcl","object":{"acl":"log-delivery-write","bucket":"loggingbucket-4f953f8"},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"acl":{},"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::loggingBucket"]}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketAclV2:BucketAclV2"},"response":{"id":"loggingbucket-4f953f8,log-delivery-write","object":{"accessControlPolicy":{"grants":[{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"READ_ACP"},{"grantee":{"displayName":"","emailAddress":"","id":"","type":"Group","uri":"http://acs.amazonaws.com/groups/s3/LogDelivery"},"permission":"WRITE"},{"grantee":{"displayName":"aws-contact+ci","emailAddress":"","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3","type":"CanonicalUser","uri":""},"permission":"FULL_CONTROL"}],"owner":{"displayName":"aws-contact+ci","id":"69c80caa37c265d93308334e41ddd9ee253ab9f1460124a3c64fa7e21f3ef5b3"}},"acl":"log-delivery-write","bucket":"loggingbucket-4f953f8","expectedBucketOwner":"","id":"loggingbucket-4f953f8,log-delivery-write"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketAclV2:BucketAclV2::bucketAcl"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucketCorsConfig","properties":{"__defaults":[],"bucket":"migrationbucket-77c2d21","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}]},"type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::bucketCorsConfig"},"response":{"id":"migrationbucket-77c2d21","properties":{"bucket":"migrationbucket-77c2d21","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["POST","PUT"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"id":"","maxAgeSeconds":3000}],"expectedBucketOwner":"","id":"migrationbucket-77c2d21"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"],"name":"bucketCorsConfig","object":{"bucket":"migrationbucket-77c2d21","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["PUT","POST"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"maxAgeSeconds":3000}]},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"]},"corsRules":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2"},"response":{"id":"migrationbucket-77c2d21","object":{"bucket":"migrationbucket-77c2d21","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["POST","PUT"],"allowedOrigins":["https://s3-website-test.mydomain.com"],"exposeHeaders":["ETag"],"id":"","maxAgeSeconds":3000}],"expectedBucketOwner":"","id":"migrationbucket-77c2d21"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::bucketCorsConfig"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucketVersioning","properties":{"__defaults":[],"bucket":"migrationbucket-77c2d21","versioningConfiguration":{"__defaults":[],"status":"Enabled"}},"type":"aws:s3/bucketVersioningV2:BucketVersioningV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketVersioningV2:BucketVersioningV2::bucketVersioning"},"response":{"id":"migrationbucket-77c2d21","properties":{"bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","mfa":null,"versioningConfiguration":{"mfaDelete":"","status":"Enabled"}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"],"name":"bucketVersioning","object":{"bucket":"migrationbucket-77c2d21","versioningConfiguration":{"status":"Enabled"}},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"]},"versioningConfiguration":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketVersioningV2:BucketVersioningV2"},"response":{"id":"migrationbucket-77c2d21","object":{"bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","mfa":null,"versioningConfiguration":{"mfaDelete":"","status":"Enabled"}},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketVersioningV2:BucketVersioningV2::bucketVersioning"}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"bucketLifecycleConfig","properties":{"bucket":"migrationbucket-77c2d21","rules":[{"expiration":{"days":30},"id":"noncurrent","noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"},{"filter":{"and":{"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}},"id":"log","status":"Enabled","transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}]},"type":"aws:s3/bucketLifecycleConfigurationV2:BucketLifecycleConfigurationV2","urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketLifecycleConfigurationV2:BucketLifecycleConfigurationV2::bucketLifecycleConfig"},"response":{"id":"migrationbucket-77c2d21","properties":{"__meta":"{\"schema_version\":\"1\"}","bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","rules":[{"expiration":{"days":30,"expiredObjectDeleteMarker":false},"id":"noncurrent","noncurrentVersionExpiration":{"noncurrentDays":30},"noncurrentVersionTransitions":[],"prefix":"","status":"Enabled","transitions":[]},{"filter":{"and":{"objectSizeGreaterThan":0,"objectSizeLessThan":0,"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}},"id":"log","noncurrentVersionTransitions":[],"prefix":"","status":"Enabled","transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}],"transitionDefaultMinimumObjectSize":"all_storage_classes_128K"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"],"name":"bucketLifecycleConfig","object":{"bucket":"migrationbucket-77c2d21","rules":[{"expiration":{"days":30},"id":"noncurrent","noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"},{"filter":{"and":{"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}},"id":"log","status":"Enabled","transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}]},"parent":"urn:pulumi:test::test-aws-bucket-migration::pulumi:pulumi:Stack::test-aws-bucket-migration-test","propertyDependencies":{"bucket":{"urns":["urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketV2:BucketV2::migrationBucket"]},"rules":{}},"sourcePosition":{"line":1357,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"aws:s3/bucketLifecycleConfigurationV2:BucketLifecycleConfigurationV2"},"response":{"id":"migrationbucket-77c2d21","object":{"__meta":"{\"schema_version\":\"1\"}","bucket":"migrationbucket-77c2d21","expectedBucketOwner":"","id":"migrationbucket-77c2d21","rules":[{"expiration":{"days":30,"expiredObjectDeleteMarker":false},"id":"noncurrent","noncurrentVersionExpiration":{"noncurrentDays":30},"noncurrentVersionTransitions":[],"prefix":"","status":"Enabled","transitions":[]},{"filter":{"and":{"objectSizeGreaterThan":0,"objectSizeLessThan":0,"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}},"id":"log","noncurrentVersionTransitions":[],"prefix":"","status":"Enabled","transitions":[{"days":30,"storageClass":"STANDARD_IA"}]}],"transitionDefaultMinimumObjectSize":"all_storage_classes_128K"},"urn":"urn:pulumi:test::test-aws-bucket-migration::aws:s3/bucketLifecycleConfigurationV2:BucketLifecycleConfigurationV2::bucketLifecycleConfig"}}
{"method":"/pulumirpc.LanguageRuntime/Run","request":{"configPropertyMap":{},"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketSidecarUpgrade2886591154/007/bucket-sidecar-renames","rootDirectory":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketSidecarUpgrade2886591154/007/bucket-sidecar-renames"},"loaderTarget":"127.0.0.1:61585","monitorAddress":"127.0.0.1:61584","organization":"organization","parallel":56,"program":".","project":"test-aws-bucket-migration","pwd":"/private/var/folders/3b/6mr1jkqx7r797ff75k27jfjc0000gn/T/TestS3BucketV2ToBucketSidecarUpgrade2886591154/007/bucket-sidecar-renames","stack":"test"},"response":{}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}
{"method":"/grpc.health.v1.Health/Check","request":{},"response":{"status":"SERVING"}}