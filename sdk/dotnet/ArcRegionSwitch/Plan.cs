// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Aws.ArcRegionSwitch
{
    /// <summary>
    /// Resource for managing an Amazon ARC Region Switch plan.
    /// 
    /// ## Example Usage
    /// 
    /// ### Basic Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using System.Text.Json;
    /// using Pulumi;
    /// using Aws = Pulumi.Aws;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Aws.Iam.Role("example", new()
    ///     {
    ///         Name = "arc-region-switch-role",
    ///         AssumeRolePolicy = JsonSerializer.Serialize(new Dictionary&lt;string, object?&gt;
    ///         {
    ///             ["Version"] = "2012-10-17",
    ///             ["Statement"] = new[]
    ///             {
    ///                 new Dictionary&lt;string, object?&gt;
    ///                 {
    ///                     ["Action"] = "sts:AssumeRole",
    ///                     ["Effect"] = "Allow",
    ///                     ["Principal"] = new Dictionary&lt;string, object?&gt;
    ///                     {
    ///                         ["Service"] = "arc-region-switch.amazonaws.com",
    ///                     },
    ///                 },
    ///             },
    ///         }),
    ///     });
    /// 
    ///     var examplePlan = new Aws.ArcRegionSwitch.Plan("example", new()
    ///     {
    ///         Name = "example-plan",
    ///         ExecutionRole = example.Arn,
    ///         RecoveryApproach = "activePassive",
    ///         Regions = new[]
    ///         {
    ///             "us-east-1",
    ///             "us-west-2",
    ///         },
    ///         PrimaryRegion = "us-east-1",
    ///         Workflows = new[]
    ///         {
    ///             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowArgs
    ///             {
    ///                 WorkflowTargetAction = "activate",
    ///                 WorkflowTargetRegion = "us-west-2",
    ///                 Steps = new[]
    ///                 {
    ///                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepArgs
    ///                     {
    ///                         Name = "manual-approval",
    ///                         ExecutionBlockType = "ManualApproval",
    ///                         ExecutionApprovalConfigs = new[]
    ///                         {
    ///                             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepExecutionApprovalConfigArgs
    ///                             {
    ///                                 ApprovalRole = example.Arn,
    ///                                 TimeoutMinutes = 60,
    ///                             },
    ///                         },
    ///                     },
    ///                 },
    ///             },
    ///             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowArgs
    ///             {
    ///                 WorkflowTargetAction = "deactivate",
    ///                 WorkflowTargetRegion = "us-east-1",
    ///                 Steps = new[]
    ///                 {
    ///                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepArgs
    ///                     {
    ///                         Name = "manual-approval",
    ///                         ExecutionBlockType = "ManualApproval",
    ///                         ExecutionApprovalConfigs = new[]
    ///                         {
    ///                             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepExecutionApprovalConfigArgs
    ///                             {
    ///                                 ApprovalRole = example.Arn,
    ///                                 TimeoutMinutes = 60,
    ///                             },
    ///                         },
    ///                     },
    ///                 },
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Complex Usage with Multiple Step Types
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Aws = Pulumi.Aws;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var complex = new Aws.ArcRegionSwitch.Plan("complex", new()
    ///     {
    ///         Name = "complex-plan",
    ///         ExecutionRole = exampleAwsIamRole.Arn,
    ///         RecoveryApproach = "activeActive",
    ///         Regions = new[]
    ///         {
    ///             "us-east-1",
    ///             "us-west-2",
    ///         },
    ///         Description = "Complex plan with multiple execution block types",
    ///         RecoveryTimeObjectiveMinutes = 60,
    ///         AssociatedAlarms = new[]
    ///         {
    ///             new Aws.ArcRegionSwitch.Inputs.PlanAssociatedAlarmArgs
    ///             {
    ///                 Name = "application-health-alarm",
    ///                 AlarmType = "applicationHealth",
    ///                 ResourceIdentifier = "arn:aws:cloudwatch:us-east-1:123456789012:alarm:MyAlarm",
    ///             },
    ///         },
    ///         Workflows = new[]
    ///         {
    ///             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowArgs
    ///             {
    ///                 WorkflowTargetAction = "activate",
    ///                 WorkflowTargetRegion = "us-west-2",
    ///                 Steps = new[]
    ///                 {
    ///                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepArgs
    ///                     {
    ///                         Name = "lambda-step",
    ///                         ExecutionBlockType = "CustomActionLambda",
    ///                         CustomActionLambdaConfigs = new[]
    ///                         {
    ///                             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepCustomActionLambdaConfigArgs
    ///                             {
    ///                                 RegionToRun = "activatingRegion",
    ///                                 RetryIntervalMinutes = 5,
    ///                                 TimeoutMinutes = 30,
    ///                                 Lambdas = new[]
    ///                                 {
    ///                                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepCustomActionLambdaConfigLambdaArgs
    ///                                     {
    ///                                         Arn = example.Arn,
    ///                                     },
    ///                                 },
    ///                             },
    ///                         },
    ///                     },
    ///                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepArgs
    ///                     {
    ///                         Name = "parallel-step",
    ///                         ExecutionBlockType = "Parallel",
    ///                         ParallelConfigs = new[]
    ///                         {
    ///                             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepParallelConfigArgs
    ///                             {
    ///                                 Steps = new[]
    ///                                 {
    ///                                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepParallelConfigStepArgs
    ///                                     {
    ///                                         Name = "asg-scaling",
    ///                                         ExecutionBlockType = "EC2AutoScaling",
    ///                                         Ec2AsgCapacityIncreaseConfigs = new[]
    ///                                         {
    ///                                             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepParallelConfigStepEc2AsgCapacityIncreaseConfigArgs
    ///                                             {
    ///                                                 Asgs = new[]
    ///                                                 {
    ///                                                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepParallelConfigStepEc2AsgCapacityIncreaseConfigAsgArgs
    ///                                                     {
    ///                                                         Arn = exampleAwsAutoscalingGroup.Arn,
    ///                                                     },
    ///                                                 },
    ///                                                 TargetPercent = 150,
    ///                                             },
    ///                                         },
    ///                                     },
    ///                                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepParallelConfigStepArgs
    ///                                     {
    ///                                         Name = "ecs-scaling",
    ///                                         ExecutionBlockType = "ECSServiceScaling",
    ///                                         EcsCapacityIncreaseConfigs = new[]
    ///                                         {
    ///                                             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepParallelConfigStepEcsCapacityIncreaseConfigArgs
    ///                                             {
    ///                                                 Services = new[]
    ///                                                 {
    ///                                                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepParallelConfigStepEcsCapacityIncreaseConfigServiceArgs
    ///                                                     {
    ///                                                         ClusterArn = exampleAwsEcsCluster.Arn,
    ///                                                         ServiceArn = exampleAwsEcsService.Arn,
    ///                                                     },
    ///                                                 },
    ///                                                 TargetPercent = 200,
    ///                                             },
    ///                                         },
    ///                                     },
    ///                                 },
    ///                             },
    ///                         },
    ///                     },
    ///                 },
    ///             },
    ///             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowArgs
    ///             {
    ///                 WorkflowTargetAction = "deactivate",
    ///                 WorkflowTargetRegion = "us-east-1",
    ///                 Steps = new[]
    ///                 {
    ///                     new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepArgs
    ///                     {
    ///                         Name = "route53-health-check",
    ///                         ExecutionBlockType = "Route53HealthCheck",
    ///                         Route53HealthCheckConfigs = new[]
    ///                         {
    ///                             new Aws.ArcRegionSwitch.Inputs.PlanWorkflowStepRoute53HealthCheckConfigArgs
    ///                             {
    ///                                 HostedZoneId = exampleAwsRoute53Zone.ZoneId,
    ///                                 RecordName = "api.example.com",
    ///                             },
    ///                         },
    ///                     },
    ///                 },
    ///             },
    ///         },
    ///         Trigger = new[]
    ///         {
    ///             
    ///             {
    ///                 { "action", "activate" },
    ///                 { "targetRegion", "us-west-2" },
    ///                 { "minDelayMinutesBetweenExecutions", 30 },
    ///                 { "conditions", new[]
    ///                 {
    ///                     
    ///                     {
    ///                         { "associatedAlarmName", "application-health-alarm" },
    ///                         { "condition", "red" },
    ///                     },
    ///                 } },
    ///             },
    ///         },
    ///         Tags = 
    ///         {
    ///             { "Environment", "production" },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// Using `pulumi import`, import Application Recovery Controller Region Switch Plan using the `arn`. For example:
    /// 
    /// ```sh
    /// $ pulumi import aws:arcregionswitch/plan:Plan example arn:aws:arcregionswitch:us-east-1:123456789012:plan/example-plan
    /// ```
    /// </summary>
    [AwsResourceType("aws:arcregionswitch/plan:Plan")]
    public partial class Plan : global::Pulumi.CustomResource
    {
        /// <summary>
        /// ARN of the plan.
        /// </summary>
        [Output("arn")]
        public Output<string> Arn { get; private set; } = null!;

        /// <summary>
        /// Set of CloudWatch alarms associated with the plan. See Associated Alarms below.
        /// </summary>
        [Output("associatedAlarms")]
        public Output<ImmutableArray<Outputs.PlanAssociatedAlarm>> AssociatedAlarms { get; private set; } = null!;

        /// <summary>
        /// Description of the plan.
        /// </summary>
        [Output("description")]
        public Output<string?> Description { get; private set; } = null!;

        /// <summary>
        /// ARN of the IAM role that ARC Region Switch will assume to execute the plan.
        /// </summary>
        [Output("executionRole")]
        public Output<string> ExecutionRole { get; private set; } = null!;

        /// <summary>
        /// Name of the plan. Must be unique within the account.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// Primary region for the plan.
        /// </summary>
        [Output("primaryRegion")]
        public Output<string?> PrimaryRegion { get; private set; } = null!;

        /// <summary>
        /// Recovery approach for the plan. Valid values: `activeActive`, `activePassive`.
        /// </summary>
        [Output("recoveryApproach")]
        public Output<string> RecoveryApproach { get; private set; } = null!;

        /// <summary>
        /// Recovery time objective in minutes.
        /// </summary>
        [Output("recoveryTimeObjectiveMinutes")]
        public Output<int?> RecoveryTimeObjectiveMinutes { get; private set; } = null!;

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Output("region")]
        public Output<string> Region { get; private set; } = null!;

        /// <summary>
        /// List of AWS regions involved in the plan.
        /// </summary>
        [Output("regions")]
        public Output<ImmutableArray<string>> Regions { get; private set; } = null!;

        /// <summary>
        /// Map of tags to assign to the resource. If configured with a provider `DefaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
        /// </summary>
        [Output("tags")]
        public Output<ImmutableDictionary<string, string>?> Tags { get; private set; } = null!;

        /// <summary>
        /// Map of tags assigned to the resource, including those inherited from the provider `DefaultTags` configuration block.
        /// </summary>
        [Output("tagsAll")]
        public Output<ImmutableDictionary<string, string>> TagsAll { get; private set; } = null!;

        [Output("timeouts")]
        public Output<Outputs.PlanTimeouts?> Timeouts { get; private set; } = null!;

        /// <summary>
        /// Set of triggers that can initiate the plan execution. See Trigger below.
        /// </summary>
        [Output("triggers")]
        public Output<ImmutableArray<Outputs.PlanTrigger>> Triggers { get; private set; } = null!;

        /// <summary>
        /// List of workflows that define the steps to execute. See Workflow below.
        /// 
        /// The following arguments are optional:
        /// </summary>
        [Output("workflows")]
        public Output<ImmutableArray<Outputs.PlanWorkflow>> Workflows { get; private set; } = null!;


        /// <summary>
        /// Create a Plan resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public Plan(string name, PlanArgs args, CustomResourceOptions? options = null)
            : base("aws:arcregionswitch/plan:Plan", name, args ?? new PlanArgs(), MakeResourceOptions(options, ""))
        {
        }

        private Plan(string name, Input<string> id, PlanState? state = null, CustomResourceOptions? options = null)
            : base("aws:arcregionswitch/plan:Plan", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing Plan resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static Plan Get(string name, Input<string> id, PlanState? state = null, CustomResourceOptions? options = null)
        {
            return new Plan(name, id, state, options);
        }
    }

    public sealed class PlanArgs : global::Pulumi.ResourceArgs
    {
        [Input("associatedAlarms")]
        private InputList<Inputs.PlanAssociatedAlarmArgs>? _associatedAlarms;

        /// <summary>
        /// Set of CloudWatch alarms associated with the plan. See Associated Alarms below.
        /// </summary>
        public InputList<Inputs.PlanAssociatedAlarmArgs> AssociatedAlarms
        {
            get => _associatedAlarms ?? (_associatedAlarms = new InputList<Inputs.PlanAssociatedAlarmArgs>());
            set => _associatedAlarms = value;
        }

        /// <summary>
        /// Description of the plan.
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// ARN of the IAM role that ARC Region Switch will assume to execute the plan.
        /// </summary>
        [Input("executionRole", required: true)]
        public Input<string> ExecutionRole { get; set; } = null!;

        /// <summary>
        /// Name of the plan. Must be unique within the account.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// Primary region for the plan.
        /// </summary>
        [Input("primaryRegion")]
        public Input<string>? PrimaryRegion { get; set; }

        /// <summary>
        /// Recovery approach for the plan. Valid values: `activeActive`, `activePassive`.
        /// </summary>
        [Input("recoveryApproach", required: true)]
        public Input<string> RecoveryApproach { get; set; } = null!;

        /// <summary>
        /// Recovery time objective in minutes.
        /// </summary>
        [Input("recoveryTimeObjectiveMinutes")]
        public Input<int>? RecoveryTimeObjectiveMinutes { get; set; }

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Input("region")]
        public Input<string>? Region { get; set; }

        [Input("regions", required: true)]
        private InputList<string>? _regions;

        /// <summary>
        /// List of AWS regions involved in the plan.
        /// </summary>
        public InputList<string> Regions
        {
            get => _regions ?? (_regions = new InputList<string>());
            set => _regions = value;
        }

        [Input("tags")]
        private InputMap<string>? _tags;

        /// <summary>
        /// Map of tags to assign to the resource. If configured with a provider `DefaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
        /// </summary>
        public InputMap<string> Tags
        {
            get => _tags ?? (_tags = new InputMap<string>());
            set => _tags = value;
        }

        [Input("timeouts")]
        public Input<Inputs.PlanTimeoutsArgs>? Timeouts { get; set; }

        [Input("triggers")]
        private InputList<Inputs.PlanTriggerArgs>? _triggers;

        /// <summary>
        /// Set of triggers that can initiate the plan execution. See Trigger below.
        /// </summary>
        public InputList<Inputs.PlanTriggerArgs> Triggers
        {
            get => _triggers ?? (_triggers = new InputList<Inputs.PlanTriggerArgs>());
            set => _triggers = value;
        }

        [Input("workflows")]
        private InputList<Inputs.PlanWorkflowArgs>? _workflows;

        /// <summary>
        /// List of workflows that define the steps to execute. See Workflow below.
        /// 
        /// The following arguments are optional:
        /// </summary>
        public InputList<Inputs.PlanWorkflowArgs> Workflows
        {
            get => _workflows ?? (_workflows = new InputList<Inputs.PlanWorkflowArgs>());
            set => _workflows = value;
        }

        public PlanArgs()
        {
        }
        public static new PlanArgs Empty => new PlanArgs();
    }

    public sealed class PlanState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// ARN of the plan.
        /// </summary>
        [Input("arn")]
        public Input<string>? Arn { get; set; }

        [Input("associatedAlarms")]
        private InputList<Inputs.PlanAssociatedAlarmGetArgs>? _associatedAlarms;

        /// <summary>
        /// Set of CloudWatch alarms associated with the plan. See Associated Alarms below.
        /// </summary>
        public InputList<Inputs.PlanAssociatedAlarmGetArgs> AssociatedAlarms
        {
            get => _associatedAlarms ?? (_associatedAlarms = new InputList<Inputs.PlanAssociatedAlarmGetArgs>());
            set => _associatedAlarms = value;
        }

        /// <summary>
        /// Description of the plan.
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// ARN of the IAM role that ARC Region Switch will assume to execute the plan.
        /// </summary>
        [Input("executionRole")]
        public Input<string>? ExecutionRole { get; set; }

        /// <summary>
        /// Name of the plan. Must be unique within the account.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// Primary region for the plan.
        /// </summary>
        [Input("primaryRegion")]
        public Input<string>? PrimaryRegion { get; set; }

        /// <summary>
        /// Recovery approach for the plan. Valid values: `activeActive`, `activePassive`.
        /// </summary>
        [Input("recoveryApproach")]
        public Input<string>? RecoveryApproach { get; set; }

        /// <summary>
        /// Recovery time objective in minutes.
        /// </summary>
        [Input("recoveryTimeObjectiveMinutes")]
        public Input<int>? RecoveryTimeObjectiveMinutes { get; set; }

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Input("region")]
        public Input<string>? Region { get; set; }

        [Input("regions")]
        private InputList<string>? _regions;

        /// <summary>
        /// List of AWS regions involved in the plan.
        /// </summary>
        public InputList<string> Regions
        {
            get => _regions ?? (_regions = new InputList<string>());
            set => _regions = value;
        }

        [Input("tags")]
        private InputMap<string>? _tags;

        /// <summary>
        /// Map of tags to assign to the resource. If configured with a provider `DefaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
        /// </summary>
        public InputMap<string> Tags
        {
            get => _tags ?? (_tags = new InputMap<string>());
            set => _tags = value;
        }

        [Input("tagsAll")]
        private InputMap<string>? _tagsAll;

        /// <summary>
        /// Map of tags assigned to the resource, including those inherited from the provider `DefaultTags` configuration block.
        /// </summary>
        public InputMap<string> TagsAll
        {
            get => _tagsAll ?? (_tagsAll = new InputMap<string>());
            set => _tagsAll = value;
        }

        [Input("timeouts")]
        public Input<Inputs.PlanTimeoutsGetArgs>? Timeouts { get; set; }

        [Input("triggers")]
        private InputList<Inputs.PlanTriggerGetArgs>? _triggers;

        /// <summary>
        /// Set of triggers that can initiate the plan execution. See Trigger below.
        /// </summary>
        public InputList<Inputs.PlanTriggerGetArgs> Triggers
        {
            get => _triggers ?? (_triggers = new InputList<Inputs.PlanTriggerGetArgs>());
            set => _triggers = value;
        }

        [Input("workflows")]
        private InputList<Inputs.PlanWorkflowGetArgs>? _workflows;

        /// <summary>
        /// List of workflows that define the steps to execute. See Workflow below.
        /// 
        /// The following arguments are optional:
        /// </summary>
        public InputList<Inputs.PlanWorkflowGetArgs> Workflows
        {
            get => _workflows ?? (_workflows = new InputList<Inputs.PlanWorkflowGetArgs>());
            set => _workflows = value;
        }

        public PlanState()
        {
        }
        public static new PlanState Empty => new PlanState();
    }
}
