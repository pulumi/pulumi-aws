// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Aws.Rds
{
    public static class GetClusterSnapshot
    {
        /// <summary>
        /// Use this data source to get information about a DB Cluster Snapshot for use when provisioning DB clusters.
        /// 
        /// &gt; **NOTE:** This data source does not apply to snapshots created on DB Instances.
        /// See the `aws.rds.Snapshot` data source for DB Instance snapshots.
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Aws = Pulumi.Aws;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var developmentFinalSnapshot = Aws.Rds.GetClusterSnapshot.Invoke(new()
        ///     {
        ///         DbClusterIdentifier = "development_cluster",
        ///         MostRecent = true,
        ///     });
        /// 
        ///     // Use the last snapshot of the dev database before it was destroyed to create
        ///     // a new dev database.
        ///     var aurora = new Aws.Rds.Cluster("aurora", new()
        ///     {
        ///         ClusterIdentifier = "development_cluster",
        ///         SnapshotIdentifier = developmentFinalSnapshot.Apply(getClusterSnapshotResult =&gt; getClusterSnapshotResult.Id),
        ///         DbSubnetGroupName = "my_db_subnet_group",
        ///     });
        /// 
        ///     var auroraClusterInstance = new Aws.Rds.ClusterInstance("aurora", new()
        ///     {
        ///         ClusterIdentifier = aurora.Id,
        ///         InstanceClass = Aws.Rds.InstanceType.T2_Small,
        ///         DbSubnetGroupName = "my_db_subnet_group",
        ///     });
        /// 
        /// });
        /// ```
        /// </summary>
        public static Task<GetClusterSnapshotResult> InvokeAsync(GetClusterSnapshotArgs? args = null, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.InvokeAsync<GetClusterSnapshotResult>("aws:rds/getClusterSnapshot:getClusterSnapshot", args ?? new GetClusterSnapshotArgs(), options.WithDefaults());

        /// <summary>
        /// Use this data source to get information about a DB Cluster Snapshot for use when provisioning DB clusters.
        /// 
        /// &gt; **NOTE:** This data source does not apply to snapshots created on DB Instances.
        /// See the `aws.rds.Snapshot` data source for DB Instance snapshots.
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Aws = Pulumi.Aws;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var developmentFinalSnapshot = Aws.Rds.GetClusterSnapshot.Invoke(new()
        ///     {
        ///         DbClusterIdentifier = "development_cluster",
        ///         MostRecent = true,
        ///     });
        /// 
        ///     // Use the last snapshot of the dev database before it was destroyed to create
        ///     // a new dev database.
        ///     var aurora = new Aws.Rds.Cluster("aurora", new()
        ///     {
        ///         ClusterIdentifier = "development_cluster",
        ///         SnapshotIdentifier = developmentFinalSnapshot.Apply(getClusterSnapshotResult =&gt; getClusterSnapshotResult.Id),
        ///         DbSubnetGroupName = "my_db_subnet_group",
        ///     });
        /// 
        ///     var auroraClusterInstance = new Aws.Rds.ClusterInstance("aurora", new()
        ///     {
        ///         ClusterIdentifier = aurora.Id,
        ///         InstanceClass = Aws.Rds.InstanceType.T2_Small,
        ///         DbSubnetGroupName = "my_db_subnet_group",
        ///     });
        /// 
        /// });
        /// ```
        /// </summary>
        public static Output<GetClusterSnapshotResult> Invoke(GetClusterSnapshotInvokeArgs? args = null, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.Invoke<GetClusterSnapshotResult>("aws:rds/getClusterSnapshot:getClusterSnapshot", args ?? new GetClusterSnapshotInvokeArgs(), options.WithDefaults());

        /// <summary>
        /// Use this data source to get information about a DB Cluster Snapshot for use when provisioning DB clusters.
        /// 
        /// &gt; **NOTE:** This data source does not apply to snapshots created on DB Instances.
        /// See the `aws.rds.Snapshot` data source for DB Instance snapshots.
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Aws = Pulumi.Aws;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var developmentFinalSnapshot = Aws.Rds.GetClusterSnapshot.Invoke(new()
        ///     {
        ///         DbClusterIdentifier = "development_cluster",
        ///         MostRecent = true,
        ///     });
        /// 
        ///     // Use the last snapshot of the dev database before it was destroyed to create
        ///     // a new dev database.
        ///     var aurora = new Aws.Rds.Cluster("aurora", new()
        ///     {
        ///         ClusterIdentifier = "development_cluster",
        ///         SnapshotIdentifier = developmentFinalSnapshot.Apply(getClusterSnapshotResult =&gt; getClusterSnapshotResult.Id),
        ///         DbSubnetGroupName = "my_db_subnet_group",
        ///     });
        /// 
        ///     var auroraClusterInstance = new Aws.Rds.ClusterInstance("aurora", new()
        ///     {
        ///         ClusterIdentifier = aurora.Id,
        ///         InstanceClass = Aws.Rds.InstanceType.T2_Small,
        ///         DbSubnetGroupName = "my_db_subnet_group",
        ///     });
        /// 
        /// });
        /// ```
        /// </summary>
        public static Output<GetClusterSnapshotResult> Invoke(GetClusterSnapshotInvokeArgs args, InvokeOutputOptions options)
            => global::Pulumi.Deployment.Instance.Invoke<GetClusterSnapshotResult>("aws:rds/getClusterSnapshot:getClusterSnapshot", args ?? new GetClusterSnapshotInvokeArgs(), options.WithDefaults());
    }


    public sealed class GetClusterSnapshotArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// Returns the list of snapshots created by the specific db_cluster
        /// </summary>
        [Input("dbClusterIdentifier")]
        public string? DbClusterIdentifier { get; set; }

        /// <summary>
        /// Returns information on a specific snapshot_id.
        /// </summary>
        [Input("dbClusterSnapshotIdentifier")]
        public string? DbClusterSnapshotIdentifier { get; set; }

        /// <summary>
        /// Set this value to true to include manual DB Cluster Snapshots that are public and can be
        /// copied or restored by any AWS account, otherwise set this value to false. The default is `false`.
        /// </summary>
        [Input("includePublic")]
        public bool? IncludePublic { get; set; }

        /// <summary>
        /// Set this value to true to include shared manual DB Cluster Snapshots from other
        /// AWS accounts that this AWS account has been given permission to copy or restore, otherwise set this value to false.
        /// The default is `false`.
        /// </summary>
        [Input("includeShared")]
        public bool? IncludeShared { get; set; }

        /// <summary>
        /// If more than one result is returned, use the most recent Snapshot.
        /// </summary>
        [Input("mostRecent")]
        public bool? MostRecent { get; set; }

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Input("region")]
        public string? Region { get; set; }

        /// <summary>
        /// Type of snapshots to be returned. If you don't specify a SnapshotType
        /// value, then both automated and manual DB cluster snapshots are returned. Shared and public DB Cluster Snapshots are not
        /// included in the returned results by default. Possible values are, `automated`, `manual`, `shared`, `public` and `awsbackup`.
        /// </summary>
        [Input("snapshotType")]
        public string? SnapshotType { get; set; }

        [Input("tags")]
        private Dictionary<string, string>? _tags;

        /// <summary>
        /// Mapping of tags, each pair of which must exactly match
        /// a pair on the desired DB cluster snapshot.
        /// </summary>
        public Dictionary<string, string> Tags
        {
            get => _tags ?? (_tags = new Dictionary<string, string>());
            set => _tags = value;
        }

        public GetClusterSnapshotArgs()
        {
        }
        public static new GetClusterSnapshotArgs Empty => new GetClusterSnapshotArgs();
    }

    public sealed class GetClusterSnapshotInvokeArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// Returns the list of snapshots created by the specific db_cluster
        /// </summary>
        [Input("dbClusterIdentifier")]
        public Input<string>? DbClusterIdentifier { get; set; }

        /// <summary>
        /// Returns information on a specific snapshot_id.
        /// </summary>
        [Input("dbClusterSnapshotIdentifier")]
        public Input<string>? DbClusterSnapshotIdentifier { get; set; }

        /// <summary>
        /// Set this value to true to include manual DB Cluster Snapshots that are public and can be
        /// copied or restored by any AWS account, otherwise set this value to false. The default is `false`.
        /// </summary>
        [Input("includePublic")]
        public Input<bool>? IncludePublic { get; set; }

        /// <summary>
        /// Set this value to true to include shared manual DB Cluster Snapshots from other
        /// AWS accounts that this AWS account has been given permission to copy or restore, otherwise set this value to false.
        /// The default is `false`.
        /// </summary>
        [Input("includeShared")]
        public Input<bool>? IncludeShared { get; set; }

        /// <summary>
        /// If more than one result is returned, use the most recent Snapshot.
        /// </summary>
        [Input("mostRecent")]
        public Input<bool>? MostRecent { get; set; }

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Input("region")]
        public Input<string>? Region { get; set; }

        /// <summary>
        /// Type of snapshots to be returned. If you don't specify a SnapshotType
        /// value, then both automated and manual DB cluster snapshots are returned. Shared and public DB Cluster Snapshots are not
        /// included in the returned results by default. Possible values are, `automated`, `manual`, `shared`, `public` and `awsbackup`.
        /// </summary>
        [Input("snapshotType")]
        public Input<string>? SnapshotType { get; set; }

        [Input("tags")]
        private InputMap<string>? _tags;

        /// <summary>
        /// Mapping of tags, each pair of which must exactly match
        /// a pair on the desired DB cluster snapshot.
        /// </summary>
        public InputMap<string> Tags
        {
            get => _tags ?? (_tags = new InputMap<string>());
            set => _tags = value;
        }

        public GetClusterSnapshotInvokeArgs()
        {
        }
        public static new GetClusterSnapshotInvokeArgs Empty => new GetClusterSnapshotInvokeArgs();
    }


    [OutputType]
    public sealed class GetClusterSnapshotResult
    {
        /// <summary>
        /// Allocated storage size in gigabytes (GB).
        /// </summary>
        public readonly int AllocatedStorage;
        /// <summary>
        /// List of EC2 Availability Zones that instances in the DB cluster snapshot can be restored in.
        /// </summary>
        public readonly ImmutableArray<string> AvailabilityZones;
        /// <summary>
        /// Specifies the DB cluster identifier of the DB cluster that this DB cluster snapshot was created from.
        /// </summary>
        public readonly string? DbClusterIdentifier;
        /// <summary>
        /// The ARN for the DB Cluster Snapshot.
        /// </summary>
        public readonly string DbClusterSnapshotArn;
        public readonly string? DbClusterSnapshotIdentifier;
        /// <summary>
        /// Name of the database engine.
        /// </summary>
        public readonly string Engine;
        /// <summary>
        /// Version of the database engine for this DB cluster snapshot.
        /// </summary>
        public readonly string EngineVersion;
        /// <summary>
        /// The provider-assigned unique ID for this managed resource.
        /// </summary>
        public readonly string Id;
        public readonly bool? IncludePublic;
        public readonly bool? IncludeShared;
        /// <summary>
        /// If storageEncrypted is true, the AWS KMS key identifier for the encrypted DB cluster snapshot.
        /// </summary>
        public readonly string KmsKeyId;
        /// <summary>
        /// License model information for the restored DB cluster.
        /// </summary>
        public readonly string LicenseModel;
        public readonly bool? MostRecent;
        /// <summary>
        /// Port that the DB cluster was listening on at the time of the snapshot.
        /// </summary>
        public readonly int Port;
        public readonly string Region;
        /// <summary>
        /// Time when the snapshot was taken, in Universal Coordinated Time (UTC).
        /// </summary>
        public readonly string SnapshotCreateTime;
        public readonly string? SnapshotType;
        public readonly string SourceDbClusterSnapshotArn;
        /// <summary>
        /// Status of this DB Cluster Snapshot.
        /// </summary>
        public readonly string Status;
        /// <summary>
        /// Whether the DB cluster snapshot is encrypted.
        /// </summary>
        public readonly bool StorageEncrypted;
        /// <summary>
        /// Map of tags for the resource.
        /// </summary>
        public readonly ImmutableDictionary<string, string> Tags;
        /// <summary>
        /// VPC ID associated with the DB cluster snapshot.
        /// </summary>
        public readonly string VpcId;

        [OutputConstructor]
        private GetClusterSnapshotResult(
            int allocatedStorage,

            ImmutableArray<string> availabilityZones,

            string? dbClusterIdentifier,

            string dbClusterSnapshotArn,

            string? dbClusterSnapshotIdentifier,

            string engine,

            string engineVersion,

            string id,

            bool? includePublic,

            bool? includeShared,

            string kmsKeyId,

            string licenseModel,

            bool? mostRecent,

            int port,

            string region,

            string snapshotCreateTime,

            string? snapshotType,

            string sourceDbClusterSnapshotArn,

            string status,

            bool storageEncrypted,

            ImmutableDictionary<string, string> tags,

            string vpcId)
        {
            AllocatedStorage = allocatedStorage;
            AvailabilityZones = availabilityZones;
            DbClusterIdentifier = dbClusterIdentifier;
            DbClusterSnapshotArn = dbClusterSnapshotArn;
            DbClusterSnapshotIdentifier = dbClusterSnapshotIdentifier;
            Engine = engine;
            EngineVersion = engineVersion;
            Id = id;
            IncludePublic = includePublic;
            IncludeShared = includeShared;
            KmsKeyId = kmsKeyId;
            LicenseModel = licenseModel;
            MostRecent = mostRecent;
            Port = port;
            Region = region;
            SnapshotCreateTime = snapshotCreateTime;
            SnapshotType = snapshotType;
            SourceDbClusterSnapshotArn = sourceDbClusterSnapshotArn;
            Status = status;
            StorageEncrypted = storageEncrypted;
            Tags = tags;
            VpcId = vpcId;
        }
    }
}
