// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Aws.Ec2
{
    /// <summary>
    /// Provides EC2 allowed images settings for an AWS account. This feature allows you to control which AMIs can be used to launch EC2 instances in your account based on specified criteria.
    /// 
    /// For more information about the image criteria that can be set, see the [AWS documentation on Allowed AMIs JSON configuration](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html#allowed-amis-json-configuration).
    /// 
    /// &gt; **NOTE:** The AWS API does not delete this resource. When you run `Destroy`, the provider will attempt to disable the setting.
    /// 
    /// &gt; **NOTE:** There is only one allowed images settings configuration per AWS account and region. Creating this resource will configure the account-level settings.
    /// 
    /// ## Example Usage
    /// 
    /// ### Enable with Amazon AMIs only
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Aws = Pulumi.Aws;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Aws.Ec2.AllowedImagesSettings("example", new()
    ///     {
    ///         State = "enabled",
    ///         ImageCriterions = new[]
    ///         {
    ///             new Aws.Ec2.Inputs.AllowedImagesSettingsImageCriterionArgs
    ///             {
    ///                 ImageProviders = new[]
    ///                 {
    ///                     "amazon",
    ///                 },
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Enable audit mode with specific account IDs
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Aws = Pulumi.Aws;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Aws.Ec2.AllowedImagesSettings("example", new()
    ///     {
    ///         State = "audit-mode",
    ///         ImageCriterions = new[]
    ///         {
    ///             new Aws.Ec2.Inputs.AllowedImagesSettingsImageCriterionArgs
    ///             {
    ///                 ImageProviders = new[]
    ///                 {
    ///                     "amazon",
    ///                     "123456789012",
    ///                 },
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// Using `pulumi import`, import EC2 allowed images settings. For example:
    /// 
    /// ```sh
    /// $ pulumi import aws:ec2/allowedImagesSettings:AllowedImagesSettings example us-east-1
    /// ```
    /// </summary>
    [AwsResourceType("aws:ec2/allowedImagesSettings:AllowedImagesSettings")]
    public partial class AllowedImagesSettings : global::Pulumi.CustomResource
    {
        /// <summary>
        /// List of image criteria. Maximum of 10 criterion blocks allowed. See `ImageCriterion` below.
        /// </summary>
        [Output("imageCriterions")]
        public Output<ImmutableArray<Outputs.AllowedImagesSettingsImageCriterion>> ImageCriterions { get; private set; } = null!;

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Output("region")]
        public Output<string> Region { get; private set; } = null!;

        /// <summary>
        /// State of the allowed images settings. Valid values are `Enabled` or `audit-mode`.
        /// </summary>
        [Output("state")]
        public Output<string> State { get; private set; } = null!;


        /// <summary>
        /// Create a AllowedImagesSettings resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public AllowedImagesSettings(string name, AllowedImagesSettingsArgs args, CustomResourceOptions? options = null)
            : base("aws:ec2/allowedImagesSettings:AllowedImagesSettings", name, args ?? new AllowedImagesSettingsArgs(), MakeResourceOptions(options, ""))
        {
        }

        private AllowedImagesSettings(string name, Input<string> id, AllowedImagesSettingsState? state = null, CustomResourceOptions? options = null)
            : base("aws:ec2/allowedImagesSettings:AllowedImagesSettings", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing AllowedImagesSettings resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static AllowedImagesSettings Get(string name, Input<string> id, AllowedImagesSettingsState? state = null, CustomResourceOptions? options = null)
        {
            return new AllowedImagesSettings(name, id, state, options);
        }
    }

    public sealed class AllowedImagesSettingsArgs : global::Pulumi.ResourceArgs
    {
        [Input("imageCriterions")]
        private InputList<Inputs.AllowedImagesSettingsImageCriterionArgs>? _imageCriterions;

        /// <summary>
        /// List of image criteria. Maximum of 10 criterion blocks allowed. See `ImageCriterion` below.
        /// </summary>
        public InputList<Inputs.AllowedImagesSettingsImageCriterionArgs> ImageCriterions
        {
            get => _imageCriterions ?? (_imageCriterions = new InputList<Inputs.AllowedImagesSettingsImageCriterionArgs>());
            set => _imageCriterions = value;
        }

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Input("region")]
        public Input<string>? Region { get; set; }

        /// <summary>
        /// State of the allowed images settings. Valid values are `Enabled` or `audit-mode`.
        /// </summary>
        [Input("state", required: true)]
        public Input<string> State { get; set; } = null!;

        public AllowedImagesSettingsArgs()
        {
        }
        public static new AllowedImagesSettingsArgs Empty => new AllowedImagesSettingsArgs();
    }

    public sealed class AllowedImagesSettingsState : global::Pulumi.ResourceArgs
    {
        [Input("imageCriterions")]
        private InputList<Inputs.AllowedImagesSettingsImageCriterionGetArgs>? _imageCriterions;

        /// <summary>
        /// List of image criteria. Maximum of 10 criterion blocks allowed. See `ImageCriterion` below.
        /// </summary>
        public InputList<Inputs.AllowedImagesSettingsImageCriterionGetArgs> ImageCriterions
        {
            get => _imageCriterions ?? (_imageCriterions = new InputList<Inputs.AllowedImagesSettingsImageCriterionGetArgs>());
            set => _imageCriterions = value;
        }

        /// <summary>
        /// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        /// </summary>
        [Input("region")]
        public Input<string>? Region { get; set; }

        /// <summary>
        /// State of the allowed images settings. Valid values are `Enabled` or `audit-mode`.
        /// </summary>
        [Input("state")]
        public Input<string>? State { get; set; }

        public AllowedImagesSettingsState()
        {
        }
        public static new AllowedImagesSettingsState Empty => new AllowedImagesSettingsState();
    }
}
