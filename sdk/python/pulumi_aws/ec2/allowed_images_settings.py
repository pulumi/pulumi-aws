# coding=utf-8
# *** WARNING: this file was generated by pulumi-language-python. ***
# *** Do not edit by hand unless you're certain you know what you are doing! ***

import builtins as _builtins
import warnings
import sys
import pulumi
import pulumi.runtime
from typing import Any, Mapping, Optional, Sequence, Union, overload
if sys.version_info >= (3, 11):
    from typing import NotRequired, TypedDict, TypeAlias
else:
    from typing_extensions import NotRequired, TypedDict, TypeAlias
from .. import _utilities
from . import outputs
from ._inputs import *

__all__ = ['AllowedImagesSettingsArgs', 'AllowedImagesSettings']

@pulumi.input_type
class AllowedImagesSettingsArgs:
    def __init__(__self__, *,
                 state: pulumi.Input[_builtins.str],
                 image_criterions: Optional[pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None):
        """
        The set of arguments for constructing a AllowedImagesSettings resource.
        :param pulumi.Input[_builtins.str] state: State of the allowed images settings. Valid values are `enabled` or `audit-mode`.
        :param pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]] image_criterions: List of image criteria. Maximum of 10 criterion blocks allowed. See `image_criterion` below.
        :param pulumi.Input[_builtins.str] region: Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        """
        pulumi.set(__self__, "state", state)
        if image_criterions is not None:
            pulumi.set(__self__, "image_criterions", image_criterions)
        if region is not None:
            pulumi.set(__self__, "region", region)

    @_builtins.property
    @pulumi.getter
    def state(self) -> pulumi.Input[_builtins.str]:
        """
        State of the allowed images settings. Valid values are `enabled` or `audit-mode`.
        """
        return pulumi.get(self, "state")

    @state.setter
    def state(self, value: pulumi.Input[_builtins.str]):
        pulumi.set(self, "state", value)

    @_builtins.property
    @pulumi.getter(name="imageCriterions")
    def image_criterions(self) -> Optional[pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]]]:
        """
        List of image criteria. Maximum of 10 criterion blocks allowed. See `image_criterion` below.
        """
        return pulumi.get(self, "image_criterions")

    @image_criterions.setter
    def image_criterions(self, value: Optional[pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]]]):
        pulumi.set(self, "image_criterions", value)

    @_builtins.property
    @pulumi.getter
    def region(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        """
        return pulumi.get(self, "region")

    @region.setter
    def region(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "region", value)


@pulumi.input_type
class _AllowedImagesSettingsState:
    def __init__(__self__, *,
                 image_criterions: Optional[pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None,
                 state: Optional[pulumi.Input[_builtins.str]] = None):
        """
        Input properties used for looking up and filtering AllowedImagesSettings resources.
        :param pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]] image_criterions: List of image criteria. Maximum of 10 criterion blocks allowed. See `image_criterion` below.
        :param pulumi.Input[_builtins.str] region: Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        :param pulumi.Input[_builtins.str] state: State of the allowed images settings. Valid values are `enabled` or `audit-mode`.
        """
        if image_criterions is not None:
            pulumi.set(__self__, "image_criterions", image_criterions)
        if region is not None:
            pulumi.set(__self__, "region", region)
        if state is not None:
            pulumi.set(__self__, "state", state)

    @_builtins.property
    @pulumi.getter(name="imageCriterions")
    def image_criterions(self) -> Optional[pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]]]:
        """
        List of image criteria. Maximum of 10 criterion blocks allowed. See `image_criterion` below.
        """
        return pulumi.get(self, "image_criterions")

    @image_criterions.setter
    def image_criterions(self, value: Optional[pulumi.Input[Sequence[pulumi.Input['AllowedImagesSettingsImageCriterionArgs']]]]):
        pulumi.set(self, "image_criterions", value)

    @_builtins.property
    @pulumi.getter
    def region(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        """
        return pulumi.get(self, "region")

    @region.setter
    def region(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "region", value)

    @_builtins.property
    @pulumi.getter
    def state(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        State of the allowed images settings. Valid values are `enabled` or `audit-mode`.
        """
        return pulumi.get(self, "state")

    @state.setter
    def state(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "state", value)


@pulumi.type_token("aws:ec2/allowedImagesSettings:AllowedImagesSettings")
class AllowedImagesSettings(pulumi.CustomResource):
    @overload
    def __init__(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 image_criterions: Optional[pulumi.Input[Sequence[pulumi.Input[Union['AllowedImagesSettingsImageCriterionArgs', 'AllowedImagesSettingsImageCriterionArgsDict']]]]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None,
                 state: Optional[pulumi.Input[_builtins.str]] = None,
                 __props__=None):
        """
        Provides EC2 allowed images settings for an AWS account. This feature allows you to control which AMIs can be used to launch EC2 instances in your account based on specified criteria.

        For more information about the image criteria that can be set, see the [AWS documentation on Allowed AMIs JSON configuration](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html#allowed-amis-json-configuration).

        > **NOTE:** The AWS API does not delete this resource. When you run `destroy`, the provider will attempt to disable the setting.

        > **NOTE:** There is only one allowed images settings configuration per AWS account and region. Creating this resource will configure the account-level settings.

        ## Example Usage

        ### Enable with Amazon AMIs only

        ```python
        import pulumi
        import pulumi_aws as aws

        example = aws.ec2.AllowedImagesSettings("example",
            state="enabled",
            image_criterions=[{
                "image_providers": ["amazon"],
            }])
        ```

        ### Enable audit mode with specific account IDs

        ```python
        import pulumi
        import pulumi_aws as aws

        example = aws.ec2.AllowedImagesSettings("example",
            state="audit-mode",
            image_criterions=[{
                "image_providers": [
                    "amazon",
                    "123456789012",
                ],
            }])
        ```

        ## Import

        Using `pulumi import`, import EC2 allowed images settings. For example:

        ```sh
        $ pulumi import aws:ec2/allowedImagesSettings:AllowedImagesSettings example us-east-1
        ```

        :param str resource_name: The name of the resource.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[Sequence[pulumi.Input[Union['AllowedImagesSettingsImageCriterionArgs', 'AllowedImagesSettingsImageCriterionArgsDict']]]] image_criterions: List of image criteria. Maximum of 10 criterion blocks allowed. See `image_criterion` below.
        :param pulumi.Input[_builtins.str] region: Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        :param pulumi.Input[_builtins.str] state: State of the allowed images settings. Valid values are `enabled` or `audit-mode`.
        """
        ...
    @overload
    def __init__(__self__,
                 resource_name: str,
                 args: AllowedImagesSettingsArgs,
                 opts: Optional[pulumi.ResourceOptions] = None):
        """
        Provides EC2 allowed images settings for an AWS account. This feature allows you to control which AMIs can be used to launch EC2 instances in your account based on specified criteria.

        For more information about the image criteria that can be set, see the [AWS documentation on Allowed AMIs JSON configuration](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html#allowed-amis-json-configuration).

        > **NOTE:** The AWS API does not delete this resource. When you run `destroy`, the provider will attempt to disable the setting.

        > **NOTE:** There is only one allowed images settings configuration per AWS account and region. Creating this resource will configure the account-level settings.

        ## Example Usage

        ### Enable with Amazon AMIs only

        ```python
        import pulumi
        import pulumi_aws as aws

        example = aws.ec2.AllowedImagesSettings("example",
            state="enabled",
            image_criterions=[{
                "image_providers": ["amazon"],
            }])
        ```

        ### Enable audit mode with specific account IDs

        ```python
        import pulumi
        import pulumi_aws as aws

        example = aws.ec2.AllowedImagesSettings("example",
            state="audit-mode",
            image_criterions=[{
                "image_providers": [
                    "amazon",
                    "123456789012",
                ],
            }])
        ```

        ## Import

        Using `pulumi import`, import EC2 allowed images settings. For example:

        ```sh
        $ pulumi import aws:ec2/allowedImagesSettings:AllowedImagesSettings example us-east-1
        ```

        :param str resource_name: The name of the resource.
        :param AllowedImagesSettingsArgs args: The arguments to use to populate this resource's properties.
        :param pulumi.ResourceOptions opts: Options for the resource.
        """
        ...
    def __init__(__self__, resource_name: str, *args, **kwargs):
        resource_args, opts = _utilities.get_resource_args_opts(AllowedImagesSettingsArgs, pulumi.ResourceOptions, *args, **kwargs)
        if resource_args is not None:
            __self__._internal_init(resource_name, opts, **resource_args.__dict__)
        else:
            __self__._internal_init(resource_name, *args, **kwargs)

    def _internal_init(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 image_criterions: Optional[pulumi.Input[Sequence[pulumi.Input[Union['AllowedImagesSettingsImageCriterionArgs', 'AllowedImagesSettingsImageCriterionArgsDict']]]]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None,
                 state: Optional[pulumi.Input[_builtins.str]] = None,
                 __props__=None):
        opts = pulumi.ResourceOptions.merge(_utilities.get_resource_opts_defaults(), opts)
        if not isinstance(opts, pulumi.ResourceOptions):
            raise TypeError('Expected resource options to be a ResourceOptions instance')
        if opts.id is None:
            if __props__ is not None:
                raise TypeError('__props__ is only valid when passed in combination with a valid opts.id to get an existing resource')
            __props__ = AllowedImagesSettingsArgs.__new__(AllowedImagesSettingsArgs)

            __props__.__dict__["image_criterions"] = image_criterions
            __props__.__dict__["region"] = region
            if state is None and not opts.urn:
                raise TypeError("Missing required property 'state'")
            __props__.__dict__["state"] = state
        super(AllowedImagesSettings, __self__).__init__(
            'aws:ec2/allowedImagesSettings:AllowedImagesSettings',
            resource_name,
            __props__,
            opts)

    @staticmethod
    def get(resource_name: str,
            id: pulumi.Input[str],
            opts: Optional[pulumi.ResourceOptions] = None,
            image_criterions: Optional[pulumi.Input[Sequence[pulumi.Input[Union['AllowedImagesSettingsImageCriterionArgs', 'AllowedImagesSettingsImageCriterionArgsDict']]]]] = None,
            region: Optional[pulumi.Input[_builtins.str]] = None,
            state: Optional[pulumi.Input[_builtins.str]] = None) -> 'AllowedImagesSettings':
        """
        Get an existing AllowedImagesSettings resource's state with the given name, id, and optional extra
        properties used to qualify the lookup.

        :param str resource_name: The unique name of the resulting resource.
        :param pulumi.Input[str] id: The unique provider ID of the resource to lookup.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[Sequence[pulumi.Input[Union['AllowedImagesSettingsImageCriterionArgs', 'AllowedImagesSettingsImageCriterionArgsDict']]]] image_criterions: List of image criteria. Maximum of 10 criterion blocks allowed. See `image_criterion` below.
        :param pulumi.Input[_builtins.str] region: Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        :param pulumi.Input[_builtins.str] state: State of the allowed images settings. Valid values are `enabled` or `audit-mode`.
        """
        opts = pulumi.ResourceOptions.merge(opts, pulumi.ResourceOptions(id=id))

        __props__ = _AllowedImagesSettingsState.__new__(_AllowedImagesSettingsState)

        __props__.__dict__["image_criterions"] = image_criterions
        __props__.__dict__["region"] = region
        __props__.__dict__["state"] = state
        return AllowedImagesSettings(resource_name, opts=opts, __props__=__props__)

    @_builtins.property
    @pulumi.getter(name="imageCriterions")
    def image_criterions(self) -> pulumi.Output[Optional[Sequence['outputs.AllowedImagesSettingsImageCriterion']]]:
        """
        List of image criteria. Maximum of 10 criterion blocks allowed. See `image_criterion` below.
        """
        return pulumi.get(self, "image_criterions")

    @_builtins.property
    @pulumi.getter
    def region(self) -> pulumi.Output[_builtins.str]:
        """
        Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
        """
        return pulumi.get(self, "region")

    @_builtins.property
    @pulumi.getter
    def state(self) -> pulumi.Output[_builtins.str]:
        """
        State of the allowed images settings. Valid values are `enabled` or `audit-mode`.
        """
        return pulumi.get(self, "state")

