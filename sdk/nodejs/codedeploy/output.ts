// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./input";
import * as outputs from "./output";

export interface DeploymentConfigMinimumHealthyHosts {
    /**
     * The type can either be `FLEET_PERCENT` or `HOST_COUNT`.
     */
    type?: string;
    /**
     * The value when the type is `FLEET_PERCENT` represents the minimum number of healthy instances as
     * a percentage of the total number of instances in the deployment. If you specify FLEET_PERCENT, at the start of the
     * deployment, AWS CodeDeploy converts the percentage to the equivalent number of instance and rounds up fractional instances.
     * When the type is `HOST_COUNT`, the value represents the minimum number of healthy instances as an absolute value.
     */
    value?: number;
}
export interface DeploymentConfigTrafficRoutingConfig {
    /**
     * The time based canary configuration information. If `type` is `TimeBasedLinear`, use `timeBasedLinear` instead.
     */
    timeBasedCanary?: outputs.DeploymentConfigTrafficRoutingConfigTimeBasedCanary;
    /**
     * The time based linear configuration information. If `type` is `TimeBasedCanary`, use `timeBasedCanary` instead.
     */
    timeBasedLinear?: outputs.DeploymentConfigTrafficRoutingConfigTimeBasedLinear;
    /**
     * Type of traffic routing config. One of `TimeBasedCanary`, `TimeBasedLinear`, `AllAtOnce`.
     */
    type?: string;
}
export interface DeploymentConfigTrafficRoutingConfigTimeBasedCanary {
    /**
     * The number of minutes between the first and second traffic shifts of a `TimeBasedCanary` deployment.
     */
    interval?: number;
    /**
     * The percentage of traffic to shift in the first increment of a `TimeBasedCanary` deployment.
     */
    percentage?: number;
}
export interface DeploymentConfigTrafficRoutingConfigTimeBasedLinear {
    /**
     * The number of minutes between each incremental traffic shift of a `TimeBasedLinear` deployment.
     */
    interval?: number;
    /**
     * The percentage of traffic that is shifted at the start of each increment of a `TimeBasedLinear` deployment.
     */
    percentage?: number;
}
export interface DeploymentGroupAlarmConfiguration {
    /**
     * A list of alarms configured for the deployment group. _A maximum of 10 alarms can be added to a deployment group_.
     */
    alarms?: string[];
    /**
     * Indicates whether the alarm configuration is enabled. This option is useful when you want to temporarily deactivate alarm monitoring for a deployment group without having to add the same alarms again later.
     */
    enabled?: boolean;
    /**
     * Indicates whether a deployment should continue if information about the current state of alarms cannot be retrieved from CloudWatch. The default value is `false`.
     */
    ignorePollAlarmFailure?: boolean;
}
export interface DeploymentGroupAutoRollbackConfiguration {
    /**
     * Indicates whether a defined automatic rollback configuration is currently enabled for this Deployment Group. If you enable automatic rollback, you must specify at least one event type.
     */
    enabled?: boolean;
    /**
     * The event type or types that trigger a rollback. Supported types are `DEPLOYMENT_FAILURE`, `DEPLOYMENT_STOP_ON_ALARM` and `DEPLOYMENT_STOP_ON_REQUEST`.
     *
     * _Only one `autoRollbackConfiguration` is allowed_.
     */
    events?: string[];
}
export interface DeploymentGroupBlueGreenDeploymentConfig {
    /**
     * Information about the action to take when newly provisioned instances are ready to receive traffic in a blue/green deployment (documented below).
     */
    deploymentReadyOption?: outputs.DeploymentGroupBlueGreenDeploymentConfigDeploymentReadyOption;
    /**
     * Information about how instances are provisioned for a replacement environment in a blue/green deployment (documented below).
     */
    greenFleetProvisioningOption: outputs.DeploymentGroupBlueGreenDeploymentConfigGreenFleetProvisioningOption;
    /**
     * Information about whether to terminate instances in the original fleet during a blue/green deployment (documented below).
     *
     * _Only one `blueGreenDeploymentConfig` is allowed_.
     */
    terminateBlueInstancesOnDeploymentSuccess?: outputs.DeploymentGroupBlueGreenDeploymentConfigTerminateBlueInstancesOnDeploymentSuccess;
}
export interface DeploymentGroupBlueGreenDeploymentConfigDeploymentReadyOption {
    /**
     * When to reroute traffic from an original environment to a replacement environment in a blue/green deployment.
     */
    actionOnTimeout?: string;
    /**
     * The number of minutes to wait before the status of a blue/green deployment changed to Stopped if rerouting is not started manually. Applies only to the `STOP_DEPLOYMENT` option for `actionOnTimeout`.
     */
    waitTimeInMinutes?: number;
}
export interface DeploymentGroupBlueGreenDeploymentConfigGreenFleetProvisioningOption {
    /**
     * The method used to add instances to a replacement environment.
     */
    action?: string;
}
export interface DeploymentGroupBlueGreenDeploymentConfigTerminateBlueInstancesOnDeploymentSuccess {
    /**
     * The action to take on instances in the original environment after a successful blue/green deployment.
     */
    action?: string;
    /**
     * The number of minutes to wait after a successful blue/green deployment before terminating instances from the original environment.
     */
    terminationWaitTimeInMinutes?: number;
}
export interface DeploymentGroupDeploymentStyle {
    /**
     * Indicates whether to route deployment traffic behind a load balancer. Valid Values are `WITH_TRAFFIC_CONTROL` or `WITHOUT_TRAFFIC_CONTROL`. Default is `WITHOUT_TRAFFIC_CONTROL`.
     */
    deploymentOption?: string;
    /**
     * Indicates whether to run an in-place deployment or a blue/green deployment. Valid Values are `IN_PLACE` or `BLUE_GREEN`. Default is `IN_PLACE`.
     *
     * _Only one `deploymentStyle` is allowed_.
     */
    deploymentType?: string;
}
export interface DeploymentGroupEc2TagFilter {
    /**
     * The key of the tag filter.
     */
    key?: string;
    /**
     * The type of the tag filter, either `KEY_ONLY`, `VALUE_ONLY`, or `KEY_AND_VALUE`.
     */
    type?: string;
    /**
     * The value of the tag filter.
     *
     * Multiple occurrences of `ec2TagFilter` are allowed, where any instance that matches to at least one of the tag filters is selected.
     */
    value?: string;
}
export interface DeploymentGroupEc2TagSet {
    /**
     * Tag filters associated with the deployment group. See the AWS docs for details.
     */
    ec2TagFilters?: outputs.DeploymentGroupEc2TagSetEc2TagFilter[];
}
export interface DeploymentGroupEc2TagSetEc2TagFilter {
    /**
     * The key of the tag filter.
     */
    key?: string;
    /**
     * The type of the tag filter, either `KEY_ONLY`, `VALUE_ONLY`, or `KEY_AND_VALUE`.
     */
    type?: string;
    /**
     * The value of the tag filter.
     *
     * Multiple occurrences of `ec2TagFilter` are allowed, where any instance that matches to at least one of the tag filters is selected.
     */
    value?: string;
}
export interface DeploymentGroupEcsService {
    /**
     * The name of the ECS cluster.
     */
    clusterName: string;
    /**
     * The name of the ECS service.
     */
    serviceName: string;
}
export interface DeploymentGroupLoadBalancerInfo {
    /**
     * The Classic Elastic Load Balancer to use in a deployment. Conflicts with `targetGroupInfo` and `targetGroupPairInfo`.
     */
    elbInfos?: outputs.DeploymentGroupLoadBalancerInfoElbInfo[];
    /**
     * The (Application/Network Load Balancer) target group to use in a deployment. Conflicts with `elbInfo` and `targetGroupPairInfo`.
     */
    targetGroupInfos?: outputs.DeploymentGroupLoadBalancerInfoTargetGroupInfo[];
    /**
     * The (Application/Network Load Balancer) target group pair to use in a deployment. Conflicts with `elbInfo` and `targetGroupInfo`.
     */
    targetGroupPairInfo?: outputs.DeploymentGroupLoadBalancerInfoTargetGroupPairInfo;
}
export interface DeploymentGroupLoadBalancerInfoElbInfo {
    /**
     * The name of the load balancer that will be used to route traffic from original instances to replacement instances in a blue/green deployment. For in-place deployments, the name of the load balancer that instances are deregistered from so they are not serving traffic during a deployment, and then re-registered with after the deployment completes.
     */
    name?: string;
}
export interface DeploymentGroupLoadBalancerInfoTargetGroupInfo {
    /**
     * The name of the target group that instances in the original environment are deregistered from, and instances in the replacement environment registered with. For in-place deployments, the name of the target group that instances are deregistered from, so they are not serving traffic during a deployment, and then re-registered with after the deployment completes.
     */
    name?: string;
}
export interface DeploymentGroupLoadBalancerInfoTargetGroupPairInfo {
    /**
     * Configuration block for the production traffic route (documented below).
     */
    prodTrafficRoute: outputs.DeploymentGroupLoadBalancerInfoTargetGroupPairInfoProdTrafficRoute;
    /**
     * Configuration blocks for a target group within a target group pair (documented below).
     */
    targetGroups: outputs.DeploymentGroupLoadBalancerInfoTargetGroupPairInfoTargetGroup[];
    /**
     * Configuration block for the test traffic route (documented below).
     */
    testTrafficRoute?: outputs.DeploymentGroupLoadBalancerInfoTargetGroupPairInfoTestTrafficRoute;
}
export interface DeploymentGroupLoadBalancerInfoTargetGroupPairInfoProdTrafficRoute {
    /**
     * List of Amazon Resource Names (ARNs) of the load balancer listeners. Must contain exactly one listener ARN.
     */
    listenerArns: string[];
}
export interface DeploymentGroupLoadBalancerInfoTargetGroupPairInfoTargetGroup {
    /**
     * Name of the target group.
     */
    name: string;
}
export interface DeploymentGroupLoadBalancerInfoTargetGroupPairInfoTestTrafficRoute {
    /**
     * List of Amazon Resource Names (ARNs) of the load balancer listeners.
     */
    listenerArns: string[];
}
export interface DeploymentGroupOnPremisesInstanceTagFilter {
    /**
     * The key of the tag filter.
     */
    key?: string;
    /**
     * The type of the tag filter, either `KEY_ONLY`, `VALUE_ONLY`, or `KEY_AND_VALUE`.
     */
    type?: string;
    /**
     * The value of the tag filter.
     */
    value?: string;
}
export interface DeploymentGroupTriggerConfiguration {
    /**
     * The event type or types for which notifications are triggered. Some values that are supported: `DeploymentStart`, `DeploymentSuccess`, `DeploymentFailure`, `DeploymentStop`, `DeploymentRollback`, `InstanceStart`, `InstanceSuccess`, `InstanceFailure`.  See [the CodeDeploy documentation](http://docs.aws.amazon.com/codedeploy/latest/userguide/monitoring-sns-event-notifications-create-trigger.html) for all possible values.
     */
    triggerEvents: string[];
    /**
     * The name of the notification trigger.
     */
    triggerName: string;
    /**
     * The ARN of the SNS topic through which notifications are sent.
     */
    triggerTargetArn: string;
}
