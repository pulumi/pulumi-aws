// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package macie2

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a resource to manage an [AWS Macie Classification Job](https://docs.aws.amazon.com/macie/latest/APIReference/jobs.html).
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-aws/sdk/v4/go/aws/macie2"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		testAccount, err := macie2.NewAccount(ctx, "testAccount", nil)
// 		if err != nil {
// 			return err
// 		}
// 		_, err = macie2.NewClassificationJob(ctx, "testClassificationJob", &macie2.ClassificationJobArgs{
// 			JobType: pulumi.String("ONE_TIME"),
// 			S3JobDefinition: &macie2.ClassificationJobS3JobDefinitionArgs{
// 				BucketDefinitions: macie2.ClassificationJobS3JobDefinitionBucketDefinitionArray{
// 					&macie2.ClassificationJobS3JobDefinitionBucketDefinitionArgs{
// 						AccountId: pulumi.String("ACCOUNT ID"),
// 						Buckets: pulumi.StringArray{
// 							pulumi.String("S3 BUCKET NAME"),
// 						},
// 					},
// 				},
// 			},
// 		}, pulumi.DependsOn([]pulumi.Resource{
// 			testAccount,
// 		}))
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// `aws_macie2_classification_job` can be imported using the id, e.g.
//
// ```sh
//  $ pulumi import aws:macie2/classificationJob:ClassificationJob example abcd1
// ```
type ClassificationJob struct {
	pulumi.CustomResourceState

	// The date and time, in UTC and extended RFC 3339 format, when the job was created.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// The custom data identifiers to use for data analysis and classification.
	CustomDataIdentifierIds pulumi.StringArrayOutput `pulumi:"customDataIdentifierIds"`
	// A custom description of the job. The description can contain as many as 200 characters.
	Description pulumi.StringOutput `pulumi:"description"`
	// Specifies whether to analyze all existing, eligible objects immediately after the job is created.
	InitialRun pulumi.BoolPtrOutput `pulumi:"initialRun"`
	JobArn     pulumi.StringOutput  `pulumi:"jobArn"`
	JobId      pulumi.StringOutput  `pulumi:"jobId"`
	// The status for the job. Valid values are: `CANCELLED`, `RUNNING` and `USER_PAUSED`
	JobStatus pulumi.StringOutput `pulumi:"jobStatus"`
	// The schedule for running the job. Valid values are: `ONE_TIME` - Run the job only once. If you specify this value, don't specify a value for the `scheduleFrequency` property. `SCHEDULED` - Run the job on a daily, weekly, or monthly basis. If you specify this value, use the `scheduleFrequency` property to define the recurrence pattern for the job.
	JobType pulumi.StringOutput `pulumi:"jobType"`
	Name    pulumi.StringOutput `pulumi:"name"`
	// Creates a unique name beginning with the specified prefix. Conflicts with `name`.
	NamePrefix pulumi.StringOutput `pulumi:"namePrefix"`
	// The S3 buckets that contain the objects to analyze, and the scope of that analysis. (documented below)
	S3JobDefinition ClassificationJobS3JobDefinitionOutput `pulumi:"s3JobDefinition"`
	// The sampling depth, as a percentage, to apply when processing objects. This value determines the percentage of eligible objects that the job analyzes. If this value is less than 100, Amazon Macie selects the objects to analyze at random, up to the specified percentage, and analyzes all the data in those objects.
	SamplingPercentage pulumi.IntOutput `pulumi:"samplingPercentage"`
	// The recurrence pattern for running the job. To run the job only once, don't specify a value for this property and set the value for the `jobType` property to `ONE_TIME`. (documented below)
	ScheduleFrequency ClassificationJobScheduleFrequencyOutput `pulumi:"scheduleFrequency"`
	// A map of key-value pairs that specifies the tags to associate with the job. A job can have a maximum of 50 tags. Each tag consists of a tag key and an associated tag value. The maximum length of a tag key is 128 characters. The maximum length of a tag value is 256 characters.
	Tags    pulumi.StringMapOutput `pulumi:"tags"`
	TagsAll pulumi.StringMapOutput `pulumi:"tagsAll"`
	// If the current status of the job is `USER_PAUSED`, specifies when the job was paused and when the job or job run will expire and be cancelled if it isn't resumed. This value is present only if the value for `job-status` is `USER_PAUSED`.
	UserPausedDetails ClassificationJobUserPausedDetailArrayOutput `pulumi:"userPausedDetails"`
}

// NewClassificationJob registers a new resource with the given unique name, arguments, and options.
func NewClassificationJob(ctx *pulumi.Context,
	name string, args *ClassificationJobArgs, opts ...pulumi.ResourceOption) (*ClassificationJob, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.JobType == nil {
		return nil, errors.New("invalid value for required argument 'JobType'")
	}
	if args.S3JobDefinition == nil {
		return nil, errors.New("invalid value for required argument 'S3JobDefinition'")
	}
	var resource ClassificationJob
	err := ctx.RegisterResource("aws:macie2/classificationJob:ClassificationJob", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetClassificationJob gets an existing ClassificationJob resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetClassificationJob(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ClassificationJobState, opts ...pulumi.ResourceOption) (*ClassificationJob, error) {
	var resource ClassificationJob
	err := ctx.ReadResource("aws:macie2/classificationJob:ClassificationJob", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ClassificationJob resources.
type classificationJobState struct {
	// The date and time, in UTC and extended RFC 3339 format, when the job was created.
	CreatedAt *string `pulumi:"createdAt"`
	// The custom data identifiers to use for data analysis and classification.
	CustomDataIdentifierIds []string `pulumi:"customDataIdentifierIds"`
	// A custom description of the job. The description can contain as many as 200 characters.
	Description *string `pulumi:"description"`
	// Specifies whether to analyze all existing, eligible objects immediately after the job is created.
	InitialRun *bool   `pulumi:"initialRun"`
	JobArn     *string `pulumi:"jobArn"`
	JobId      *string `pulumi:"jobId"`
	// The status for the job. Valid values are: `CANCELLED`, `RUNNING` and `USER_PAUSED`
	JobStatus *string `pulumi:"jobStatus"`
	// The schedule for running the job. Valid values are: `ONE_TIME` - Run the job only once. If you specify this value, don't specify a value for the `scheduleFrequency` property. `SCHEDULED` - Run the job on a daily, weekly, or monthly basis. If you specify this value, use the `scheduleFrequency` property to define the recurrence pattern for the job.
	JobType *string `pulumi:"jobType"`
	Name    *string `pulumi:"name"`
	// Creates a unique name beginning with the specified prefix. Conflicts with `name`.
	NamePrefix *string `pulumi:"namePrefix"`
	// The S3 buckets that contain the objects to analyze, and the scope of that analysis. (documented below)
	S3JobDefinition *ClassificationJobS3JobDefinition `pulumi:"s3JobDefinition"`
	// The sampling depth, as a percentage, to apply when processing objects. This value determines the percentage of eligible objects that the job analyzes. If this value is less than 100, Amazon Macie selects the objects to analyze at random, up to the specified percentage, and analyzes all the data in those objects.
	SamplingPercentage *int `pulumi:"samplingPercentage"`
	// The recurrence pattern for running the job. To run the job only once, don't specify a value for this property and set the value for the `jobType` property to `ONE_TIME`. (documented below)
	ScheduleFrequency *ClassificationJobScheduleFrequency `pulumi:"scheduleFrequency"`
	// A map of key-value pairs that specifies the tags to associate with the job. A job can have a maximum of 50 tags. Each tag consists of a tag key and an associated tag value. The maximum length of a tag key is 128 characters. The maximum length of a tag value is 256 characters.
	Tags    map[string]string `pulumi:"tags"`
	TagsAll map[string]string `pulumi:"tagsAll"`
	// If the current status of the job is `USER_PAUSED`, specifies when the job was paused and when the job or job run will expire and be cancelled if it isn't resumed. This value is present only if the value for `job-status` is `USER_PAUSED`.
	UserPausedDetails []ClassificationJobUserPausedDetail `pulumi:"userPausedDetails"`
}

type ClassificationJobState struct {
	// The date and time, in UTC and extended RFC 3339 format, when the job was created.
	CreatedAt pulumi.StringPtrInput
	// The custom data identifiers to use for data analysis and classification.
	CustomDataIdentifierIds pulumi.StringArrayInput
	// A custom description of the job. The description can contain as many as 200 characters.
	Description pulumi.StringPtrInput
	// Specifies whether to analyze all existing, eligible objects immediately after the job is created.
	InitialRun pulumi.BoolPtrInput
	JobArn     pulumi.StringPtrInput
	JobId      pulumi.StringPtrInput
	// The status for the job. Valid values are: `CANCELLED`, `RUNNING` and `USER_PAUSED`
	JobStatus pulumi.StringPtrInput
	// The schedule for running the job. Valid values are: `ONE_TIME` - Run the job only once. If you specify this value, don't specify a value for the `scheduleFrequency` property. `SCHEDULED` - Run the job on a daily, weekly, or monthly basis. If you specify this value, use the `scheduleFrequency` property to define the recurrence pattern for the job.
	JobType pulumi.StringPtrInput
	Name    pulumi.StringPtrInput
	// Creates a unique name beginning with the specified prefix. Conflicts with `name`.
	NamePrefix pulumi.StringPtrInput
	// The S3 buckets that contain the objects to analyze, and the scope of that analysis. (documented below)
	S3JobDefinition ClassificationJobS3JobDefinitionPtrInput
	// The sampling depth, as a percentage, to apply when processing objects. This value determines the percentage of eligible objects that the job analyzes. If this value is less than 100, Amazon Macie selects the objects to analyze at random, up to the specified percentage, and analyzes all the data in those objects.
	SamplingPercentage pulumi.IntPtrInput
	// The recurrence pattern for running the job. To run the job only once, don't specify a value for this property and set the value for the `jobType` property to `ONE_TIME`. (documented below)
	ScheduleFrequency ClassificationJobScheduleFrequencyPtrInput
	// A map of key-value pairs that specifies the tags to associate with the job. A job can have a maximum of 50 tags. Each tag consists of a tag key and an associated tag value. The maximum length of a tag key is 128 characters. The maximum length of a tag value is 256 characters.
	Tags    pulumi.StringMapInput
	TagsAll pulumi.StringMapInput
	// If the current status of the job is `USER_PAUSED`, specifies when the job was paused and when the job or job run will expire and be cancelled if it isn't resumed. This value is present only if the value for `job-status` is `USER_PAUSED`.
	UserPausedDetails ClassificationJobUserPausedDetailArrayInput
}

func (ClassificationJobState) ElementType() reflect.Type {
	return reflect.TypeOf((*classificationJobState)(nil)).Elem()
}

type classificationJobArgs struct {
	// The custom data identifiers to use for data analysis and classification.
	CustomDataIdentifierIds []string `pulumi:"customDataIdentifierIds"`
	// A custom description of the job. The description can contain as many as 200 characters.
	Description *string `pulumi:"description"`
	// Specifies whether to analyze all existing, eligible objects immediately after the job is created.
	InitialRun *bool `pulumi:"initialRun"`
	// The status for the job. Valid values are: `CANCELLED`, `RUNNING` and `USER_PAUSED`
	JobStatus *string `pulumi:"jobStatus"`
	// The schedule for running the job. Valid values are: `ONE_TIME` - Run the job only once. If you specify this value, don't specify a value for the `scheduleFrequency` property. `SCHEDULED` - Run the job on a daily, weekly, or monthly basis. If you specify this value, use the `scheduleFrequency` property to define the recurrence pattern for the job.
	JobType string  `pulumi:"jobType"`
	Name    *string `pulumi:"name"`
	// Creates a unique name beginning with the specified prefix. Conflicts with `name`.
	NamePrefix *string `pulumi:"namePrefix"`
	// The S3 buckets that contain the objects to analyze, and the scope of that analysis. (documented below)
	S3JobDefinition ClassificationJobS3JobDefinition `pulumi:"s3JobDefinition"`
	// The sampling depth, as a percentage, to apply when processing objects. This value determines the percentage of eligible objects that the job analyzes. If this value is less than 100, Amazon Macie selects the objects to analyze at random, up to the specified percentage, and analyzes all the data in those objects.
	SamplingPercentage *int `pulumi:"samplingPercentage"`
	// The recurrence pattern for running the job. To run the job only once, don't specify a value for this property and set the value for the `jobType` property to `ONE_TIME`. (documented below)
	ScheduleFrequency *ClassificationJobScheduleFrequency `pulumi:"scheduleFrequency"`
	// A map of key-value pairs that specifies the tags to associate with the job. A job can have a maximum of 50 tags. Each tag consists of a tag key and an associated tag value. The maximum length of a tag key is 128 characters. The maximum length of a tag value is 256 characters.
	Tags    map[string]string `pulumi:"tags"`
	TagsAll map[string]string `pulumi:"tagsAll"`
}

// The set of arguments for constructing a ClassificationJob resource.
type ClassificationJobArgs struct {
	// The custom data identifiers to use for data analysis and classification.
	CustomDataIdentifierIds pulumi.StringArrayInput
	// A custom description of the job. The description can contain as many as 200 characters.
	Description pulumi.StringPtrInput
	// Specifies whether to analyze all existing, eligible objects immediately after the job is created.
	InitialRun pulumi.BoolPtrInput
	// The status for the job. Valid values are: `CANCELLED`, `RUNNING` and `USER_PAUSED`
	JobStatus pulumi.StringPtrInput
	// The schedule for running the job. Valid values are: `ONE_TIME` - Run the job only once. If you specify this value, don't specify a value for the `scheduleFrequency` property. `SCHEDULED` - Run the job on a daily, weekly, or monthly basis. If you specify this value, use the `scheduleFrequency` property to define the recurrence pattern for the job.
	JobType pulumi.StringInput
	Name    pulumi.StringPtrInput
	// Creates a unique name beginning with the specified prefix. Conflicts with `name`.
	NamePrefix pulumi.StringPtrInput
	// The S3 buckets that contain the objects to analyze, and the scope of that analysis. (documented below)
	S3JobDefinition ClassificationJobS3JobDefinitionInput
	// The sampling depth, as a percentage, to apply when processing objects. This value determines the percentage of eligible objects that the job analyzes. If this value is less than 100, Amazon Macie selects the objects to analyze at random, up to the specified percentage, and analyzes all the data in those objects.
	SamplingPercentage pulumi.IntPtrInput
	// The recurrence pattern for running the job. To run the job only once, don't specify a value for this property and set the value for the `jobType` property to `ONE_TIME`. (documented below)
	ScheduleFrequency ClassificationJobScheduleFrequencyPtrInput
	// A map of key-value pairs that specifies the tags to associate with the job. A job can have a maximum of 50 tags. Each tag consists of a tag key and an associated tag value. The maximum length of a tag key is 128 characters. The maximum length of a tag value is 256 characters.
	Tags    pulumi.StringMapInput
	TagsAll pulumi.StringMapInput
}

func (ClassificationJobArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*classificationJobArgs)(nil)).Elem()
}

type ClassificationJobInput interface {
	pulumi.Input

	ToClassificationJobOutput() ClassificationJobOutput
	ToClassificationJobOutputWithContext(ctx context.Context) ClassificationJobOutput
}

func (*ClassificationJob) ElementType() reflect.Type {
	return reflect.TypeOf((*ClassificationJob)(nil))
}

func (i *ClassificationJob) ToClassificationJobOutput() ClassificationJobOutput {
	return i.ToClassificationJobOutputWithContext(context.Background())
}

func (i *ClassificationJob) ToClassificationJobOutputWithContext(ctx context.Context) ClassificationJobOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ClassificationJobOutput)
}

func (i *ClassificationJob) ToClassificationJobPtrOutput() ClassificationJobPtrOutput {
	return i.ToClassificationJobPtrOutputWithContext(context.Background())
}

func (i *ClassificationJob) ToClassificationJobPtrOutputWithContext(ctx context.Context) ClassificationJobPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ClassificationJobPtrOutput)
}

type ClassificationJobPtrInput interface {
	pulumi.Input

	ToClassificationJobPtrOutput() ClassificationJobPtrOutput
	ToClassificationJobPtrOutputWithContext(ctx context.Context) ClassificationJobPtrOutput
}

type classificationJobPtrType ClassificationJobArgs

func (*classificationJobPtrType) ElementType() reflect.Type {
	return reflect.TypeOf((**ClassificationJob)(nil))
}

func (i *classificationJobPtrType) ToClassificationJobPtrOutput() ClassificationJobPtrOutput {
	return i.ToClassificationJobPtrOutputWithContext(context.Background())
}

func (i *classificationJobPtrType) ToClassificationJobPtrOutputWithContext(ctx context.Context) ClassificationJobPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ClassificationJobPtrOutput)
}

// ClassificationJobArrayInput is an input type that accepts ClassificationJobArray and ClassificationJobArrayOutput values.
// You can construct a concrete instance of `ClassificationJobArrayInput` via:
//
//          ClassificationJobArray{ ClassificationJobArgs{...} }
type ClassificationJobArrayInput interface {
	pulumi.Input

	ToClassificationJobArrayOutput() ClassificationJobArrayOutput
	ToClassificationJobArrayOutputWithContext(context.Context) ClassificationJobArrayOutput
}

type ClassificationJobArray []ClassificationJobInput

func (ClassificationJobArray) ElementType() reflect.Type {
	return reflect.TypeOf(([]*ClassificationJob)(nil))
}

func (i ClassificationJobArray) ToClassificationJobArrayOutput() ClassificationJobArrayOutput {
	return i.ToClassificationJobArrayOutputWithContext(context.Background())
}

func (i ClassificationJobArray) ToClassificationJobArrayOutputWithContext(ctx context.Context) ClassificationJobArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ClassificationJobArrayOutput)
}

// ClassificationJobMapInput is an input type that accepts ClassificationJobMap and ClassificationJobMapOutput values.
// You can construct a concrete instance of `ClassificationJobMapInput` via:
//
//          ClassificationJobMap{ "key": ClassificationJobArgs{...} }
type ClassificationJobMapInput interface {
	pulumi.Input

	ToClassificationJobMapOutput() ClassificationJobMapOutput
	ToClassificationJobMapOutputWithContext(context.Context) ClassificationJobMapOutput
}

type ClassificationJobMap map[string]ClassificationJobInput

func (ClassificationJobMap) ElementType() reflect.Type {
	return reflect.TypeOf((map[string]*ClassificationJob)(nil))
}

func (i ClassificationJobMap) ToClassificationJobMapOutput() ClassificationJobMapOutput {
	return i.ToClassificationJobMapOutputWithContext(context.Background())
}

func (i ClassificationJobMap) ToClassificationJobMapOutputWithContext(ctx context.Context) ClassificationJobMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ClassificationJobMapOutput)
}

type ClassificationJobOutput struct {
	*pulumi.OutputState
}

func (ClassificationJobOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*ClassificationJob)(nil))
}

func (o ClassificationJobOutput) ToClassificationJobOutput() ClassificationJobOutput {
	return o
}

func (o ClassificationJobOutput) ToClassificationJobOutputWithContext(ctx context.Context) ClassificationJobOutput {
	return o
}

func (o ClassificationJobOutput) ToClassificationJobPtrOutput() ClassificationJobPtrOutput {
	return o.ToClassificationJobPtrOutputWithContext(context.Background())
}

func (o ClassificationJobOutput) ToClassificationJobPtrOutputWithContext(ctx context.Context) ClassificationJobPtrOutput {
	return o.ApplyT(func(v ClassificationJob) *ClassificationJob {
		return &v
	}).(ClassificationJobPtrOutput)
}

type ClassificationJobPtrOutput struct {
	*pulumi.OutputState
}

func (ClassificationJobPtrOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ClassificationJob)(nil))
}

func (o ClassificationJobPtrOutput) ToClassificationJobPtrOutput() ClassificationJobPtrOutput {
	return o
}

func (o ClassificationJobPtrOutput) ToClassificationJobPtrOutputWithContext(ctx context.Context) ClassificationJobPtrOutput {
	return o
}

type ClassificationJobArrayOutput struct{ *pulumi.OutputState }

func (ClassificationJobArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]ClassificationJob)(nil))
}

func (o ClassificationJobArrayOutput) ToClassificationJobArrayOutput() ClassificationJobArrayOutput {
	return o
}

func (o ClassificationJobArrayOutput) ToClassificationJobArrayOutputWithContext(ctx context.Context) ClassificationJobArrayOutput {
	return o
}

func (o ClassificationJobArrayOutput) Index(i pulumi.IntInput) ClassificationJobOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) ClassificationJob {
		return vs[0].([]ClassificationJob)[vs[1].(int)]
	}).(ClassificationJobOutput)
}

type ClassificationJobMapOutput struct{ *pulumi.OutputState }

func (ClassificationJobMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]ClassificationJob)(nil))
}

func (o ClassificationJobMapOutput) ToClassificationJobMapOutput() ClassificationJobMapOutput {
	return o
}

func (o ClassificationJobMapOutput) ToClassificationJobMapOutputWithContext(ctx context.Context) ClassificationJobMapOutput {
	return o
}

func (o ClassificationJobMapOutput) MapIndex(k pulumi.StringInput) ClassificationJobOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) ClassificationJob {
		return vs[0].(map[string]ClassificationJob)[vs[1].(string)]
	}).(ClassificationJobOutput)
}

func init() {
	pulumi.RegisterOutputType(ClassificationJobOutput{})
	pulumi.RegisterOutputType(ClassificationJobPtrOutput{})
	pulumi.RegisterOutputType(ClassificationJobArrayOutput{})
	pulumi.RegisterOutputType(ClassificationJobMapOutput{})
}
