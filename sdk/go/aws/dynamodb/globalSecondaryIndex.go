// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package dynamodb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// ## Import
//
// ### Identity Schema
//
// #### Required
//
// * `index_name` (String) Name of the index.
//
// * `table_name` (String) Name of the table this index belongs to.
//
// #### Optional
//
// * `account_id` (String) AWS Account where this resource is managed.
//
// * `region` (String) Region where this resource is managed.
//
// Using `pulumi import`, import DynamoDB tables using the `table_name` and `index_name`, separated by a comma. For example:
//
// % pulumi import aws_dynamodb_global_secondary_index.example 'example-table,example-index'
type GlobalSecondaryIndex struct {
	pulumi.CustomResourceState

	// ARN of the GSI.
	Arn pulumi.StringOutput `pulumi:"arn"`
	// Name of the index.
	IndexName pulumi.StringOutput `pulumi:"indexName"`
	// Set of nested attribute definitions.
	// At least 1 element defining a `HASH` is required.
	// All elements with the `keyType` of `HASH` must precede elements with `keyType` of `RANGE`.
	// Changing any values in `keySchema` will re-create the resource.
	// See `keySchema` below.
	KeySchemas GlobalSecondaryIndexKeySchemaArrayOutput `pulumi:"keySchemas"`
	// Sets the maximum number of read and write units for the index.
	// See `onDemandThroughput` below.
	// Only valid if the table's `billingMode` is `PAY_PER_REQUEST`.
	OnDemandThroughput GlobalSecondaryIndexOnDemandThroughputPtrOutput `pulumi:"onDemandThroughput"`
	// Describes which attributes from the table are represented in the index.
	// See `projection` below.
	Projection GlobalSecondaryIndexProjectionPtrOutput `pulumi:"projection"`
	// Provisioned throughput for the index.
	// See `provisionedThroughput` below.
	// Required if the table's `billingMode` is `PROVISIONED`.
	ProvisionedThroughput GlobalSecondaryIndexProvisionedThroughputPtrOutput `pulumi:"provisionedThroughput"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region pulumi.StringOutput `pulumi:"region"`
	// Name of the table this index belongs to.
	//
	// The following arguments are optional:
	TableName pulumi.StringOutput                   `pulumi:"tableName"`
	Timeouts  GlobalSecondaryIndexTimeoutsPtrOutput `pulumi:"timeouts"`
	// Sets the number of warm read and write units for this index.
	// See `warmThroughput` below.
	WarmThroughput GlobalSecondaryIndexWarmThroughputOutput `pulumi:"warmThroughput"`
}

// NewGlobalSecondaryIndex registers a new resource with the given unique name, arguments, and options.
func NewGlobalSecondaryIndex(ctx *pulumi.Context,
	name string, args *GlobalSecondaryIndexArgs, opts ...pulumi.ResourceOption) (*GlobalSecondaryIndex, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.IndexName == nil {
		return nil, errors.New("invalid value for required argument 'IndexName'")
	}
	if args.TableName == nil {
		return nil, errors.New("invalid value for required argument 'TableName'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource GlobalSecondaryIndex
	err := ctx.RegisterResource("aws:dynamodb/globalSecondaryIndex:GlobalSecondaryIndex", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetGlobalSecondaryIndex gets an existing GlobalSecondaryIndex resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetGlobalSecondaryIndex(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *GlobalSecondaryIndexState, opts ...pulumi.ResourceOption) (*GlobalSecondaryIndex, error) {
	var resource GlobalSecondaryIndex
	err := ctx.ReadResource("aws:dynamodb/globalSecondaryIndex:GlobalSecondaryIndex", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering GlobalSecondaryIndex resources.
type globalSecondaryIndexState struct {
	// ARN of the GSI.
	Arn *string `pulumi:"arn"`
	// Name of the index.
	IndexName *string `pulumi:"indexName"`
	// Set of nested attribute definitions.
	// At least 1 element defining a `HASH` is required.
	// All elements with the `keyType` of `HASH` must precede elements with `keyType` of `RANGE`.
	// Changing any values in `keySchema` will re-create the resource.
	// See `keySchema` below.
	KeySchemas []GlobalSecondaryIndexKeySchema `pulumi:"keySchemas"`
	// Sets the maximum number of read and write units for the index.
	// See `onDemandThroughput` below.
	// Only valid if the table's `billingMode` is `PAY_PER_REQUEST`.
	OnDemandThroughput *GlobalSecondaryIndexOnDemandThroughput `pulumi:"onDemandThroughput"`
	// Describes which attributes from the table are represented in the index.
	// See `projection` below.
	Projection *GlobalSecondaryIndexProjection `pulumi:"projection"`
	// Provisioned throughput for the index.
	// See `provisionedThroughput` below.
	// Required if the table's `billingMode` is `PROVISIONED`.
	ProvisionedThroughput *GlobalSecondaryIndexProvisionedThroughput `pulumi:"provisionedThroughput"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region *string `pulumi:"region"`
	// Name of the table this index belongs to.
	//
	// The following arguments are optional:
	TableName *string                       `pulumi:"tableName"`
	Timeouts  *GlobalSecondaryIndexTimeouts `pulumi:"timeouts"`
	// Sets the number of warm read and write units for this index.
	// See `warmThroughput` below.
	WarmThroughput *GlobalSecondaryIndexWarmThroughput `pulumi:"warmThroughput"`
}

type GlobalSecondaryIndexState struct {
	// ARN of the GSI.
	Arn pulumi.StringPtrInput
	// Name of the index.
	IndexName pulumi.StringPtrInput
	// Set of nested attribute definitions.
	// At least 1 element defining a `HASH` is required.
	// All elements with the `keyType` of `HASH` must precede elements with `keyType` of `RANGE`.
	// Changing any values in `keySchema` will re-create the resource.
	// See `keySchema` below.
	KeySchemas GlobalSecondaryIndexKeySchemaArrayInput
	// Sets the maximum number of read and write units for the index.
	// See `onDemandThroughput` below.
	// Only valid if the table's `billingMode` is `PAY_PER_REQUEST`.
	OnDemandThroughput GlobalSecondaryIndexOnDemandThroughputPtrInput
	// Describes which attributes from the table are represented in the index.
	// See `projection` below.
	Projection GlobalSecondaryIndexProjectionPtrInput
	// Provisioned throughput for the index.
	// See `provisionedThroughput` below.
	// Required if the table's `billingMode` is `PROVISIONED`.
	ProvisionedThroughput GlobalSecondaryIndexProvisionedThroughputPtrInput
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region pulumi.StringPtrInput
	// Name of the table this index belongs to.
	//
	// The following arguments are optional:
	TableName pulumi.StringPtrInput
	Timeouts  GlobalSecondaryIndexTimeoutsPtrInput
	// Sets the number of warm read and write units for this index.
	// See `warmThroughput` below.
	WarmThroughput GlobalSecondaryIndexWarmThroughputPtrInput
}

func (GlobalSecondaryIndexState) ElementType() reflect.Type {
	return reflect.TypeOf((*globalSecondaryIndexState)(nil)).Elem()
}

type globalSecondaryIndexArgs struct {
	// Name of the index.
	IndexName string `pulumi:"indexName"`
	// Set of nested attribute definitions.
	// At least 1 element defining a `HASH` is required.
	// All elements with the `keyType` of `HASH` must precede elements with `keyType` of `RANGE`.
	// Changing any values in `keySchema` will re-create the resource.
	// See `keySchema` below.
	KeySchemas []GlobalSecondaryIndexKeySchema `pulumi:"keySchemas"`
	// Sets the maximum number of read and write units for the index.
	// See `onDemandThroughput` below.
	// Only valid if the table's `billingMode` is `PAY_PER_REQUEST`.
	OnDemandThroughput *GlobalSecondaryIndexOnDemandThroughput `pulumi:"onDemandThroughput"`
	// Describes which attributes from the table are represented in the index.
	// See `projection` below.
	Projection *GlobalSecondaryIndexProjection `pulumi:"projection"`
	// Provisioned throughput for the index.
	// See `provisionedThroughput` below.
	// Required if the table's `billingMode` is `PROVISIONED`.
	ProvisionedThroughput *GlobalSecondaryIndexProvisionedThroughput `pulumi:"provisionedThroughput"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region *string `pulumi:"region"`
	// Name of the table this index belongs to.
	//
	// The following arguments are optional:
	TableName string                        `pulumi:"tableName"`
	Timeouts  *GlobalSecondaryIndexTimeouts `pulumi:"timeouts"`
	// Sets the number of warm read and write units for this index.
	// See `warmThroughput` below.
	WarmThroughput *GlobalSecondaryIndexWarmThroughput `pulumi:"warmThroughput"`
}

// The set of arguments for constructing a GlobalSecondaryIndex resource.
type GlobalSecondaryIndexArgs struct {
	// Name of the index.
	IndexName pulumi.StringInput
	// Set of nested attribute definitions.
	// At least 1 element defining a `HASH` is required.
	// All elements with the `keyType` of `HASH` must precede elements with `keyType` of `RANGE`.
	// Changing any values in `keySchema` will re-create the resource.
	// See `keySchema` below.
	KeySchemas GlobalSecondaryIndexKeySchemaArrayInput
	// Sets the maximum number of read and write units for the index.
	// See `onDemandThroughput` below.
	// Only valid if the table's `billingMode` is `PAY_PER_REQUEST`.
	OnDemandThroughput GlobalSecondaryIndexOnDemandThroughputPtrInput
	// Describes which attributes from the table are represented in the index.
	// See `projection` below.
	Projection GlobalSecondaryIndexProjectionPtrInput
	// Provisioned throughput for the index.
	// See `provisionedThroughput` below.
	// Required if the table's `billingMode` is `PROVISIONED`.
	ProvisionedThroughput GlobalSecondaryIndexProvisionedThroughputPtrInput
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region pulumi.StringPtrInput
	// Name of the table this index belongs to.
	//
	// The following arguments are optional:
	TableName pulumi.StringInput
	Timeouts  GlobalSecondaryIndexTimeoutsPtrInput
	// Sets the number of warm read and write units for this index.
	// See `warmThroughput` below.
	WarmThroughput GlobalSecondaryIndexWarmThroughputPtrInput
}

func (GlobalSecondaryIndexArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*globalSecondaryIndexArgs)(nil)).Elem()
}

type GlobalSecondaryIndexInput interface {
	pulumi.Input

	ToGlobalSecondaryIndexOutput() GlobalSecondaryIndexOutput
	ToGlobalSecondaryIndexOutputWithContext(ctx context.Context) GlobalSecondaryIndexOutput
}

func (*GlobalSecondaryIndex) ElementType() reflect.Type {
	return reflect.TypeOf((**GlobalSecondaryIndex)(nil)).Elem()
}

func (i *GlobalSecondaryIndex) ToGlobalSecondaryIndexOutput() GlobalSecondaryIndexOutput {
	return i.ToGlobalSecondaryIndexOutputWithContext(context.Background())
}

func (i *GlobalSecondaryIndex) ToGlobalSecondaryIndexOutputWithContext(ctx context.Context) GlobalSecondaryIndexOutput {
	return pulumi.ToOutputWithContext(ctx, i).(GlobalSecondaryIndexOutput)
}

// GlobalSecondaryIndexArrayInput is an input type that accepts GlobalSecondaryIndexArray and GlobalSecondaryIndexArrayOutput values.
// You can construct a concrete instance of `GlobalSecondaryIndexArrayInput` via:
//
//	GlobalSecondaryIndexArray{ GlobalSecondaryIndexArgs{...} }
type GlobalSecondaryIndexArrayInput interface {
	pulumi.Input

	ToGlobalSecondaryIndexArrayOutput() GlobalSecondaryIndexArrayOutput
	ToGlobalSecondaryIndexArrayOutputWithContext(context.Context) GlobalSecondaryIndexArrayOutput
}

type GlobalSecondaryIndexArray []GlobalSecondaryIndexInput

func (GlobalSecondaryIndexArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*GlobalSecondaryIndex)(nil)).Elem()
}

func (i GlobalSecondaryIndexArray) ToGlobalSecondaryIndexArrayOutput() GlobalSecondaryIndexArrayOutput {
	return i.ToGlobalSecondaryIndexArrayOutputWithContext(context.Background())
}

func (i GlobalSecondaryIndexArray) ToGlobalSecondaryIndexArrayOutputWithContext(ctx context.Context) GlobalSecondaryIndexArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(GlobalSecondaryIndexArrayOutput)
}

// GlobalSecondaryIndexMapInput is an input type that accepts GlobalSecondaryIndexMap and GlobalSecondaryIndexMapOutput values.
// You can construct a concrete instance of `GlobalSecondaryIndexMapInput` via:
//
//	GlobalSecondaryIndexMap{ "key": GlobalSecondaryIndexArgs{...} }
type GlobalSecondaryIndexMapInput interface {
	pulumi.Input

	ToGlobalSecondaryIndexMapOutput() GlobalSecondaryIndexMapOutput
	ToGlobalSecondaryIndexMapOutputWithContext(context.Context) GlobalSecondaryIndexMapOutput
}

type GlobalSecondaryIndexMap map[string]GlobalSecondaryIndexInput

func (GlobalSecondaryIndexMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*GlobalSecondaryIndex)(nil)).Elem()
}

func (i GlobalSecondaryIndexMap) ToGlobalSecondaryIndexMapOutput() GlobalSecondaryIndexMapOutput {
	return i.ToGlobalSecondaryIndexMapOutputWithContext(context.Background())
}

func (i GlobalSecondaryIndexMap) ToGlobalSecondaryIndexMapOutputWithContext(ctx context.Context) GlobalSecondaryIndexMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(GlobalSecondaryIndexMapOutput)
}

type GlobalSecondaryIndexOutput struct{ *pulumi.OutputState }

func (GlobalSecondaryIndexOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**GlobalSecondaryIndex)(nil)).Elem()
}

func (o GlobalSecondaryIndexOutput) ToGlobalSecondaryIndexOutput() GlobalSecondaryIndexOutput {
	return o
}

func (o GlobalSecondaryIndexOutput) ToGlobalSecondaryIndexOutputWithContext(ctx context.Context) GlobalSecondaryIndexOutput {
	return o
}

// ARN of the GSI.
func (o GlobalSecondaryIndexOutput) Arn() pulumi.StringOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) pulumi.StringOutput { return v.Arn }).(pulumi.StringOutput)
}

// Name of the index.
func (o GlobalSecondaryIndexOutput) IndexName() pulumi.StringOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) pulumi.StringOutput { return v.IndexName }).(pulumi.StringOutput)
}

// Set of nested attribute definitions.
// At least 1 element defining a `HASH` is required.
// All elements with the `keyType` of `HASH` must precede elements with `keyType` of `RANGE`.
// Changing any values in `keySchema` will re-create the resource.
// See `keySchema` below.
func (o GlobalSecondaryIndexOutput) KeySchemas() GlobalSecondaryIndexKeySchemaArrayOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) GlobalSecondaryIndexKeySchemaArrayOutput { return v.KeySchemas }).(GlobalSecondaryIndexKeySchemaArrayOutput)
}

// Sets the maximum number of read and write units for the index.
// See `onDemandThroughput` below.
// Only valid if the table's `billingMode` is `PAY_PER_REQUEST`.
func (o GlobalSecondaryIndexOutput) OnDemandThroughput() GlobalSecondaryIndexOnDemandThroughputPtrOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) GlobalSecondaryIndexOnDemandThroughputPtrOutput {
		return v.OnDemandThroughput
	}).(GlobalSecondaryIndexOnDemandThroughputPtrOutput)
}

// Describes which attributes from the table are represented in the index.
// See `projection` below.
func (o GlobalSecondaryIndexOutput) Projection() GlobalSecondaryIndexProjectionPtrOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) GlobalSecondaryIndexProjectionPtrOutput { return v.Projection }).(GlobalSecondaryIndexProjectionPtrOutput)
}

// Provisioned throughput for the index.
// See `provisionedThroughput` below.
// Required if the table's `billingMode` is `PROVISIONED`.
func (o GlobalSecondaryIndexOutput) ProvisionedThroughput() GlobalSecondaryIndexProvisionedThroughputPtrOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) GlobalSecondaryIndexProvisionedThroughputPtrOutput {
		return v.ProvisionedThroughput
	}).(GlobalSecondaryIndexProvisionedThroughputPtrOutput)
}

// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
func (o GlobalSecondaryIndexOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

// Name of the table this index belongs to.
//
// The following arguments are optional:
func (o GlobalSecondaryIndexOutput) TableName() pulumi.StringOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) pulumi.StringOutput { return v.TableName }).(pulumi.StringOutput)
}

func (o GlobalSecondaryIndexOutput) Timeouts() GlobalSecondaryIndexTimeoutsPtrOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) GlobalSecondaryIndexTimeoutsPtrOutput { return v.Timeouts }).(GlobalSecondaryIndexTimeoutsPtrOutput)
}

// Sets the number of warm read and write units for this index.
// See `warmThroughput` below.
func (o GlobalSecondaryIndexOutput) WarmThroughput() GlobalSecondaryIndexWarmThroughputOutput {
	return o.ApplyT(func(v *GlobalSecondaryIndex) GlobalSecondaryIndexWarmThroughputOutput { return v.WarmThroughput }).(GlobalSecondaryIndexWarmThroughputOutput)
}

type GlobalSecondaryIndexArrayOutput struct{ *pulumi.OutputState }

func (GlobalSecondaryIndexArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*GlobalSecondaryIndex)(nil)).Elem()
}

func (o GlobalSecondaryIndexArrayOutput) ToGlobalSecondaryIndexArrayOutput() GlobalSecondaryIndexArrayOutput {
	return o
}

func (o GlobalSecondaryIndexArrayOutput) ToGlobalSecondaryIndexArrayOutputWithContext(ctx context.Context) GlobalSecondaryIndexArrayOutput {
	return o
}

func (o GlobalSecondaryIndexArrayOutput) Index(i pulumi.IntInput) GlobalSecondaryIndexOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *GlobalSecondaryIndex {
		return vs[0].([]*GlobalSecondaryIndex)[vs[1].(int)]
	}).(GlobalSecondaryIndexOutput)
}

type GlobalSecondaryIndexMapOutput struct{ *pulumi.OutputState }

func (GlobalSecondaryIndexMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*GlobalSecondaryIndex)(nil)).Elem()
}

func (o GlobalSecondaryIndexMapOutput) ToGlobalSecondaryIndexMapOutput() GlobalSecondaryIndexMapOutput {
	return o
}

func (o GlobalSecondaryIndexMapOutput) ToGlobalSecondaryIndexMapOutputWithContext(ctx context.Context) GlobalSecondaryIndexMapOutput {
	return o
}

func (o GlobalSecondaryIndexMapOutput) MapIndex(k pulumi.StringInput) GlobalSecondaryIndexOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *GlobalSecondaryIndex {
		return vs[0].(map[string]*GlobalSecondaryIndex)[vs[1].(string)]
	}).(GlobalSecondaryIndexOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*GlobalSecondaryIndexInput)(nil)).Elem(), &GlobalSecondaryIndex{})
	pulumi.RegisterInputType(reflect.TypeOf((*GlobalSecondaryIndexArrayInput)(nil)).Elem(), GlobalSecondaryIndexArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*GlobalSecondaryIndexMapInput)(nil)).Elem(), GlobalSecondaryIndexMap{})
	pulumi.RegisterOutputType(GlobalSecondaryIndexOutput{})
	pulumi.RegisterOutputType(GlobalSecondaryIndexArrayOutput{})
	pulumi.RegisterOutputType(GlobalSecondaryIndexMapOutput{})
}
