// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package lambda

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages a Lambda function URL. Creates a dedicated HTTP(S) endpoint for a Lambda function to enable direct invocation via HTTP requests.
//
// > **NOTE:** When [`authorizationType` is `"NONE"`](https://docs.aws.amazon.com/lambda/latest/dg/urls-auth.html#urls-auth-none) the `lambda:InvokeFunctionUrl` permission allowing a public endpoint and `lambda:InvokeFunction` permission with the `InvokedViaFunctionUrl` flag set to `true` are automatically added to the Lambda function on creation. These policies are NOT removed from AWS when the resource is destroyed.
//
// ## Example Usage
//
// ### Basic Function URL with No Authentication
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/lambda"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := lambda.NewFunctionUrl(ctx, "example", &lambda.FunctionUrlArgs{
//				FunctionName:      pulumi.Any(exampleAwsLambdaFunction.FunctionName),
//				AuthorizationType: pulumi.String("NONE"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Function URL with IAM Authentication and CORS Configuration
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/lambda"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := lambda.NewFunctionUrl(ctx, "example", &lambda.FunctionUrlArgs{
//				FunctionName:      pulumi.Any(exampleAwsLambdaFunction.FunctionName),
//				Qualifier:         pulumi.String("my_alias"),
//				AuthorizationType: pulumi.String("AWS_IAM"),
//				InvokeMode:        pulumi.String("RESPONSE_STREAM"),
//				Cors: &lambda.FunctionUrlCorsArgs{
//					AllowCredentials: pulumi.Bool(true),
//					AllowOrigins: pulumi.StringArray{
//						pulumi.String("https://example.com"),
//					},
//					AllowMethods: pulumi.StringArray{
//						pulumi.String("GET"),
//						pulumi.String("POST"),
//					},
//					AllowHeaders: pulumi.StringArray{
//						pulumi.String("date"),
//						pulumi.String("keep-alive"),
//					},
//					ExposeHeaders: pulumi.StringArray{
//						pulumi.String("keep-alive"),
//						pulumi.String("date"),
//					},
//					MaxAge: pulumi.Int(86400),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Using `pulumi import`, import Lambda function URLs using the `function_name` or `function_name/qualifier`. For example:
//
// ```sh
// $ pulumi import aws:lambda/functionUrl:FunctionUrl example example
// ```
type FunctionUrl struct {
	pulumi.CustomResourceState

	// Type of authentication that the function URL uses. Valid values are `AWS_IAM` and `NONE`.
	AuthorizationType pulumi.StringOutput `pulumi:"authorizationType"`
	// Cross-origin resource sharing (CORS) settings for the function URL. See below.
	Cors FunctionUrlCorsPtrOutput `pulumi:"cors"`
	// ARN of the Lambda function.
	FunctionArn pulumi.StringOutput `pulumi:"functionArn"`
	// Name or ARN of the Lambda function.
	//
	// The following arguments are optional:
	FunctionName pulumi.StringOutput `pulumi:"functionName"`
	// HTTP URL endpoint for the function in the format `https://<url_id>.lambda-url.<region>.on.aws/`.
	FunctionUrl pulumi.StringOutput `pulumi:"functionUrl"`
	// How the Lambda function responds to an invocation. Valid values are `BUFFERED` (default) and `RESPONSE_STREAM`.
	InvokeMode pulumi.StringPtrOutput `pulumi:"invokeMode"`
	// Alias name or `$LATEST`.
	Qualifier pulumi.StringPtrOutput `pulumi:"qualifier"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region pulumi.StringOutput `pulumi:"region"`
	// Generated ID for the endpoint.
	UrlId pulumi.StringOutput `pulumi:"urlId"`
}

// NewFunctionUrl registers a new resource with the given unique name, arguments, and options.
func NewFunctionUrl(ctx *pulumi.Context,
	name string, args *FunctionUrlArgs, opts ...pulumi.ResourceOption) (*FunctionUrl, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.AuthorizationType == nil {
		return nil, errors.New("invalid value for required argument 'AuthorizationType'")
	}
	if args.FunctionName == nil {
		return nil, errors.New("invalid value for required argument 'FunctionName'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource FunctionUrl
	err := ctx.RegisterResource("aws:lambda/functionUrl:FunctionUrl", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetFunctionUrl gets an existing FunctionUrl resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetFunctionUrl(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *FunctionUrlState, opts ...pulumi.ResourceOption) (*FunctionUrl, error) {
	var resource FunctionUrl
	err := ctx.ReadResource("aws:lambda/functionUrl:FunctionUrl", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering FunctionUrl resources.
type functionUrlState struct {
	// Type of authentication that the function URL uses. Valid values are `AWS_IAM` and `NONE`.
	AuthorizationType *string `pulumi:"authorizationType"`
	// Cross-origin resource sharing (CORS) settings for the function URL. See below.
	Cors *FunctionUrlCors `pulumi:"cors"`
	// ARN of the Lambda function.
	FunctionArn *string `pulumi:"functionArn"`
	// Name or ARN of the Lambda function.
	//
	// The following arguments are optional:
	FunctionName *string `pulumi:"functionName"`
	// HTTP URL endpoint for the function in the format `https://<url_id>.lambda-url.<region>.on.aws/`.
	FunctionUrl *string `pulumi:"functionUrl"`
	// How the Lambda function responds to an invocation. Valid values are `BUFFERED` (default) and `RESPONSE_STREAM`.
	InvokeMode *string `pulumi:"invokeMode"`
	// Alias name or `$LATEST`.
	Qualifier *string `pulumi:"qualifier"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region *string `pulumi:"region"`
	// Generated ID for the endpoint.
	UrlId *string `pulumi:"urlId"`
}

type FunctionUrlState struct {
	// Type of authentication that the function URL uses. Valid values are `AWS_IAM` and `NONE`.
	AuthorizationType pulumi.StringPtrInput
	// Cross-origin resource sharing (CORS) settings for the function URL. See below.
	Cors FunctionUrlCorsPtrInput
	// ARN of the Lambda function.
	FunctionArn pulumi.StringPtrInput
	// Name or ARN of the Lambda function.
	//
	// The following arguments are optional:
	FunctionName pulumi.StringPtrInput
	// HTTP URL endpoint for the function in the format `https://<url_id>.lambda-url.<region>.on.aws/`.
	FunctionUrl pulumi.StringPtrInput
	// How the Lambda function responds to an invocation. Valid values are `BUFFERED` (default) and `RESPONSE_STREAM`.
	InvokeMode pulumi.StringPtrInput
	// Alias name or `$LATEST`.
	Qualifier pulumi.StringPtrInput
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region pulumi.StringPtrInput
	// Generated ID for the endpoint.
	UrlId pulumi.StringPtrInput
}

func (FunctionUrlState) ElementType() reflect.Type {
	return reflect.TypeOf((*functionUrlState)(nil)).Elem()
}

type functionUrlArgs struct {
	// Type of authentication that the function URL uses. Valid values are `AWS_IAM` and `NONE`.
	AuthorizationType string `pulumi:"authorizationType"`
	// Cross-origin resource sharing (CORS) settings for the function URL. See below.
	Cors *FunctionUrlCors `pulumi:"cors"`
	// Name or ARN of the Lambda function.
	//
	// The following arguments are optional:
	FunctionName string `pulumi:"functionName"`
	// How the Lambda function responds to an invocation. Valid values are `BUFFERED` (default) and `RESPONSE_STREAM`.
	InvokeMode *string `pulumi:"invokeMode"`
	// Alias name or `$LATEST`.
	Qualifier *string `pulumi:"qualifier"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region *string `pulumi:"region"`
}

// The set of arguments for constructing a FunctionUrl resource.
type FunctionUrlArgs struct {
	// Type of authentication that the function URL uses. Valid values are `AWS_IAM` and `NONE`.
	AuthorizationType pulumi.StringInput
	// Cross-origin resource sharing (CORS) settings for the function URL. See below.
	Cors FunctionUrlCorsPtrInput
	// Name or ARN of the Lambda function.
	//
	// The following arguments are optional:
	FunctionName pulumi.StringInput
	// How the Lambda function responds to an invocation. Valid values are `BUFFERED` (default) and `RESPONSE_STREAM`.
	InvokeMode pulumi.StringPtrInput
	// Alias name or `$LATEST`.
	Qualifier pulumi.StringPtrInput
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region pulumi.StringPtrInput
}

func (FunctionUrlArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*functionUrlArgs)(nil)).Elem()
}

type FunctionUrlInput interface {
	pulumi.Input

	ToFunctionUrlOutput() FunctionUrlOutput
	ToFunctionUrlOutputWithContext(ctx context.Context) FunctionUrlOutput
}

func (*FunctionUrl) ElementType() reflect.Type {
	return reflect.TypeOf((**FunctionUrl)(nil)).Elem()
}

func (i *FunctionUrl) ToFunctionUrlOutput() FunctionUrlOutput {
	return i.ToFunctionUrlOutputWithContext(context.Background())
}

func (i *FunctionUrl) ToFunctionUrlOutputWithContext(ctx context.Context) FunctionUrlOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FunctionUrlOutput)
}

// FunctionUrlArrayInput is an input type that accepts FunctionUrlArray and FunctionUrlArrayOutput values.
// You can construct a concrete instance of `FunctionUrlArrayInput` via:
//
//	FunctionUrlArray{ FunctionUrlArgs{...} }
type FunctionUrlArrayInput interface {
	pulumi.Input

	ToFunctionUrlArrayOutput() FunctionUrlArrayOutput
	ToFunctionUrlArrayOutputWithContext(context.Context) FunctionUrlArrayOutput
}

type FunctionUrlArray []FunctionUrlInput

func (FunctionUrlArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*FunctionUrl)(nil)).Elem()
}

func (i FunctionUrlArray) ToFunctionUrlArrayOutput() FunctionUrlArrayOutput {
	return i.ToFunctionUrlArrayOutputWithContext(context.Background())
}

func (i FunctionUrlArray) ToFunctionUrlArrayOutputWithContext(ctx context.Context) FunctionUrlArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FunctionUrlArrayOutput)
}

// FunctionUrlMapInput is an input type that accepts FunctionUrlMap and FunctionUrlMapOutput values.
// You can construct a concrete instance of `FunctionUrlMapInput` via:
//
//	FunctionUrlMap{ "key": FunctionUrlArgs{...} }
type FunctionUrlMapInput interface {
	pulumi.Input

	ToFunctionUrlMapOutput() FunctionUrlMapOutput
	ToFunctionUrlMapOutputWithContext(context.Context) FunctionUrlMapOutput
}

type FunctionUrlMap map[string]FunctionUrlInput

func (FunctionUrlMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*FunctionUrl)(nil)).Elem()
}

func (i FunctionUrlMap) ToFunctionUrlMapOutput() FunctionUrlMapOutput {
	return i.ToFunctionUrlMapOutputWithContext(context.Background())
}

func (i FunctionUrlMap) ToFunctionUrlMapOutputWithContext(ctx context.Context) FunctionUrlMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FunctionUrlMapOutput)
}

type FunctionUrlOutput struct{ *pulumi.OutputState }

func (FunctionUrlOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**FunctionUrl)(nil)).Elem()
}

func (o FunctionUrlOutput) ToFunctionUrlOutput() FunctionUrlOutput {
	return o
}

func (o FunctionUrlOutput) ToFunctionUrlOutputWithContext(ctx context.Context) FunctionUrlOutput {
	return o
}

// Type of authentication that the function URL uses. Valid values are `AWS_IAM` and `NONE`.
func (o FunctionUrlOutput) AuthorizationType() pulumi.StringOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringOutput { return v.AuthorizationType }).(pulumi.StringOutput)
}

// Cross-origin resource sharing (CORS) settings for the function URL. See below.
func (o FunctionUrlOutput) Cors() FunctionUrlCorsPtrOutput {
	return o.ApplyT(func(v *FunctionUrl) FunctionUrlCorsPtrOutput { return v.Cors }).(FunctionUrlCorsPtrOutput)
}

// ARN of the Lambda function.
func (o FunctionUrlOutput) FunctionArn() pulumi.StringOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringOutput { return v.FunctionArn }).(pulumi.StringOutput)
}

// Name or ARN of the Lambda function.
//
// The following arguments are optional:
func (o FunctionUrlOutput) FunctionName() pulumi.StringOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringOutput { return v.FunctionName }).(pulumi.StringOutput)
}

// HTTP URL endpoint for the function in the format `https://<url_id>.lambda-url.<region>.on.aws/`.
func (o FunctionUrlOutput) FunctionUrl() pulumi.StringOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringOutput { return v.FunctionUrl }).(pulumi.StringOutput)
}

// How the Lambda function responds to an invocation. Valid values are `BUFFERED` (default) and `RESPONSE_STREAM`.
func (o FunctionUrlOutput) InvokeMode() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringPtrOutput { return v.InvokeMode }).(pulumi.StringPtrOutput)
}

// Alias name or `$LATEST`.
func (o FunctionUrlOutput) Qualifier() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringPtrOutput { return v.Qualifier }).(pulumi.StringPtrOutput)
}

// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
func (o FunctionUrlOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

// Generated ID for the endpoint.
func (o FunctionUrlOutput) UrlId() pulumi.StringOutput {
	return o.ApplyT(func(v *FunctionUrl) pulumi.StringOutput { return v.UrlId }).(pulumi.StringOutput)
}

type FunctionUrlArrayOutput struct{ *pulumi.OutputState }

func (FunctionUrlArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*FunctionUrl)(nil)).Elem()
}

func (o FunctionUrlArrayOutput) ToFunctionUrlArrayOutput() FunctionUrlArrayOutput {
	return o
}

func (o FunctionUrlArrayOutput) ToFunctionUrlArrayOutputWithContext(ctx context.Context) FunctionUrlArrayOutput {
	return o
}

func (o FunctionUrlArrayOutput) Index(i pulumi.IntInput) FunctionUrlOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *FunctionUrl {
		return vs[0].([]*FunctionUrl)[vs[1].(int)]
	}).(FunctionUrlOutput)
}

type FunctionUrlMapOutput struct{ *pulumi.OutputState }

func (FunctionUrlMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*FunctionUrl)(nil)).Elem()
}

func (o FunctionUrlMapOutput) ToFunctionUrlMapOutput() FunctionUrlMapOutput {
	return o
}

func (o FunctionUrlMapOutput) ToFunctionUrlMapOutputWithContext(ctx context.Context) FunctionUrlMapOutput {
	return o
}

func (o FunctionUrlMapOutput) MapIndex(k pulumi.StringInput) FunctionUrlOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *FunctionUrl {
		return vs[0].(map[string]*FunctionUrl)[vs[1].(string)]
	}).(FunctionUrlOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*FunctionUrlInput)(nil)).Elem(), &FunctionUrl{})
	pulumi.RegisterInputType(reflect.TypeOf((*FunctionUrlArrayInput)(nil)).Elem(), FunctionUrlArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*FunctionUrlMapInput)(nil)).Elem(), FunctionUrlMap{})
	pulumi.RegisterOutputType(FunctionUrlOutput{})
	pulumi.RegisterOutputType(FunctionUrlArrayOutput{})
	pulumi.RegisterOutputType(FunctionUrlMapOutput{})
}
