// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package s3

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a S3 bucket [inventory configuration](https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html) resource.
//
// > This resource cannot be used with S3 directory buckets.
//
// ## Example Usage
// ### Add inventory configuration
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/s3"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			testBucketV2, err := s3.NewBucketV2(ctx, "testBucketV2", nil)
//			if err != nil {
//				return err
//			}
//			inventory, err := s3.NewBucketV2(ctx, "inventory", nil)
//			if err != nil {
//				return err
//			}
//			_, err = s3.NewInventory(ctx, "testInventory", &s3.InventoryArgs{
//				Bucket:                 testBucketV2.ID(),
//				IncludedObjectVersions: pulumi.String("All"),
//				Schedule: &s3.InventoryScheduleArgs{
//					Frequency: pulumi.String("Daily"),
//				},
//				Destination: &s3.InventoryDestinationArgs{
//					Bucket: &s3.InventoryDestinationBucketArgs{
//						Format:    pulumi.String("ORC"),
//						BucketArn: inventory.Arn,
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
// ### Add inventory configuration with S3 object prefix
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/s3"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			test, err := s3.NewBucketV2(ctx, "test", nil)
//			if err != nil {
//				return err
//			}
//			inventory, err := s3.NewBucketV2(ctx, "inventory", nil)
//			if err != nil {
//				return err
//			}
//			_, err = s3.NewInventory(ctx, "test-prefix", &s3.InventoryArgs{
//				Bucket:                 test.ID(),
//				IncludedObjectVersions: pulumi.String("All"),
//				Schedule: &s3.InventoryScheduleArgs{
//					Frequency: pulumi.String("Daily"),
//				},
//				Filter: &s3.InventoryFilterArgs{
//					Prefix: pulumi.String("documents/"),
//				},
//				Destination: &s3.InventoryDestinationArgs{
//					Bucket: &s3.InventoryDestinationBucketArgs{
//						Format:    pulumi.String("ORC"),
//						BucketArn: inventory.Arn,
//						Prefix:    pulumi.String("inventory"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Using `pulumi import`, import S3 bucket inventory configurations using `bucket:inventory`. For example:
//
// ```sh
//
//	$ pulumi import aws:s3/inventory:Inventory my-bucket-entire-bucket my-bucket:EntireBucket
//
// ```
type Inventory struct {
	pulumi.CustomResourceState

	// Name of the source bucket that inventory lists the objects for.
	Bucket pulumi.StringOutput `pulumi:"bucket"`
	// Contains information about where to publish the inventory results (documented below).
	Destination InventoryDestinationOutput `pulumi:"destination"`
	// Specifies whether the inventory is enabled or disabled.
	Enabled pulumi.BoolPtrOutput `pulumi:"enabled"`
	// Specifies an inventory filter. The inventory only includes objects that meet the filter's criteria (documented below).
	Filter InventoryFilterPtrOutput `pulumi:"filter"`
	// Object versions to include in the inventory list. Valid values: `All`, `Current`.
	IncludedObjectVersions pulumi.StringOutput `pulumi:"includedObjectVersions"`
	// Unique identifier of the inventory configuration for the bucket.
	Name pulumi.StringOutput `pulumi:"name"`
	// List of optional fields that are included in the inventory results. Please refer to the S3 [documentation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_InventoryConfiguration.html#AmazonS3-Type-InventoryConfiguration-OptionalFields) for more details.
	OptionalFields pulumi.StringArrayOutput `pulumi:"optionalFields"`
	// Specifies the schedule for generating inventory results (documented below).
	Schedule InventoryScheduleOutput `pulumi:"schedule"`
}

// NewInventory registers a new resource with the given unique name, arguments, and options.
func NewInventory(ctx *pulumi.Context,
	name string, args *InventoryArgs, opts ...pulumi.ResourceOption) (*Inventory, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Bucket == nil {
		return nil, errors.New("invalid value for required argument 'Bucket'")
	}
	if args.Destination == nil {
		return nil, errors.New("invalid value for required argument 'Destination'")
	}
	if args.IncludedObjectVersions == nil {
		return nil, errors.New("invalid value for required argument 'IncludedObjectVersions'")
	}
	if args.Schedule == nil {
		return nil, errors.New("invalid value for required argument 'Schedule'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Inventory
	err := ctx.RegisterResource("aws:s3/inventory:Inventory", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInventory gets an existing Inventory resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInventory(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InventoryState, opts ...pulumi.ResourceOption) (*Inventory, error) {
	var resource Inventory
	err := ctx.ReadResource("aws:s3/inventory:Inventory", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Inventory resources.
type inventoryState struct {
	// Name of the source bucket that inventory lists the objects for.
	Bucket *string `pulumi:"bucket"`
	// Contains information about where to publish the inventory results (documented below).
	Destination *InventoryDestination `pulumi:"destination"`
	// Specifies whether the inventory is enabled or disabled.
	Enabled *bool `pulumi:"enabled"`
	// Specifies an inventory filter. The inventory only includes objects that meet the filter's criteria (documented below).
	Filter *InventoryFilter `pulumi:"filter"`
	// Object versions to include in the inventory list. Valid values: `All`, `Current`.
	IncludedObjectVersions *string `pulumi:"includedObjectVersions"`
	// Unique identifier of the inventory configuration for the bucket.
	Name *string `pulumi:"name"`
	// List of optional fields that are included in the inventory results. Please refer to the S3 [documentation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_InventoryConfiguration.html#AmazonS3-Type-InventoryConfiguration-OptionalFields) for more details.
	OptionalFields []string `pulumi:"optionalFields"`
	// Specifies the schedule for generating inventory results (documented below).
	Schedule *InventorySchedule `pulumi:"schedule"`
}

type InventoryState struct {
	// Name of the source bucket that inventory lists the objects for.
	Bucket pulumi.StringPtrInput
	// Contains information about where to publish the inventory results (documented below).
	Destination InventoryDestinationPtrInput
	// Specifies whether the inventory is enabled or disabled.
	Enabled pulumi.BoolPtrInput
	// Specifies an inventory filter. The inventory only includes objects that meet the filter's criteria (documented below).
	Filter InventoryFilterPtrInput
	// Object versions to include in the inventory list. Valid values: `All`, `Current`.
	IncludedObjectVersions pulumi.StringPtrInput
	// Unique identifier of the inventory configuration for the bucket.
	Name pulumi.StringPtrInput
	// List of optional fields that are included in the inventory results. Please refer to the S3 [documentation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_InventoryConfiguration.html#AmazonS3-Type-InventoryConfiguration-OptionalFields) for more details.
	OptionalFields pulumi.StringArrayInput
	// Specifies the schedule for generating inventory results (documented below).
	Schedule InventorySchedulePtrInput
}

func (InventoryState) ElementType() reflect.Type {
	return reflect.TypeOf((*inventoryState)(nil)).Elem()
}

type inventoryArgs struct {
	// Name of the source bucket that inventory lists the objects for.
	Bucket string `pulumi:"bucket"`
	// Contains information about where to publish the inventory results (documented below).
	Destination InventoryDestination `pulumi:"destination"`
	// Specifies whether the inventory is enabled or disabled.
	Enabled *bool `pulumi:"enabled"`
	// Specifies an inventory filter. The inventory only includes objects that meet the filter's criteria (documented below).
	Filter *InventoryFilter `pulumi:"filter"`
	// Object versions to include in the inventory list. Valid values: `All`, `Current`.
	IncludedObjectVersions string `pulumi:"includedObjectVersions"`
	// Unique identifier of the inventory configuration for the bucket.
	Name *string `pulumi:"name"`
	// List of optional fields that are included in the inventory results. Please refer to the S3 [documentation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_InventoryConfiguration.html#AmazonS3-Type-InventoryConfiguration-OptionalFields) for more details.
	OptionalFields []string `pulumi:"optionalFields"`
	// Specifies the schedule for generating inventory results (documented below).
	Schedule InventorySchedule `pulumi:"schedule"`
}

// The set of arguments for constructing a Inventory resource.
type InventoryArgs struct {
	// Name of the source bucket that inventory lists the objects for.
	Bucket pulumi.StringInput
	// Contains information about where to publish the inventory results (documented below).
	Destination InventoryDestinationInput
	// Specifies whether the inventory is enabled or disabled.
	Enabled pulumi.BoolPtrInput
	// Specifies an inventory filter. The inventory only includes objects that meet the filter's criteria (documented below).
	Filter InventoryFilterPtrInput
	// Object versions to include in the inventory list. Valid values: `All`, `Current`.
	IncludedObjectVersions pulumi.StringInput
	// Unique identifier of the inventory configuration for the bucket.
	Name pulumi.StringPtrInput
	// List of optional fields that are included in the inventory results. Please refer to the S3 [documentation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_InventoryConfiguration.html#AmazonS3-Type-InventoryConfiguration-OptionalFields) for more details.
	OptionalFields pulumi.StringArrayInput
	// Specifies the schedule for generating inventory results (documented below).
	Schedule InventoryScheduleInput
}

func (InventoryArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*inventoryArgs)(nil)).Elem()
}

type InventoryInput interface {
	pulumi.Input

	ToInventoryOutput() InventoryOutput
	ToInventoryOutputWithContext(ctx context.Context) InventoryOutput
}

func (*Inventory) ElementType() reflect.Type {
	return reflect.TypeOf((**Inventory)(nil)).Elem()
}

func (i *Inventory) ToInventoryOutput() InventoryOutput {
	return i.ToInventoryOutputWithContext(context.Background())
}

func (i *Inventory) ToInventoryOutputWithContext(ctx context.Context) InventoryOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InventoryOutput)
}

// InventoryArrayInput is an input type that accepts InventoryArray and InventoryArrayOutput values.
// You can construct a concrete instance of `InventoryArrayInput` via:
//
//	InventoryArray{ InventoryArgs{...} }
type InventoryArrayInput interface {
	pulumi.Input

	ToInventoryArrayOutput() InventoryArrayOutput
	ToInventoryArrayOutputWithContext(context.Context) InventoryArrayOutput
}

type InventoryArray []InventoryInput

func (InventoryArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Inventory)(nil)).Elem()
}

func (i InventoryArray) ToInventoryArrayOutput() InventoryArrayOutput {
	return i.ToInventoryArrayOutputWithContext(context.Background())
}

func (i InventoryArray) ToInventoryArrayOutputWithContext(ctx context.Context) InventoryArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InventoryArrayOutput)
}

// InventoryMapInput is an input type that accepts InventoryMap and InventoryMapOutput values.
// You can construct a concrete instance of `InventoryMapInput` via:
//
//	InventoryMap{ "key": InventoryArgs{...} }
type InventoryMapInput interface {
	pulumi.Input

	ToInventoryMapOutput() InventoryMapOutput
	ToInventoryMapOutputWithContext(context.Context) InventoryMapOutput
}

type InventoryMap map[string]InventoryInput

func (InventoryMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Inventory)(nil)).Elem()
}

func (i InventoryMap) ToInventoryMapOutput() InventoryMapOutput {
	return i.ToInventoryMapOutputWithContext(context.Background())
}

func (i InventoryMap) ToInventoryMapOutputWithContext(ctx context.Context) InventoryMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InventoryMapOutput)
}

type InventoryOutput struct{ *pulumi.OutputState }

func (InventoryOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Inventory)(nil)).Elem()
}

func (o InventoryOutput) ToInventoryOutput() InventoryOutput {
	return o
}

func (o InventoryOutput) ToInventoryOutputWithContext(ctx context.Context) InventoryOutput {
	return o
}

// Name of the source bucket that inventory lists the objects for.
func (o InventoryOutput) Bucket() pulumi.StringOutput {
	return o.ApplyT(func(v *Inventory) pulumi.StringOutput { return v.Bucket }).(pulumi.StringOutput)
}

// Contains information about where to publish the inventory results (documented below).
func (o InventoryOutput) Destination() InventoryDestinationOutput {
	return o.ApplyT(func(v *Inventory) InventoryDestinationOutput { return v.Destination }).(InventoryDestinationOutput)
}

// Specifies whether the inventory is enabled or disabled.
func (o InventoryOutput) Enabled() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Inventory) pulumi.BoolPtrOutput { return v.Enabled }).(pulumi.BoolPtrOutput)
}

// Specifies an inventory filter. The inventory only includes objects that meet the filter's criteria (documented below).
func (o InventoryOutput) Filter() InventoryFilterPtrOutput {
	return o.ApplyT(func(v *Inventory) InventoryFilterPtrOutput { return v.Filter }).(InventoryFilterPtrOutput)
}

// Object versions to include in the inventory list. Valid values: `All`, `Current`.
func (o InventoryOutput) IncludedObjectVersions() pulumi.StringOutput {
	return o.ApplyT(func(v *Inventory) pulumi.StringOutput { return v.IncludedObjectVersions }).(pulumi.StringOutput)
}

// Unique identifier of the inventory configuration for the bucket.
func (o InventoryOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *Inventory) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// List of optional fields that are included in the inventory results. Please refer to the S3 [documentation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_InventoryConfiguration.html#AmazonS3-Type-InventoryConfiguration-OptionalFields) for more details.
func (o InventoryOutput) OptionalFields() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Inventory) pulumi.StringArrayOutput { return v.OptionalFields }).(pulumi.StringArrayOutput)
}

// Specifies the schedule for generating inventory results (documented below).
func (o InventoryOutput) Schedule() InventoryScheduleOutput {
	return o.ApplyT(func(v *Inventory) InventoryScheduleOutput { return v.Schedule }).(InventoryScheduleOutput)
}

type InventoryArrayOutput struct{ *pulumi.OutputState }

func (InventoryArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Inventory)(nil)).Elem()
}

func (o InventoryArrayOutput) ToInventoryArrayOutput() InventoryArrayOutput {
	return o
}

func (o InventoryArrayOutput) ToInventoryArrayOutputWithContext(ctx context.Context) InventoryArrayOutput {
	return o
}

func (o InventoryArrayOutput) Index(i pulumi.IntInput) InventoryOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Inventory {
		return vs[0].([]*Inventory)[vs[1].(int)]
	}).(InventoryOutput)
}

type InventoryMapOutput struct{ *pulumi.OutputState }

func (InventoryMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Inventory)(nil)).Elem()
}

func (o InventoryMapOutput) ToInventoryMapOutput() InventoryMapOutput {
	return o
}

func (o InventoryMapOutput) ToInventoryMapOutputWithContext(ctx context.Context) InventoryMapOutput {
	return o
}

func (o InventoryMapOutput) MapIndex(k pulumi.StringInput) InventoryOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Inventory {
		return vs[0].(map[string]*Inventory)[vs[1].(string)]
	}).(InventoryOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InventoryInput)(nil)).Elem(), &Inventory{})
	pulumi.RegisterInputType(reflect.TypeOf((*InventoryArrayInput)(nil)).Elem(), InventoryArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*InventoryMapInput)(nil)).Elem(), InventoryMap{})
	pulumi.RegisterOutputType(InventoryOutput{})
	pulumi.RegisterOutputType(InventoryArrayOutput{})
	pulumi.RegisterOutputType(InventoryMapOutput{})
}
