// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ssoadmin

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Resource for managing exclusive AWS SSO Admin Customer Managed Policy Attachments.
//
// This resource is designed to manage all customer managed policy attachments for an SSO permission set. Using this resource, Terraform will remove any customer managed policies attached to the permission set that are not defined in the configuration.
//
// !> **WARNING:** Do not use this resource together with the `ssoadmin.CustomerManagedPolicyAttachment` resource for the same permission set. Doing so will cause a conflict and will lead to customer managed policies being removed.
//
// > Destruction of this resource means Terraform will no longer manage the customer managed policy attachments, **but will not detach any policies**. The permission set will retain all customer managed policies that were attached at the time of destruction.
//
// ## Example Usage
//
// ### Basic Usage
//
// ```go
// package main
//
// import (
//
//	"encoding/json"
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/iam"
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/ssoadmin"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			example, err := ssoadmin.GetInstances(ctx, &ssoadmin.GetInstancesArgs{}, nil)
//			if err != nil {
//				return err
//			}
//			examplePermissionSet, err := ssoadmin.NewPermissionSet(ctx, "example", &ssoadmin.PermissionSetArgs{
//				Name:        pulumi.String("Example"),
//				InstanceArn: pulumi.String(example.Arns[0]),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON0, err := json.Marshal(map[string]interface{}{
//				"Version": "2012-10-17",
//				"Statement": []map[string]interface{}{
//					map[string]interface{}{
//						"Action": []string{
//							"ec2:Describe*",
//						},
//						"Effect":   "Allow",
//						"Resource": "*",
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			json0 := string(tmpJSON0)
//			examplePolicy, err := iam.NewPolicy(ctx, "example", &iam.PolicyArgs{
//				Name:        pulumi.String("TestPolicy"),
//				Description: pulumi.String("My test policy"),
//				Policy:      pulumi.String(json0),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = ssoadmin.NewCustomerManagedPolicyAttachmentsExclusive(ctx, "example", &ssoadmin.CustomerManagedPolicyAttachmentsExclusiveArgs{
//				InstanceArn:      pulumi.String(example.Arns[0]),
//				PermissionSetArn: examplePermissionSet.Arn,
//				CustomerManagedPolicyReferences: ssoadmin.CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArray{
//					&ssoadmin.CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArgs{
//						Name: examplePolicy.Name,
//						Path: pulumi.String("/"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Disallow Customer Managed Policy Attachments
//
// To disallow all customer managed policy attachments, omit the `customerManagedPolicyReference` block.
//
// > Any customer managed policies attached to the permission set will be **removed**.
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/ssoadmin"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := ssoadmin.NewCustomerManagedPolicyAttachmentsExclusive(ctx, "example", &ssoadmin.CustomerManagedPolicyAttachmentsExclusiveArgs{
//				InstanceArn:      pulumi.Any(exampleAwsSsoadminInstances.Arns[0]),
//				PermissionSetArn: pulumi.Any(exampleAwsSsoadminPermissionSet.Arn),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ### Identity Schema
//
// #### Required
//
// * `instanceArn` (String) ARN of the SSO Instance.
// * `permissionSetArn` (String) ARN of the Permission Set.
//
// #### Optional
//
// * `region` (String) Region where this resource is managed.
//
// Using `pulumi import`, import SSO Admin Customer Managed Policy Attachments Exclusive using the `instanceArn` and `permissionSetArn` arguments, separated by a comma (`,`). For example:
//
// ```sh
// $ pulumi import aws:ssoadmin/customerManagedPolicyAttachmentsExclusive:CustomerManagedPolicyAttachmentsExclusive example arn:aws:sso:::instance/ssoins-1234567890abcdef,arn:aws:sso:::permissionSet/ssoins-1234567890abcdef/ps-1234567890abcdef
// ```
type CustomerManagedPolicyAttachmentsExclusive struct {
	pulumi.CustomResourceState

	// Specifies the names and paths of the customer managed policies to attach. See Customer Managed Policy Reference below.
	CustomerManagedPolicyReferences CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArrayOutput `pulumi:"customerManagedPolicyReferences"`
	// ARN of the SSO Instance.
	InstanceArn pulumi.StringOutput `pulumi:"instanceArn"`
	// ARN of the Permission Set.
	//
	// The following arguments are optional:
	PermissionSetArn pulumi.StringOutput `pulumi:"permissionSetArn"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region   pulumi.StringOutput                                        `pulumi:"region"`
	Timeouts CustomerManagedPolicyAttachmentsExclusiveTimeoutsPtrOutput `pulumi:"timeouts"`
}

// NewCustomerManagedPolicyAttachmentsExclusive registers a new resource with the given unique name, arguments, and options.
func NewCustomerManagedPolicyAttachmentsExclusive(ctx *pulumi.Context,
	name string, args *CustomerManagedPolicyAttachmentsExclusiveArgs, opts ...pulumi.ResourceOption) (*CustomerManagedPolicyAttachmentsExclusive, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.InstanceArn == nil {
		return nil, errors.New("invalid value for required argument 'InstanceArn'")
	}
	if args.PermissionSetArn == nil {
		return nil, errors.New("invalid value for required argument 'PermissionSetArn'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource CustomerManagedPolicyAttachmentsExclusive
	err := ctx.RegisterResource("aws:ssoadmin/customerManagedPolicyAttachmentsExclusive:CustomerManagedPolicyAttachmentsExclusive", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCustomerManagedPolicyAttachmentsExclusive gets an existing CustomerManagedPolicyAttachmentsExclusive resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCustomerManagedPolicyAttachmentsExclusive(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CustomerManagedPolicyAttachmentsExclusiveState, opts ...pulumi.ResourceOption) (*CustomerManagedPolicyAttachmentsExclusive, error) {
	var resource CustomerManagedPolicyAttachmentsExclusive
	err := ctx.ReadResource("aws:ssoadmin/customerManagedPolicyAttachmentsExclusive:CustomerManagedPolicyAttachmentsExclusive", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CustomerManagedPolicyAttachmentsExclusive resources.
type customerManagedPolicyAttachmentsExclusiveState struct {
	// Specifies the names and paths of the customer managed policies to attach. See Customer Managed Policy Reference below.
	CustomerManagedPolicyReferences []CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReference `pulumi:"customerManagedPolicyReferences"`
	// ARN of the SSO Instance.
	InstanceArn *string `pulumi:"instanceArn"`
	// ARN of the Permission Set.
	//
	// The following arguments are optional:
	PermissionSetArn *string `pulumi:"permissionSetArn"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region   *string                                            `pulumi:"region"`
	Timeouts *CustomerManagedPolicyAttachmentsExclusiveTimeouts `pulumi:"timeouts"`
}

type CustomerManagedPolicyAttachmentsExclusiveState struct {
	// Specifies the names and paths of the customer managed policies to attach. See Customer Managed Policy Reference below.
	CustomerManagedPolicyReferences CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArrayInput
	// ARN of the SSO Instance.
	InstanceArn pulumi.StringPtrInput
	// ARN of the Permission Set.
	//
	// The following arguments are optional:
	PermissionSetArn pulumi.StringPtrInput
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region   pulumi.StringPtrInput
	Timeouts CustomerManagedPolicyAttachmentsExclusiveTimeoutsPtrInput
}

func (CustomerManagedPolicyAttachmentsExclusiveState) ElementType() reflect.Type {
	return reflect.TypeOf((*customerManagedPolicyAttachmentsExclusiveState)(nil)).Elem()
}

type customerManagedPolicyAttachmentsExclusiveArgs struct {
	// Specifies the names and paths of the customer managed policies to attach. See Customer Managed Policy Reference below.
	CustomerManagedPolicyReferences []CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReference `pulumi:"customerManagedPolicyReferences"`
	// ARN of the SSO Instance.
	InstanceArn string `pulumi:"instanceArn"`
	// ARN of the Permission Set.
	//
	// The following arguments are optional:
	PermissionSetArn string `pulumi:"permissionSetArn"`
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region   *string                                            `pulumi:"region"`
	Timeouts *CustomerManagedPolicyAttachmentsExclusiveTimeouts `pulumi:"timeouts"`
}

// The set of arguments for constructing a CustomerManagedPolicyAttachmentsExclusive resource.
type CustomerManagedPolicyAttachmentsExclusiveArgs struct {
	// Specifies the names and paths of the customer managed policies to attach. See Customer Managed Policy Reference below.
	CustomerManagedPolicyReferences CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArrayInput
	// ARN of the SSO Instance.
	InstanceArn pulumi.StringInput
	// ARN of the Permission Set.
	//
	// The following arguments are optional:
	PermissionSetArn pulumi.StringInput
	// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
	Region   pulumi.StringPtrInput
	Timeouts CustomerManagedPolicyAttachmentsExclusiveTimeoutsPtrInput
}

func (CustomerManagedPolicyAttachmentsExclusiveArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*customerManagedPolicyAttachmentsExclusiveArgs)(nil)).Elem()
}

type CustomerManagedPolicyAttachmentsExclusiveInput interface {
	pulumi.Input

	ToCustomerManagedPolicyAttachmentsExclusiveOutput() CustomerManagedPolicyAttachmentsExclusiveOutput
	ToCustomerManagedPolicyAttachmentsExclusiveOutputWithContext(ctx context.Context) CustomerManagedPolicyAttachmentsExclusiveOutput
}

func (*CustomerManagedPolicyAttachmentsExclusive) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomerManagedPolicyAttachmentsExclusive)(nil)).Elem()
}

func (i *CustomerManagedPolicyAttachmentsExclusive) ToCustomerManagedPolicyAttachmentsExclusiveOutput() CustomerManagedPolicyAttachmentsExclusiveOutput {
	return i.ToCustomerManagedPolicyAttachmentsExclusiveOutputWithContext(context.Background())
}

func (i *CustomerManagedPolicyAttachmentsExclusive) ToCustomerManagedPolicyAttachmentsExclusiveOutputWithContext(ctx context.Context) CustomerManagedPolicyAttachmentsExclusiveOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomerManagedPolicyAttachmentsExclusiveOutput)
}

// CustomerManagedPolicyAttachmentsExclusiveArrayInput is an input type that accepts CustomerManagedPolicyAttachmentsExclusiveArray and CustomerManagedPolicyAttachmentsExclusiveArrayOutput values.
// You can construct a concrete instance of `CustomerManagedPolicyAttachmentsExclusiveArrayInput` via:
//
//	CustomerManagedPolicyAttachmentsExclusiveArray{ CustomerManagedPolicyAttachmentsExclusiveArgs{...} }
type CustomerManagedPolicyAttachmentsExclusiveArrayInput interface {
	pulumi.Input

	ToCustomerManagedPolicyAttachmentsExclusiveArrayOutput() CustomerManagedPolicyAttachmentsExclusiveArrayOutput
	ToCustomerManagedPolicyAttachmentsExclusiveArrayOutputWithContext(context.Context) CustomerManagedPolicyAttachmentsExclusiveArrayOutput
}

type CustomerManagedPolicyAttachmentsExclusiveArray []CustomerManagedPolicyAttachmentsExclusiveInput

func (CustomerManagedPolicyAttachmentsExclusiveArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomerManagedPolicyAttachmentsExclusive)(nil)).Elem()
}

func (i CustomerManagedPolicyAttachmentsExclusiveArray) ToCustomerManagedPolicyAttachmentsExclusiveArrayOutput() CustomerManagedPolicyAttachmentsExclusiveArrayOutput {
	return i.ToCustomerManagedPolicyAttachmentsExclusiveArrayOutputWithContext(context.Background())
}

func (i CustomerManagedPolicyAttachmentsExclusiveArray) ToCustomerManagedPolicyAttachmentsExclusiveArrayOutputWithContext(ctx context.Context) CustomerManagedPolicyAttachmentsExclusiveArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomerManagedPolicyAttachmentsExclusiveArrayOutput)
}

// CustomerManagedPolicyAttachmentsExclusiveMapInput is an input type that accepts CustomerManagedPolicyAttachmentsExclusiveMap and CustomerManagedPolicyAttachmentsExclusiveMapOutput values.
// You can construct a concrete instance of `CustomerManagedPolicyAttachmentsExclusiveMapInput` via:
//
//	CustomerManagedPolicyAttachmentsExclusiveMap{ "key": CustomerManagedPolicyAttachmentsExclusiveArgs{...} }
type CustomerManagedPolicyAttachmentsExclusiveMapInput interface {
	pulumi.Input

	ToCustomerManagedPolicyAttachmentsExclusiveMapOutput() CustomerManagedPolicyAttachmentsExclusiveMapOutput
	ToCustomerManagedPolicyAttachmentsExclusiveMapOutputWithContext(context.Context) CustomerManagedPolicyAttachmentsExclusiveMapOutput
}

type CustomerManagedPolicyAttachmentsExclusiveMap map[string]CustomerManagedPolicyAttachmentsExclusiveInput

func (CustomerManagedPolicyAttachmentsExclusiveMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomerManagedPolicyAttachmentsExclusive)(nil)).Elem()
}

func (i CustomerManagedPolicyAttachmentsExclusiveMap) ToCustomerManagedPolicyAttachmentsExclusiveMapOutput() CustomerManagedPolicyAttachmentsExclusiveMapOutput {
	return i.ToCustomerManagedPolicyAttachmentsExclusiveMapOutputWithContext(context.Background())
}

func (i CustomerManagedPolicyAttachmentsExclusiveMap) ToCustomerManagedPolicyAttachmentsExclusiveMapOutputWithContext(ctx context.Context) CustomerManagedPolicyAttachmentsExclusiveMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomerManagedPolicyAttachmentsExclusiveMapOutput)
}

type CustomerManagedPolicyAttachmentsExclusiveOutput struct{ *pulumi.OutputState }

func (CustomerManagedPolicyAttachmentsExclusiveOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomerManagedPolicyAttachmentsExclusive)(nil)).Elem()
}

func (o CustomerManagedPolicyAttachmentsExclusiveOutput) ToCustomerManagedPolicyAttachmentsExclusiveOutput() CustomerManagedPolicyAttachmentsExclusiveOutput {
	return o
}

func (o CustomerManagedPolicyAttachmentsExclusiveOutput) ToCustomerManagedPolicyAttachmentsExclusiveOutputWithContext(ctx context.Context) CustomerManagedPolicyAttachmentsExclusiveOutput {
	return o
}

// Specifies the names and paths of the customer managed policies to attach. See Customer Managed Policy Reference below.
func (o CustomerManagedPolicyAttachmentsExclusiveOutput) CustomerManagedPolicyReferences() CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArrayOutput {
	return o.ApplyT(func(v *CustomerManagedPolicyAttachmentsExclusive) CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArrayOutput {
		return v.CustomerManagedPolicyReferences
	}).(CustomerManagedPolicyAttachmentsExclusiveCustomerManagedPolicyReferenceArrayOutput)
}

// ARN of the SSO Instance.
func (o CustomerManagedPolicyAttachmentsExclusiveOutput) InstanceArn() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerManagedPolicyAttachmentsExclusive) pulumi.StringOutput { return v.InstanceArn }).(pulumi.StringOutput)
}

// ARN of the Permission Set.
//
// The following arguments are optional:
func (o CustomerManagedPolicyAttachmentsExclusiveOutput) PermissionSetArn() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerManagedPolicyAttachmentsExclusive) pulumi.StringOutput { return v.PermissionSetArn }).(pulumi.StringOutput)
}

// Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the provider configuration.
func (o CustomerManagedPolicyAttachmentsExclusiveOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerManagedPolicyAttachmentsExclusive) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

func (o CustomerManagedPolicyAttachmentsExclusiveOutput) Timeouts() CustomerManagedPolicyAttachmentsExclusiveTimeoutsPtrOutput {
	return o.ApplyT(func(v *CustomerManagedPolicyAttachmentsExclusive) CustomerManagedPolicyAttachmentsExclusiveTimeoutsPtrOutput {
		return v.Timeouts
	}).(CustomerManagedPolicyAttachmentsExclusiveTimeoutsPtrOutput)
}

type CustomerManagedPolicyAttachmentsExclusiveArrayOutput struct{ *pulumi.OutputState }

func (CustomerManagedPolicyAttachmentsExclusiveArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomerManagedPolicyAttachmentsExclusive)(nil)).Elem()
}

func (o CustomerManagedPolicyAttachmentsExclusiveArrayOutput) ToCustomerManagedPolicyAttachmentsExclusiveArrayOutput() CustomerManagedPolicyAttachmentsExclusiveArrayOutput {
	return o
}

func (o CustomerManagedPolicyAttachmentsExclusiveArrayOutput) ToCustomerManagedPolicyAttachmentsExclusiveArrayOutputWithContext(ctx context.Context) CustomerManagedPolicyAttachmentsExclusiveArrayOutput {
	return o
}

func (o CustomerManagedPolicyAttachmentsExclusiveArrayOutput) Index(i pulumi.IntInput) CustomerManagedPolicyAttachmentsExclusiveOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CustomerManagedPolicyAttachmentsExclusive {
		return vs[0].([]*CustomerManagedPolicyAttachmentsExclusive)[vs[1].(int)]
	}).(CustomerManagedPolicyAttachmentsExclusiveOutput)
}

type CustomerManagedPolicyAttachmentsExclusiveMapOutput struct{ *pulumi.OutputState }

func (CustomerManagedPolicyAttachmentsExclusiveMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomerManagedPolicyAttachmentsExclusive)(nil)).Elem()
}

func (o CustomerManagedPolicyAttachmentsExclusiveMapOutput) ToCustomerManagedPolicyAttachmentsExclusiveMapOutput() CustomerManagedPolicyAttachmentsExclusiveMapOutput {
	return o
}

func (o CustomerManagedPolicyAttachmentsExclusiveMapOutput) ToCustomerManagedPolicyAttachmentsExclusiveMapOutputWithContext(ctx context.Context) CustomerManagedPolicyAttachmentsExclusiveMapOutput {
	return o
}

func (o CustomerManagedPolicyAttachmentsExclusiveMapOutput) MapIndex(k pulumi.StringInput) CustomerManagedPolicyAttachmentsExclusiveOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CustomerManagedPolicyAttachmentsExclusive {
		return vs[0].(map[string]*CustomerManagedPolicyAttachmentsExclusive)[vs[1].(string)]
	}).(CustomerManagedPolicyAttachmentsExclusiveOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CustomerManagedPolicyAttachmentsExclusiveInput)(nil)).Elem(), &CustomerManagedPolicyAttachmentsExclusive{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomerManagedPolicyAttachmentsExclusiveArrayInput)(nil)).Elem(), CustomerManagedPolicyAttachmentsExclusiveArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomerManagedPolicyAttachmentsExclusiveMapInput)(nil)).Elem(), CustomerManagedPolicyAttachmentsExclusiveMap{})
	pulumi.RegisterOutputType(CustomerManagedPolicyAttachmentsExclusiveOutput{})
	pulumi.RegisterOutputType(CustomerManagedPolicyAttachmentsExclusiveArrayOutput{})
	pulumi.RegisterOutputType(CustomerManagedPolicyAttachmentsExclusiveMapOutput{})
}
