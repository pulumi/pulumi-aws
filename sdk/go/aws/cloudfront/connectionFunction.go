// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cloudfront

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages an AWS CloudFront Connection Function.
//
// ## Example Usage
//
// ### Basic Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/cloudfront"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cloudfront.NewConnectionFunction(ctx, "example", &cloudfront.ConnectionFunctionArgs{
//				Name:                   pulumi.String("example-connection-function"),
//				ConnectionFunctionCode: pulumi.String("function handler(event) { return event.request; }"),
//				ConnectionFunctionConfig: &cloudfront.ConnectionFunctionConnectionFunctionConfigArgs{
//					Runtime: pulumi.String("cloudfront-js-2.0"),
//					Comment: pulumi.String("Example connection function"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With Publish Enabled
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/cloudfront"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cloudfront.NewConnectionFunction(ctx, "example", &cloudfront.ConnectionFunctionArgs{
//				Name:                   pulumi.String("example-connection-function"),
//				ConnectionFunctionCode: pulumi.String("function handler(event) { return event.request; }"),
//				ConnectionFunctionConfig: &cloudfront.ConnectionFunctionConnectionFunctionConfigArgs{
//					Runtime: pulumi.String("cloudfront-js-2.0"),
//					Comment: pulumi.String("Example connection function"),
//				},
//				Publish: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With Key Value Store Associations
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/cloudfront"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			example, err := cloudfront.NewKeyValueStore(ctx, "example", &cloudfront.KeyValueStoreArgs{
//				Name:    pulumi.String("example-kvs"),
//				Comment: pulumi.String("Example key value store"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = cloudfront.NewConnectionFunction(ctx, "example", &cloudfront.ConnectionFunctionArgs{
//				Name:                   pulumi.String("example-connection-function"),
//				ConnectionFunctionCode: pulumi.String("function handler(event) { return event.request; }"),
//				ConnectionFunctionConfig: &cloudfront.ConnectionFunctionConnectionFunctionConfigArgs{
//					Runtime: pulumi.String("cloudfront-js-2.0"),
//					Comment: pulumi.String("Example connection function"),
//					KeyValueStoreAssociation: &cloudfront.ConnectionFunctionConnectionFunctionConfigKeyValueStoreAssociationArgs{
//						KeyValueStoreArn: example.Arn,
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With Tags
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v7/go/aws/cloudfront"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cloudfront.NewConnectionFunction(ctx, "example", &cloudfront.ConnectionFunctionArgs{
//				Name:                   pulumi.String("example-connection-function"),
//				ConnectionFunctionCode: pulumi.String("function handler(event) { return event.request; }"),
//				ConnectionFunctionConfig: &cloudfront.ConnectionFunctionConnectionFunctionConfigArgs{
//					Runtime: pulumi.String("cloudfront-js-2.0"),
//					Comment: pulumi.String("Example connection function"),
//				},
//				Tags: pulumi.StringMap{
//					"Environment": pulumi.String("production"),
//					"Team":        pulumi.String("web"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Using `pulumi import`, import CloudFront Connection Function using the function ID. For example:
//
// ```sh
// $ pulumi import aws:cloudfront/connectionFunction:ConnectionFunction example E1PA6795UKMFR9
// ```
type ConnectionFunction struct {
	pulumi.CustomResourceState

	// ARN of the connection function.
	ConnectionFunctionArn pulumi.StringOutput `pulumi:"connectionFunctionArn"`
	// Code for the connection function. Maximum length is 40960 characters.
	ConnectionFunctionCode pulumi.StringOutput `pulumi:"connectionFunctionCode"`
	// Configuration information for the connection function. See `connectionFunctionConfig` below.
	ConnectionFunctionConfig ConnectionFunctionConnectionFunctionConfigPtrOutput `pulumi:"connectionFunctionConfig"`
	// ETag of the connection function.
	Etag pulumi.StringOutput `pulumi:"etag"`
	// ETag of the function's LIVE stage. Will be empty if the function has not been published.
	LiveStageEtag pulumi.StringOutput `pulumi:"liveStageEtag"`
	// Name for the connection function. Must be 1-64 characters and can contain letters, numbers, hyphens, and underscores. Changing this forces a new resource to be created.
	//
	// The following arguments are optional:
	Name pulumi.StringOutput `pulumi:"name"`
	// Whether to publish the function to the `LIVE` stage after creation or update. Defaults to `false`.
	Publish pulumi.BoolOutput `pulumi:"publish"`
	// Status of the connection function.
	Status pulumi.StringOutput `pulumi:"status"`
	// Map of tags to assign to the resource. If configured with a provider `defaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
	Tags pulumi.StringMapOutput `pulumi:"tags"`
	// Map of tags assigned to the resource, including those inherited from the provider `defaultTags` configuration block.
	TagsAll pulumi.StringMapOutput `pulumi:"tagsAll"`
}

// NewConnectionFunction registers a new resource with the given unique name, arguments, and options.
func NewConnectionFunction(ctx *pulumi.Context,
	name string, args *ConnectionFunctionArgs, opts ...pulumi.ResourceOption) (*ConnectionFunction, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ConnectionFunctionCode == nil {
		return nil, errors.New("invalid value for required argument 'ConnectionFunctionCode'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ConnectionFunction
	err := ctx.RegisterResource("aws:cloudfront/connectionFunction:ConnectionFunction", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetConnectionFunction gets an existing ConnectionFunction resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetConnectionFunction(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ConnectionFunctionState, opts ...pulumi.ResourceOption) (*ConnectionFunction, error) {
	var resource ConnectionFunction
	err := ctx.ReadResource("aws:cloudfront/connectionFunction:ConnectionFunction", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ConnectionFunction resources.
type connectionFunctionState struct {
	// ARN of the connection function.
	ConnectionFunctionArn *string `pulumi:"connectionFunctionArn"`
	// Code for the connection function. Maximum length is 40960 characters.
	ConnectionFunctionCode *string `pulumi:"connectionFunctionCode"`
	// Configuration information for the connection function. See `connectionFunctionConfig` below.
	ConnectionFunctionConfig *ConnectionFunctionConnectionFunctionConfig `pulumi:"connectionFunctionConfig"`
	// ETag of the connection function.
	Etag *string `pulumi:"etag"`
	// ETag of the function's LIVE stage. Will be empty if the function has not been published.
	LiveStageEtag *string `pulumi:"liveStageEtag"`
	// Name for the connection function. Must be 1-64 characters and can contain letters, numbers, hyphens, and underscores. Changing this forces a new resource to be created.
	//
	// The following arguments are optional:
	Name *string `pulumi:"name"`
	// Whether to publish the function to the `LIVE` stage after creation or update. Defaults to `false`.
	Publish *bool `pulumi:"publish"`
	// Status of the connection function.
	Status *string `pulumi:"status"`
	// Map of tags to assign to the resource. If configured with a provider `defaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
	Tags map[string]string `pulumi:"tags"`
	// Map of tags assigned to the resource, including those inherited from the provider `defaultTags` configuration block.
	TagsAll map[string]string `pulumi:"tagsAll"`
}

type ConnectionFunctionState struct {
	// ARN of the connection function.
	ConnectionFunctionArn pulumi.StringPtrInput
	// Code for the connection function. Maximum length is 40960 characters.
	ConnectionFunctionCode pulumi.StringPtrInput
	// Configuration information for the connection function. See `connectionFunctionConfig` below.
	ConnectionFunctionConfig ConnectionFunctionConnectionFunctionConfigPtrInput
	// ETag of the connection function.
	Etag pulumi.StringPtrInput
	// ETag of the function's LIVE stage. Will be empty if the function has not been published.
	LiveStageEtag pulumi.StringPtrInput
	// Name for the connection function. Must be 1-64 characters and can contain letters, numbers, hyphens, and underscores. Changing this forces a new resource to be created.
	//
	// The following arguments are optional:
	Name pulumi.StringPtrInput
	// Whether to publish the function to the `LIVE` stage after creation or update. Defaults to `false`.
	Publish pulumi.BoolPtrInput
	// Status of the connection function.
	Status pulumi.StringPtrInput
	// Map of tags to assign to the resource. If configured with a provider `defaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
	Tags pulumi.StringMapInput
	// Map of tags assigned to the resource, including those inherited from the provider `defaultTags` configuration block.
	TagsAll pulumi.StringMapInput
}

func (ConnectionFunctionState) ElementType() reflect.Type {
	return reflect.TypeOf((*connectionFunctionState)(nil)).Elem()
}

type connectionFunctionArgs struct {
	// Code for the connection function. Maximum length is 40960 characters.
	ConnectionFunctionCode string `pulumi:"connectionFunctionCode"`
	// Configuration information for the connection function. See `connectionFunctionConfig` below.
	ConnectionFunctionConfig *ConnectionFunctionConnectionFunctionConfig `pulumi:"connectionFunctionConfig"`
	// Name for the connection function. Must be 1-64 characters and can contain letters, numbers, hyphens, and underscores. Changing this forces a new resource to be created.
	//
	// The following arguments are optional:
	Name *string `pulumi:"name"`
	// Whether to publish the function to the `LIVE` stage after creation or update. Defaults to `false`.
	Publish *bool `pulumi:"publish"`
	// Map of tags to assign to the resource. If configured with a provider `defaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
	Tags map[string]string `pulumi:"tags"`
}

// The set of arguments for constructing a ConnectionFunction resource.
type ConnectionFunctionArgs struct {
	// Code for the connection function. Maximum length is 40960 characters.
	ConnectionFunctionCode pulumi.StringInput
	// Configuration information for the connection function. See `connectionFunctionConfig` below.
	ConnectionFunctionConfig ConnectionFunctionConnectionFunctionConfigPtrInput
	// Name for the connection function. Must be 1-64 characters and can contain letters, numbers, hyphens, and underscores. Changing this forces a new resource to be created.
	//
	// The following arguments are optional:
	Name pulumi.StringPtrInput
	// Whether to publish the function to the `LIVE` stage after creation or update. Defaults to `false`.
	Publish pulumi.BoolPtrInput
	// Map of tags to assign to the resource. If configured with a provider `defaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
	Tags pulumi.StringMapInput
}

func (ConnectionFunctionArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*connectionFunctionArgs)(nil)).Elem()
}

type ConnectionFunctionInput interface {
	pulumi.Input

	ToConnectionFunctionOutput() ConnectionFunctionOutput
	ToConnectionFunctionOutputWithContext(ctx context.Context) ConnectionFunctionOutput
}

func (*ConnectionFunction) ElementType() reflect.Type {
	return reflect.TypeOf((**ConnectionFunction)(nil)).Elem()
}

func (i *ConnectionFunction) ToConnectionFunctionOutput() ConnectionFunctionOutput {
	return i.ToConnectionFunctionOutputWithContext(context.Background())
}

func (i *ConnectionFunction) ToConnectionFunctionOutputWithContext(ctx context.Context) ConnectionFunctionOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ConnectionFunctionOutput)
}

// ConnectionFunctionArrayInput is an input type that accepts ConnectionFunctionArray and ConnectionFunctionArrayOutput values.
// You can construct a concrete instance of `ConnectionFunctionArrayInput` via:
//
//	ConnectionFunctionArray{ ConnectionFunctionArgs{...} }
type ConnectionFunctionArrayInput interface {
	pulumi.Input

	ToConnectionFunctionArrayOutput() ConnectionFunctionArrayOutput
	ToConnectionFunctionArrayOutputWithContext(context.Context) ConnectionFunctionArrayOutput
}

type ConnectionFunctionArray []ConnectionFunctionInput

func (ConnectionFunctionArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ConnectionFunction)(nil)).Elem()
}

func (i ConnectionFunctionArray) ToConnectionFunctionArrayOutput() ConnectionFunctionArrayOutput {
	return i.ToConnectionFunctionArrayOutputWithContext(context.Background())
}

func (i ConnectionFunctionArray) ToConnectionFunctionArrayOutputWithContext(ctx context.Context) ConnectionFunctionArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ConnectionFunctionArrayOutput)
}

// ConnectionFunctionMapInput is an input type that accepts ConnectionFunctionMap and ConnectionFunctionMapOutput values.
// You can construct a concrete instance of `ConnectionFunctionMapInput` via:
//
//	ConnectionFunctionMap{ "key": ConnectionFunctionArgs{...} }
type ConnectionFunctionMapInput interface {
	pulumi.Input

	ToConnectionFunctionMapOutput() ConnectionFunctionMapOutput
	ToConnectionFunctionMapOutputWithContext(context.Context) ConnectionFunctionMapOutput
}

type ConnectionFunctionMap map[string]ConnectionFunctionInput

func (ConnectionFunctionMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ConnectionFunction)(nil)).Elem()
}

func (i ConnectionFunctionMap) ToConnectionFunctionMapOutput() ConnectionFunctionMapOutput {
	return i.ToConnectionFunctionMapOutputWithContext(context.Background())
}

func (i ConnectionFunctionMap) ToConnectionFunctionMapOutputWithContext(ctx context.Context) ConnectionFunctionMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ConnectionFunctionMapOutput)
}

type ConnectionFunctionOutput struct{ *pulumi.OutputState }

func (ConnectionFunctionOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ConnectionFunction)(nil)).Elem()
}

func (o ConnectionFunctionOutput) ToConnectionFunctionOutput() ConnectionFunctionOutput {
	return o
}

func (o ConnectionFunctionOutput) ToConnectionFunctionOutputWithContext(ctx context.Context) ConnectionFunctionOutput {
	return o
}

// ARN of the connection function.
func (o ConnectionFunctionOutput) ConnectionFunctionArn() pulumi.StringOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringOutput { return v.ConnectionFunctionArn }).(pulumi.StringOutput)
}

// Code for the connection function. Maximum length is 40960 characters.
func (o ConnectionFunctionOutput) ConnectionFunctionCode() pulumi.StringOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringOutput { return v.ConnectionFunctionCode }).(pulumi.StringOutput)
}

// Configuration information for the connection function. See `connectionFunctionConfig` below.
func (o ConnectionFunctionOutput) ConnectionFunctionConfig() ConnectionFunctionConnectionFunctionConfigPtrOutput {
	return o.ApplyT(func(v *ConnectionFunction) ConnectionFunctionConnectionFunctionConfigPtrOutput {
		return v.ConnectionFunctionConfig
	}).(ConnectionFunctionConnectionFunctionConfigPtrOutput)
}

// ETag of the connection function.
func (o ConnectionFunctionOutput) Etag() pulumi.StringOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringOutput { return v.Etag }).(pulumi.StringOutput)
}

// ETag of the function's LIVE stage. Will be empty if the function has not been published.
func (o ConnectionFunctionOutput) LiveStageEtag() pulumi.StringOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringOutput { return v.LiveStageEtag }).(pulumi.StringOutput)
}

// Name for the connection function. Must be 1-64 characters and can contain letters, numbers, hyphens, and underscores. Changing this forces a new resource to be created.
//
// The following arguments are optional:
func (o ConnectionFunctionOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Whether to publish the function to the `LIVE` stage after creation or update. Defaults to `false`.
func (o ConnectionFunctionOutput) Publish() pulumi.BoolOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.BoolOutput { return v.Publish }).(pulumi.BoolOutput)
}

// Status of the connection function.
func (o ConnectionFunctionOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// Map of tags to assign to the resource. If configured with a provider `defaultTags` configuration block present, tags with matching keys will overwrite those defined at the provider-level.
func (o ConnectionFunctionOutput) Tags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringMapOutput { return v.Tags }).(pulumi.StringMapOutput)
}

// Map of tags assigned to the resource, including those inherited from the provider `defaultTags` configuration block.
func (o ConnectionFunctionOutput) TagsAll() pulumi.StringMapOutput {
	return o.ApplyT(func(v *ConnectionFunction) pulumi.StringMapOutput { return v.TagsAll }).(pulumi.StringMapOutput)
}

type ConnectionFunctionArrayOutput struct{ *pulumi.OutputState }

func (ConnectionFunctionArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ConnectionFunction)(nil)).Elem()
}

func (o ConnectionFunctionArrayOutput) ToConnectionFunctionArrayOutput() ConnectionFunctionArrayOutput {
	return o
}

func (o ConnectionFunctionArrayOutput) ToConnectionFunctionArrayOutputWithContext(ctx context.Context) ConnectionFunctionArrayOutput {
	return o
}

func (o ConnectionFunctionArrayOutput) Index(i pulumi.IntInput) ConnectionFunctionOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ConnectionFunction {
		return vs[0].([]*ConnectionFunction)[vs[1].(int)]
	}).(ConnectionFunctionOutput)
}

type ConnectionFunctionMapOutput struct{ *pulumi.OutputState }

func (ConnectionFunctionMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ConnectionFunction)(nil)).Elem()
}

func (o ConnectionFunctionMapOutput) ToConnectionFunctionMapOutput() ConnectionFunctionMapOutput {
	return o
}

func (o ConnectionFunctionMapOutput) ToConnectionFunctionMapOutputWithContext(ctx context.Context) ConnectionFunctionMapOutput {
	return o
}

func (o ConnectionFunctionMapOutput) MapIndex(k pulumi.StringInput) ConnectionFunctionOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ConnectionFunction {
		return vs[0].(map[string]*ConnectionFunction)[vs[1].(string)]
	}).(ConnectionFunctionOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ConnectionFunctionInput)(nil)).Elem(), &ConnectionFunction{})
	pulumi.RegisterInputType(reflect.TypeOf((*ConnectionFunctionArrayInput)(nil)).Elem(), ConnectionFunctionArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ConnectionFunctionMapInput)(nil)).Elem(), ConnectionFunctionMap{})
	pulumi.RegisterOutputType(ConnectionFunctionOutput{})
	pulumi.RegisterOutputType(ConnectionFunctionArrayOutput{})
	pulumi.RegisterOutputType(ConnectionFunctionMapOutput{})
}
