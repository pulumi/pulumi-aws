// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package amplify

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides an Amplify Domain Association resource.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	amplify/app "github.com/pulumi/pulumi-aws/sdk/v1/go/aws/amplify/app"
//	amplify/branch "github.com/pulumi/pulumi-aws/sdk/v1/go/aws/amplify/branch"
//	amplify/domainAssociation "github.com/pulumi/pulumi-aws/sdk/v1/go/aws/amplify/domainAssociation"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
// func main() {
// pulumi.Run(func(ctx *pulumi.Context) error {
// exampleApp, err := amplify/app.NewApp(ctx, "exampleApp", &amplify/app.AppArgs{
// CustomRules: []map[string]interface{}{
// map[string]interface{}{
// "source": "https://example.com",
// "status": "302",
// "target": "https://www.example.com",
// },
// },
// })
// if err != nil {
// return err
// }
// master, err := amplify/branch.NewBranch(ctx, "master", &amplify/branch.BranchArgs{
// AppId: exampleApp.Id,
// BranchName: "master",
// })
// if err != nil {
// return err
// }
// _, err = amplify/domainAssociation.NewDomainAssociation(ctx, "exampleDomainAssociation", &amplify/domainAssociation.DomainAssociationArgs{
// AppId: exampleApp.Id,
// DomainName: "example.com",
// SubDomains: []map[string]interface{}{
// map[string]interface{}{
// "branchName": master.BranchName,
// "prefix": "",
// },
// map[string]interface{}{
// "branchName": master.BranchName,
// "prefix": "www",
// },
// },
// })
// if err != nil {
// return err
// }
// return nil
// })
// }
// ```
//
// ## Import
//
// Using `pulumi import`, import Amplify domain association using `app_id` and `domain_name`. For example:
//
// ```sh
//
//	$ pulumi import aws:amplify/domainAssociation:DomainAssociation app d2ypk4k47z8u6/example.com
//
// ```
type DomainAssociation struct {
	pulumi.CustomResourceState

	// Unique ID for an Amplify app.
	AppId pulumi.StringOutput `pulumi:"appId"`
	// ARN for the domain association.
	Arn pulumi.StringOutput `pulumi:"arn"`
	// The DNS record for certificate verification.
	CertificateVerificationDnsRecord pulumi.StringOutput `pulumi:"certificateVerificationDnsRecord"`
	// Domain name for the domain association.
	DomainName pulumi.StringOutput `pulumi:"domainName"`
	// Enables the automated creation of subdomains for branches.
	EnableAutoSubDomain pulumi.BoolPtrOutput `pulumi:"enableAutoSubDomain"`
	// Setting for the subdomain. Documented below.
	SubDomains DomainAssociationSubDomainArrayOutput `pulumi:"subDomains"`
	// If enabled, the resource will wait for the domain association status to change to `PENDING_DEPLOYMENT` or `AVAILABLE`. Setting this to `false` will skip the process. Default: `true`.
	WaitForVerification pulumi.BoolPtrOutput `pulumi:"waitForVerification"`
}

// NewDomainAssociation registers a new resource with the given unique name, arguments, and options.
func NewDomainAssociation(ctx *pulumi.Context,
	name string, args *DomainAssociationArgs, opts ...pulumi.ResourceOption) (*DomainAssociation, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.AppId == nil {
		return nil, errors.New("invalid value for required argument 'AppId'")
	}
	if args.DomainName == nil {
		return nil, errors.New("invalid value for required argument 'DomainName'")
	}
	if args.SubDomains == nil {
		return nil, errors.New("invalid value for required argument 'SubDomains'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DomainAssociation
	err := ctx.RegisterResource("aws:amplify/domainAssociation:DomainAssociation", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDomainAssociation gets an existing DomainAssociation resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDomainAssociation(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DomainAssociationState, opts ...pulumi.ResourceOption) (*DomainAssociation, error) {
	var resource DomainAssociation
	err := ctx.ReadResource("aws:amplify/domainAssociation:DomainAssociation", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DomainAssociation resources.
type domainAssociationState struct {
	// Unique ID for an Amplify app.
	AppId *string `pulumi:"appId"`
	// ARN for the domain association.
	Arn *string `pulumi:"arn"`
	// The DNS record for certificate verification.
	CertificateVerificationDnsRecord *string `pulumi:"certificateVerificationDnsRecord"`
	// Domain name for the domain association.
	DomainName *string `pulumi:"domainName"`
	// Enables the automated creation of subdomains for branches.
	EnableAutoSubDomain *bool `pulumi:"enableAutoSubDomain"`
	// Setting for the subdomain. Documented below.
	SubDomains []DomainAssociationSubDomain `pulumi:"subDomains"`
	// If enabled, the resource will wait for the domain association status to change to `PENDING_DEPLOYMENT` or `AVAILABLE`. Setting this to `false` will skip the process. Default: `true`.
	WaitForVerification *bool `pulumi:"waitForVerification"`
}

type DomainAssociationState struct {
	// Unique ID for an Amplify app.
	AppId pulumi.StringPtrInput
	// ARN for the domain association.
	Arn pulumi.StringPtrInput
	// The DNS record for certificate verification.
	CertificateVerificationDnsRecord pulumi.StringPtrInput
	// Domain name for the domain association.
	DomainName pulumi.StringPtrInput
	// Enables the automated creation of subdomains for branches.
	EnableAutoSubDomain pulumi.BoolPtrInput
	// Setting for the subdomain. Documented below.
	SubDomains DomainAssociationSubDomainArrayInput
	// If enabled, the resource will wait for the domain association status to change to `PENDING_DEPLOYMENT` or `AVAILABLE`. Setting this to `false` will skip the process. Default: `true`.
	WaitForVerification pulumi.BoolPtrInput
}

func (DomainAssociationState) ElementType() reflect.Type {
	return reflect.TypeOf((*domainAssociationState)(nil)).Elem()
}

type domainAssociationArgs struct {
	// Unique ID for an Amplify app.
	AppId string `pulumi:"appId"`
	// Domain name for the domain association.
	DomainName string `pulumi:"domainName"`
	// Enables the automated creation of subdomains for branches.
	EnableAutoSubDomain *bool `pulumi:"enableAutoSubDomain"`
	// Setting for the subdomain. Documented below.
	SubDomains []DomainAssociationSubDomain `pulumi:"subDomains"`
	// If enabled, the resource will wait for the domain association status to change to `PENDING_DEPLOYMENT` or `AVAILABLE`. Setting this to `false` will skip the process. Default: `true`.
	WaitForVerification *bool `pulumi:"waitForVerification"`
}

// The set of arguments for constructing a DomainAssociation resource.
type DomainAssociationArgs struct {
	// Unique ID for an Amplify app.
	AppId pulumi.StringInput
	// Domain name for the domain association.
	DomainName pulumi.StringInput
	// Enables the automated creation of subdomains for branches.
	EnableAutoSubDomain pulumi.BoolPtrInput
	// Setting for the subdomain. Documented below.
	SubDomains DomainAssociationSubDomainArrayInput
	// If enabled, the resource will wait for the domain association status to change to `PENDING_DEPLOYMENT` or `AVAILABLE`. Setting this to `false` will skip the process. Default: `true`.
	WaitForVerification pulumi.BoolPtrInput
}

func (DomainAssociationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*domainAssociationArgs)(nil)).Elem()
}

type DomainAssociationInput interface {
	pulumi.Input

	ToDomainAssociationOutput() DomainAssociationOutput
	ToDomainAssociationOutputWithContext(ctx context.Context) DomainAssociationOutput
}

func (*DomainAssociation) ElementType() reflect.Type {
	return reflect.TypeOf((**DomainAssociation)(nil)).Elem()
}

func (i *DomainAssociation) ToDomainAssociationOutput() DomainAssociationOutput {
	return i.ToDomainAssociationOutputWithContext(context.Background())
}

func (i *DomainAssociation) ToDomainAssociationOutputWithContext(ctx context.Context) DomainAssociationOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DomainAssociationOutput)
}

// DomainAssociationArrayInput is an input type that accepts DomainAssociationArray and DomainAssociationArrayOutput values.
// You can construct a concrete instance of `DomainAssociationArrayInput` via:
//
//	DomainAssociationArray{ DomainAssociationArgs{...} }
type DomainAssociationArrayInput interface {
	pulumi.Input

	ToDomainAssociationArrayOutput() DomainAssociationArrayOutput
	ToDomainAssociationArrayOutputWithContext(context.Context) DomainAssociationArrayOutput
}

type DomainAssociationArray []DomainAssociationInput

func (DomainAssociationArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DomainAssociation)(nil)).Elem()
}

func (i DomainAssociationArray) ToDomainAssociationArrayOutput() DomainAssociationArrayOutput {
	return i.ToDomainAssociationArrayOutputWithContext(context.Background())
}

func (i DomainAssociationArray) ToDomainAssociationArrayOutputWithContext(ctx context.Context) DomainAssociationArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DomainAssociationArrayOutput)
}

// DomainAssociationMapInput is an input type that accepts DomainAssociationMap and DomainAssociationMapOutput values.
// You can construct a concrete instance of `DomainAssociationMapInput` via:
//
//	DomainAssociationMap{ "key": DomainAssociationArgs{...} }
type DomainAssociationMapInput interface {
	pulumi.Input

	ToDomainAssociationMapOutput() DomainAssociationMapOutput
	ToDomainAssociationMapOutputWithContext(context.Context) DomainAssociationMapOutput
}

type DomainAssociationMap map[string]DomainAssociationInput

func (DomainAssociationMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DomainAssociation)(nil)).Elem()
}

func (i DomainAssociationMap) ToDomainAssociationMapOutput() DomainAssociationMapOutput {
	return i.ToDomainAssociationMapOutputWithContext(context.Background())
}

func (i DomainAssociationMap) ToDomainAssociationMapOutputWithContext(ctx context.Context) DomainAssociationMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DomainAssociationMapOutput)
}

type DomainAssociationOutput struct{ *pulumi.OutputState }

func (DomainAssociationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DomainAssociation)(nil)).Elem()
}

func (o DomainAssociationOutput) ToDomainAssociationOutput() DomainAssociationOutput {
	return o
}

func (o DomainAssociationOutput) ToDomainAssociationOutputWithContext(ctx context.Context) DomainAssociationOutput {
	return o
}

// Unique ID for an Amplify app.
func (o DomainAssociationOutput) AppId() pulumi.StringOutput {
	return o.ApplyT(func(v *DomainAssociation) pulumi.StringOutput { return v.AppId }).(pulumi.StringOutput)
}

// ARN for the domain association.
func (o DomainAssociationOutput) Arn() pulumi.StringOutput {
	return o.ApplyT(func(v *DomainAssociation) pulumi.StringOutput { return v.Arn }).(pulumi.StringOutput)
}

// The DNS record for certificate verification.
func (o DomainAssociationOutput) CertificateVerificationDnsRecord() pulumi.StringOutput {
	return o.ApplyT(func(v *DomainAssociation) pulumi.StringOutput { return v.CertificateVerificationDnsRecord }).(pulumi.StringOutput)
}

// Domain name for the domain association.
func (o DomainAssociationOutput) DomainName() pulumi.StringOutput {
	return o.ApplyT(func(v *DomainAssociation) pulumi.StringOutput { return v.DomainName }).(pulumi.StringOutput)
}

// Enables the automated creation of subdomains for branches.
func (o DomainAssociationOutput) EnableAutoSubDomain() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *DomainAssociation) pulumi.BoolPtrOutput { return v.EnableAutoSubDomain }).(pulumi.BoolPtrOutput)
}

// Setting for the subdomain. Documented below.
func (o DomainAssociationOutput) SubDomains() DomainAssociationSubDomainArrayOutput {
	return o.ApplyT(func(v *DomainAssociation) DomainAssociationSubDomainArrayOutput { return v.SubDomains }).(DomainAssociationSubDomainArrayOutput)
}

// If enabled, the resource will wait for the domain association status to change to `PENDING_DEPLOYMENT` or `AVAILABLE`. Setting this to `false` will skip the process. Default: `true`.
func (o DomainAssociationOutput) WaitForVerification() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *DomainAssociation) pulumi.BoolPtrOutput { return v.WaitForVerification }).(pulumi.BoolPtrOutput)
}

type DomainAssociationArrayOutput struct{ *pulumi.OutputState }

func (DomainAssociationArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DomainAssociation)(nil)).Elem()
}

func (o DomainAssociationArrayOutput) ToDomainAssociationArrayOutput() DomainAssociationArrayOutput {
	return o
}

func (o DomainAssociationArrayOutput) ToDomainAssociationArrayOutputWithContext(ctx context.Context) DomainAssociationArrayOutput {
	return o
}

func (o DomainAssociationArrayOutput) Index(i pulumi.IntInput) DomainAssociationOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DomainAssociation {
		return vs[0].([]*DomainAssociation)[vs[1].(int)]
	}).(DomainAssociationOutput)
}

type DomainAssociationMapOutput struct{ *pulumi.OutputState }

func (DomainAssociationMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DomainAssociation)(nil)).Elem()
}

func (o DomainAssociationMapOutput) ToDomainAssociationMapOutput() DomainAssociationMapOutput {
	return o
}

func (o DomainAssociationMapOutput) ToDomainAssociationMapOutputWithContext(ctx context.Context) DomainAssociationMapOutput {
	return o
}

func (o DomainAssociationMapOutput) MapIndex(k pulumi.StringInput) DomainAssociationOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DomainAssociation {
		return vs[0].(map[string]*DomainAssociation)[vs[1].(string)]
	}).(DomainAssociationOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DomainAssociationInput)(nil)).Elem(), &DomainAssociation{})
	pulumi.RegisterInputType(reflect.TypeOf((*DomainAssociationArrayInput)(nil)).Elem(), DomainAssociationArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DomainAssociationMapInput)(nil)).Elem(), DomainAssociationMap{})
	pulumi.RegisterOutputType(DomainAssociationOutput{})
	pulumi.RegisterOutputType(DomainAssociationArrayOutput{})
	pulumi.RegisterOutputType(DomainAssociationMapOutput{})
}
