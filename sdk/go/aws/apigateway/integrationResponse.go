// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package apigateway

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides an HTTP Method Integration Response for an API Gateway Resource.
//
// > **Note:** Depends on having `apigateway.Integration` inside your rest api. To ensure this
// you might need to add an explicit `dependsOn` for clean runs.
//
// ## Example Usage
//
// <!--Start PulumiCodeChooser -->
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/apigateway"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			myDemoAPI, err := apigateway.NewRestApi(ctx, "MyDemoAPI", &apigateway.RestApiArgs{
//				Name:        pulumi.String("MyDemoAPI"),
//				Description: pulumi.String("This is my API for demonstration purposes"),
//			})
//			if err != nil {
//				return err
//			}
//			myDemoResource, err := apigateway.NewResource(ctx, "MyDemoResource", &apigateway.ResourceArgs{
//				RestApi:  myDemoAPI.ID(),
//				ParentId: myDemoAPI.RootResourceId,
//				PathPart: pulumi.String("mydemoresource"),
//			})
//			if err != nil {
//				return err
//			}
//			myDemoMethod, err := apigateway.NewMethod(ctx, "MyDemoMethod", &apigateway.MethodArgs{
//				RestApi:       myDemoAPI.ID(),
//				ResourceId:    myDemoResource.ID(),
//				HttpMethod:    pulumi.String("GET"),
//				Authorization: pulumi.String("NONE"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = apigateway.NewIntegration(ctx, "MyDemoIntegration", &apigateway.IntegrationArgs{
//				RestApi:    myDemoAPI.ID(),
//				ResourceId: myDemoResource.ID(),
//				HttpMethod: myDemoMethod.HttpMethod,
//				Type:       pulumi.String("MOCK"),
//			})
//			if err != nil {
//				return err
//			}
//			response200, err := apigateway.NewMethodResponse(ctx, "response_200", &apigateway.MethodResponseArgs{
//				RestApi:    myDemoAPI.ID(),
//				ResourceId: myDemoResource.ID(),
//				HttpMethod: myDemoMethod.HttpMethod,
//				StatusCode: pulumi.String("200"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = apigateway.NewIntegrationResponse(ctx, "MyDemoIntegrationResponse", &apigateway.IntegrationResponseArgs{
//				RestApi:    myDemoAPI.ID(),
//				ResourceId: myDemoResource.ID(),
//				HttpMethod: myDemoMethod.HttpMethod,
//				StatusCode: response200.StatusCode,
//				ResponseTemplates: pulumi.StringMap{
//					"application/xml": pulumi.String(`#set($inputRoot = $input.path('$'))
//
// <?xml version="1.0" encoding="UTF-8"?>
// <message>
//
//	$inputRoot.body
//
// </message>
// `),
//
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
// <!--End PulumiCodeChooser -->
//
// ## Import
//
// Using `pulumi import`, import `aws_api_gateway_integration_response` using `REST-API-ID/RESOURCE-ID/HTTP-METHOD/STATUS-CODE`. For example:
//
// ```sh
// $ pulumi import aws:apigateway/integrationResponse:IntegrationResponse example 12345abcde/67890fghij/GET/200
// ```
type IntegrationResponse struct {
	pulumi.CustomResourceState

	// How to handle request payload content type conversions. Supported values are `CONVERT_TO_BINARY` and `CONVERT_TO_TEXT`. If this property is not defined, the response payload will be passed through from the integration response to the method response without modification.
	ContentHandling pulumi.StringPtrOutput `pulumi:"contentHandling"`
	// HTTP method (`GET`, `POST`, `PUT`, `DELETE`, `HEAD`, `OPTIONS`, `ANY`).
	HttpMethod pulumi.StringOutput `pulumi:"httpMethod"`
	// API resource ID.
	ResourceId pulumi.StringOutput `pulumi:"resourceId"`
	// Map of response parameters that can be read from the backend response. For example: `responseParameters = { "method.response.header.X-Some-Header" = "integration.response.header.X-Some-Other-Header" }`.
	ResponseParameters pulumi.StringMapOutput `pulumi:"responseParameters"`
	// Map of templates used to transform the integration response body.
	ResponseTemplates pulumi.StringMapOutput `pulumi:"responseTemplates"`
	// ID of the associated REST API.
	RestApi pulumi.StringOutput `pulumi:"restApi"`
	// Regular expression pattern used to choose an integration response based on the response from the backend. Omit configuring this to make the integration the default one. If the backend is an `AWS` Lambda function, the AWS Lambda function error header is matched. For all other `HTTP` and `AWS` backends, the HTTP status code is matched.
	SelectionPattern pulumi.StringPtrOutput `pulumi:"selectionPattern"`
	// HTTP status code.
	//
	// The following arguments are optional:
	StatusCode pulumi.StringOutput `pulumi:"statusCode"`
}

// NewIntegrationResponse registers a new resource with the given unique name, arguments, and options.
func NewIntegrationResponse(ctx *pulumi.Context,
	name string, args *IntegrationResponseArgs, opts ...pulumi.ResourceOption) (*IntegrationResponse, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.HttpMethod == nil {
		return nil, errors.New("invalid value for required argument 'HttpMethod'")
	}
	if args.ResourceId == nil {
		return nil, errors.New("invalid value for required argument 'ResourceId'")
	}
	if args.RestApi == nil {
		return nil, errors.New("invalid value for required argument 'RestApi'")
	}
	if args.StatusCode == nil {
		return nil, errors.New("invalid value for required argument 'StatusCode'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource IntegrationResponse
	err := ctx.RegisterResource("aws:apigateway/integrationResponse:IntegrationResponse", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetIntegrationResponse gets an existing IntegrationResponse resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetIntegrationResponse(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *IntegrationResponseState, opts ...pulumi.ResourceOption) (*IntegrationResponse, error) {
	var resource IntegrationResponse
	err := ctx.ReadResource("aws:apigateway/integrationResponse:IntegrationResponse", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering IntegrationResponse resources.
type integrationResponseState struct {
	// How to handle request payload content type conversions. Supported values are `CONVERT_TO_BINARY` and `CONVERT_TO_TEXT`. If this property is not defined, the response payload will be passed through from the integration response to the method response without modification.
	ContentHandling *string `pulumi:"contentHandling"`
	// HTTP method (`GET`, `POST`, `PUT`, `DELETE`, `HEAD`, `OPTIONS`, `ANY`).
	HttpMethod *string `pulumi:"httpMethod"`
	// API resource ID.
	ResourceId *string `pulumi:"resourceId"`
	// Map of response parameters that can be read from the backend response. For example: `responseParameters = { "method.response.header.X-Some-Header" = "integration.response.header.X-Some-Other-Header" }`.
	ResponseParameters map[string]string `pulumi:"responseParameters"`
	// Map of templates used to transform the integration response body.
	ResponseTemplates map[string]string `pulumi:"responseTemplates"`
	// ID of the associated REST API.
	RestApi interface{} `pulumi:"restApi"`
	// Regular expression pattern used to choose an integration response based on the response from the backend. Omit configuring this to make the integration the default one. If the backend is an `AWS` Lambda function, the AWS Lambda function error header is matched. For all other `HTTP` and `AWS` backends, the HTTP status code is matched.
	SelectionPattern *string `pulumi:"selectionPattern"`
	// HTTP status code.
	//
	// The following arguments are optional:
	StatusCode *string `pulumi:"statusCode"`
}

type IntegrationResponseState struct {
	// How to handle request payload content type conversions. Supported values are `CONVERT_TO_BINARY` and `CONVERT_TO_TEXT`. If this property is not defined, the response payload will be passed through from the integration response to the method response without modification.
	ContentHandling pulumi.StringPtrInput
	// HTTP method (`GET`, `POST`, `PUT`, `DELETE`, `HEAD`, `OPTIONS`, `ANY`).
	HttpMethod pulumi.StringPtrInput
	// API resource ID.
	ResourceId pulumi.StringPtrInput
	// Map of response parameters that can be read from the backend response. For example: `responseParameters = { "method.response.header.X-Some-Header" = "integration.response.header.X-Some-Other-Header" }`.
	ResponseParameters pulumi.StringMapInput
	// Map of templates used to transform the integration response body.
	ResponseTemplates pulumi.StringMapInput
	// ID of the associated REST API.
	RestApi pulumi.Input
	// Regular expression pattern used to choose an integration response based on the response from the backend. Omit configuring this to make the integration the default one. If the backend is an `AWS` Lambda function, the AWS Lambda function error header is matched. For all other `HTTP` and `AWS` backends, the HTTP status code is matched.
	SelectionPattern pulumi.StringPtrInput
	// HTTP status code.
	//
	// The following arguments are optional:
	StatusCode pulumi.StringPtrInput
}

func (IntegrationResponseState) ElementType() reflect.Type {
	return reflect.TypeOf((*integrationResponseState)(nil)).Elem()
}

type integrationResponseArgs struct {
	// How to handle request payload content type conversions. Supported values are `CONVERT_TO_BINARY` and `CONVERT_TO_TEXT`. If this property is not defined, the response payload will be passed through from the integration response to the method response without modification.
	ContentHandling *string `pulumi:"contentHandling"`
	// HTTP method (`GET`, `POST`, `PUT`, `DELETE`, `HEAD`, `OPTIONS`, `ANY`).
	HttpMethod string `pulumi:"httpMethod"`
	// API resource ID.
	ResourceId string `pulumi:"resourceId"`
	// Map of response parameters that can be read from the backend response. For example: `responseParameters = { "method.response.header.X-Some-Header" = "integration.response.header.X-Some-Other-Header" }`.
	ResponseParameters map[string]string `pulumi:"responseParameters"`
	// Map of templates used to transform the integration response body.
	ResponseTemplates map[string]string `pulumi:"responseTemplates"`
	// ID of the associated REST API.
	RestApi interface{} `pulumi:"restApi"`
	// Regular expression pattern used to choose an integration response based on the response from the backend. Omit configuring this to make the integration the default one. If the backend is an `AWS` Lambda function, the AWS Lambda function error header is matched. For all other `HTTP` and `AWS` backends, the HTTP status code is matched.
	SelectionPattern *string `pulumi:"selectionPattern"`
	// HTTP status code.
	//
	// The following arguments are optional:
	StatusCode string `pulumi:"statusCode"`
}

// The set of arguments for constructing a IntegrationResponse resource.
type IntegrationResponseArgs struct {
	// How to handle request payload content type conversions. Supported values are `CONVERT_TO_BINARY` and `CONVERT_TO_TEXT`. If this property is not defined, the response payload will be passed through from the integration response to the method response without modification.
	ContentHandling pulumi.StringPtrInput
	// HTTP method (`GET`, `POST`, `PUT`, `DELETE`, `HEAD`, `OPTIONS`, `ANY`).
	HttpMethod pulumi.StringInput
	// API resource ID.
	ResourceId pulumi.StringInput
	// Map of response parameters that can be read from the backend response. For example: `responseParameters = { "method.response.header.X-Some-Header" = "integration.response.header.X-Some-Other-Header" }`.
	ResponseParameters pulumi.StringMapInput
	// Map of templates used to transform the integration response body.
	ResponseTemplates pulumi.StringMapInput
	// ID of the associated REST API.
	RestApi pulumi.Input
	// Regular expression pattern used to choose an integration response based on the response from the backend. Omit configuring this to make the integration the default one. If the backend is an `AWS` Lambda function, the AWS Lambda function error header is matched. For all other `HTTP` and `AWS` backends, the HTTP status code is matched.
	SelectionPattern pulumi.StringPtrInput
	// HTTP status code.
	//
	// The following arguments are optional:
	StatusCode pulumi.StringInput
}

func (IntegrationResponseArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*integrationResponseArgs)(nil)).Elem()
}

type IntegrationResponseInput interface {
	pulumi.Input

	ToIntegrationResponseOutput() IntegrationResponseOutput
	ToIntegrationResponseOutputWithContext(ctx context.Context) IntegrationResponseOutput
}

func (*IntegrationResponse) ElementType() reflect.Type {
	return reflect.TypeOf((**IntegrationResponse)(nil)).Elem()
}

func (i *IntegrationResponse) ToIntegrationResponseOutput() IntegrationResponseOutput {
	return i.ToIntegrationResponseOutputWithContext(context.Background())
}

func (i *IntegrationResponse) ToIntegrationResponseOutputWithContext(ctx context.Context) IntegrationResponseOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IntegrationResponseOutput)
}

// IntegrationResponseArrayInput is an input type that accepts IntegrationResponseArray and IntegrationResponseArrayOutput values.
// You can construct a concrete instance of `IntegrationResponseArrayInput` via:
//
//	IntegrationResponseArray{ IntegrationResponseArgs{...} }
type IntegrationResponseArrayInput interface {
	pulumi.Input

	ToIntegrationResponseArrayOutput() IntegrationResponseArrayOutput
	ToIntegrationResponseArrayOutputWithContext(context.Context) IntegrationResponseArrayOutput
}

type IntegrationResponseArray []IntegrationResponseInput

func (IntegrationResponseArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IntegrationResponse)(nil)).Elem()
}

func (i IntegrationResponseArray) ToIntegrationResponseArrayOutput() IntegrationResponseArrayOutput {
	return i.ToIntegrationResponseArrayOutputWithContext(context.Background())
}

func (i IntegrationResponseArray) ToIntegrationResponseArrayOutputWithContext(ctx context.Context) IntegrationResponseArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IntegrationResponseArrayOutput)
}

// IntegrationResponseMapInput is an input type that accepts IntegrationResponseMap and IntegrationResponseMapOutput values.
// You can construct a concrete instance of `IntegrationResponseMapInput` via:
//
//	IntegrationResponseMap{ "key": IntegrationResponseArgs{...} }
type IntegrationResponseMapInput interface {
	pulumi.Input

	ToIntegrationResponseMapOutput() IntegrationResponseMapOutput
	ToIntegrationResponseMapOutputWithContext(context.Context) IntegrationResponseMapOutput
}

type IntegrationResponseMap map[string]IntegrationResponseInput

func (IntegrationResponseMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IntegrationResponse)(nil)).Elem()
}

func (i IntegrationResponseMap) ToIntegrationResponseMapOutput() IntegrationResponseMapOutput {
	return i.ToIntegrationResponseMapOutputWithContext(context.Background())
}

func (i IntegrationResponseMap) ToIntegrationResponseMapOutputWithContext(ctx context.Context) IntegrationResponseMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IntegrationResponseMapOutput)
}

type IntegrationResponseOutput struct{ *pulumi.OutputState }

func (IntegrationResponseOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**IntegrationResponse)(nil)).Elem()
}

func (o IntegrationResponseOutput) ToIntegrationResponseOutput() IntegrationResponseOutput {
	return o
}

func (o IntegrationResponseOutput) ToIntegrationResponseOutputWithContext(ctx context.Context) IntegrationResponseOutput {
	return o
}

// How to handle request payload content type conversions. Supported values are `CONVERT_TO_BINARY` and `CONVERT_TO_TEXT`. If this property is not defined, the response payload will be passed through from the integration response to the method response without modification.
func (o IntegrationResponseOutput) ContentHandling() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringPtrOutput { return v.ContentHandling }).(pulumi.StringPtrOutput)
}

// HTTP method (`GET`, `POST`, `PUT`, `DELETE`, `HEAD`, `OPTIONS`, `ANY`).
func (o IntegrationResponseOutput) HttpMethod() pulumi.StringOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringOutput { return v.HttpMethod }).(pulumi.StringOutput)
}

// API resource ID.
func (o IntegrationResponseOutput) ResourceId() pulumi.StringOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringOutput { return v.ResourceId }).(pulumi.StringOutput)
}

// Map of response parameters that can be read from the backend response. For example: `responseParameters = { "method.response.header.X-Some-Header" = "integration.response.header.X-Some-Other-Header" }`.
func (o IntegrationResponseOutput) ResponseParameters() pulumi.StringMapOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringMapOutput { return v.ResponseParameters }).(pulumi.StringMapOutput)
}

// Map of templates used to transform the integration response body.
func (o IntegrationResponseOutput) ResponseTemplates() pulumi.StringMapOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringMapOutput { return v.ResponseTemplates }).(pulumi.StringMapOutput)
}

// ID of the associated REST API.
func (o IntegrationResponseOutput) RestApi() pulumi.StringOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringOutput { return v.RestApi }).(pulumi.StringOutput)
}

// Regular expression pattern used to choose an integration response based on the response from the backend. Omit configuring this to make the integration the default one. If the backend is an `AWS` Lambda function, the AWS Lambda function error header is matched. For all other `HTTP` and `AWS` backends, the HTTP status code is matched.
func (o IntegrationResponseOutput) SelectionPattern() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringPtrOutput { return v.SelectionPattern }).(pulumi.StringPtrOutput)
}

// HTTP status code.
//
// The following arguments are optional:
func (o IntegrationResponseOutput) StatusCode() pulumi.StringOutput {
	return o.ApplyT(func(v *IntegrationResponse) pulumi.StringOutput { return v.StatusCode }).(pulumi.StringOutput)
}

type IntegrationResponseArrayOutput struct{ *pulumi.OutputState }

func (IntegrationResponseArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IntegrationResponse)(nil)).Elem()
}

func (o IntegrationResponseArrayOutput) ToIntegrationResponseArrayOutput() IntegrationResponseArrayOutput {
	return o
}

func (o IntegrationResponseArrayOutput) ToIntegrationResponseArrayOutputWithContext(ctx context.Context) IntegrationResponseArrayOutput {
	return o
}

func (o IntegrationResponseArrayOutput) Index(i pulumi.IntInput) IntegrationResponseOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *IntegrationResponse {
		return vs[0].([]*IntegrationResponse)[vs[1].(int)]
	}).(IntegrationResponseOutput)
}

type IntegrationResponseMapOutput struct{ *pulumi.OutputState }

func (IntegrationResponseMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IntegrationResponse)(nil)).Elem()
}

func (o IntegrationResponseMapOutput) ToIntegrationResponseMapOutput() IntegrationResponseMapOutput {
	return o
}

func (o IntegrationResponseMapOutput) ToIntegrationResponseMapOutputWithContext(ctx context.Context) IntegrationResponseMapOutput {
	return o
}

func (o IntegrationResponseMapOutput) MapIndex(k pulumi.StringInput) IntegrationResponseOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *IntegrationResponse {
		return vs[0].(map[string]*IntegrationResponse)[vs[1].(string)]
	}).(IntegrationResponseOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*IntegrationResponseInput)(nil)).Elem(), &IntegrationResponse{})
	pulumi.RegisterInputType(reflect.TypeOf((*IntegrationResponseArrayInput)(nil)).Elem(), IntegrationResponseArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*IntegrationResponseMapInput)(nil)).Elem(), IntegrationResponseMap{})
	pulumi.RegisterOutputType(IntegrationResponseOutput{})
	pulumi.RegisterOutputType(IntegrationResponseArrayOutput{})
	pulumi.RegisterOutputType(IntegrationResponseMapOutput{})
}
