// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package apigateway

import (
	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// Connects a custom domain name registered via `apigateway.DomainName`
// with a deployed API so that its methods can be called via the
// custom domain name.
//
// > This content is derived from https://github.com/terraform-providers/terraform-provider-aws/blob/master/website/docs/r/api_gateway_base_path_mapping.html.markdown.
type BasePathMapping struct {
	pulumi.CustomResourceState

	// The id of the API to connect.
	RestApi pulumi.StringOutput `pulumi:"restApi"`

	// Path segment that must be prepended to the path when accessing the API via this mapping. If omitted, the API is exposed at the root of the given domain.
	BasePath pulumi.StringOutput `pulumi:"basePath"`

	// The already-registered domain name to connect the API to.
	DomainName pulumi.StringOutput `pulumi:"domainName"`

	// The name of a specific deployment stage to expose at the given path. If omitted, callers may select any stage by including its name as a path element after the base path.
	StageName pulumi.StringOutput `pulumi:"stageName"`
}

// NewBasePathMapping registers a new resource with the given unique name, arguments, and options.
func NewBasePathMapping(ctx *pulumi.Context,
	name string, args *BasePathMappingArgs, opts ...pulumi.ResourceOption) (*BasePathMapping, error) {
	if args == nil || args.RestApi == nil {
		return nil, errors.New("missing required argument 'RestApi'")
	}
	if args == nil || args.DomainName == nil {
		return nil, errors.New("missing required argument 'DomainName'")
	}
	inputs := map[string]pulumi.Input{}
	if args != nil {
		if i := args.RestApi; i != nil { inputs["restApi"] = i.ToStringOutput() }
		if i := args.BasePath; i != nil { inputs["basePath"] = i.ToStringOutput() }
		if i := args.DomainName; i != nil { inputs["domainName"] = i.ToStringOutput() }
		if i := args.StageName; i != nil { inputs["stageName"] = i.ToStringOutput() }
	}
	var resource BasePathMapping
	err := ctx.RegisterResource("aws:apigateway/basePathMapping:BasePathMapping", name, inputs, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetBasePathMapping gets an existing BasePathMapping resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetBasePathMapping(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *BasePathMappingState, opts ...pulumi.ResourceOption) (*BasePathMapping, error) {
	inputs := map[string]pulumi.Input{}
	if state != nil {
		if i := state.RestApi; i != nil { inputs["restApi"] = i.ToStringOutput() }
		if i := state.BasePath; i != nil { inputs["basePath"] = i.ToStringOutput() }
		if i := state.DomainName; i != nil { inputs["domainName"] = i.ToStringOutput() }
		if i := state.StageName; i != nil { inputs["stageName"] = i.ToStringOutput() }
	}
	var resource BasePathMapping
	err := ctx.ReadResource("aws:apigateway/basePathMapping:BasePathMapping", name, id, inputs, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering BasePathMapping resources.
type BasePathMappingState struct {
	// The id of the API to connect.
	RestApi pulumi.StringInput `pulumi:"restApi"`
	// Path segment that must be prepended to the path when accessing the API via this mapping. If omitted, the API is exposed at the root of the given domain.
	BasePath pulumi.StringInput `pulumi:"basePath"`
	// The already-registered domain name to connect the API to.
	DomainName pulumi.StringInput `pulumi:"domainName"`
	// The name of a specific deployment stage to expose at the given path. If omitted, callers may select any stage by including its name as a path element after the base path.
	StageName pulumi.StringInput `pulumi:"stageName"`
}

// The set of arguments for constructing a BasePathMapping resource.
type BasePathMappingArgs struct {
	// The id of the API to connect.
	RestApi pulumi.StringInput `pulumi:"restApi"`
	// Path segment that must be prepended to the path when accessing the API via this mapping. If omitted, the API is exposed at the root of the given domain.
	BasePath pulumi.StringInput `pulumi:"basePath"`
	// The already-registered domain name to connect the API to.
	DomainName pulumi.StringInput `pulumi:"domainName"`
	// The name of a specific deployment stage to expose at the given path. If omitted, callers may select any stage by including its name as a path element after the base path.
	StageName pulumi.StringInput `pulumi:"stageName"`
}
