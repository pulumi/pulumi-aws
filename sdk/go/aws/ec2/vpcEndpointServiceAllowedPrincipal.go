// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ec2

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a resource to allow a principal to discover a VPC endpoint service.
//
// > **NOTE on VPC Endpoint Services and VPC Endpoint Service Allowed Principals:** This provider provides
// both a standalone VPC Endpoint Service Allowed Principal resource
// and a VPC Endpoint Service resource with an `allowedPrincipals` attribute. Do not use the same principal ARN in both
// a VPC Endpoint Service resource and a VPC Endpoint Service Allowed Principal resource. Doing so will cause a conflict
// and will overwrite the association.
//
// ## Example Usage
//
// Basic usage:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws"
//	"github.com/pulumi/pulumi-aws/sdk/v6/go/aws/ec2"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			current, err := aws.GetCallerIdentity(ctx, &aws.GetCallerIdentityArgs{}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = ec2.NewVpcEndpointServiceAllowedPrincipal(ctx, "allow_me_to_foo", &ec2.VpcEndpointServiceAllowedPrincipalArgs{
//				VpcEndpointServiceId: pulumi.Any(foo.Id),
//				PrincipalArn:         pulumi.String(current.Arn),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type VpcEndpointServiceAllowedPrincipal struct {
	pulumi.CustomResourceState

	// The ARN of the principal to allow permissions.
	PrincipalArn pulumi.StringOutput `pulumi:"principalArn"`
	// The ID of the VPC endpoint service to allow permission.
	VpcEndpointServiceId pulumi.StringOutput `pulumi:"vpcEndpointServiceId"`
}

// NewVpcEndpointServiceAllowedPrincipal registers a new resource with the given unique name, arguments, and options.
func NewVpcEndpointServiceAllowedPrincipal(ctx *pulumi.Context,
	name string, args *VpcEndpointServiceAllowedPrincipalArgs, opts ...pulumi.ResourceOption) (*VpcEndpointServiceAllowedPrincipal, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.PrincipalArn == nil {
		return nil, errors.New("invalid value for required argument 'PrincipalArn'")
	}
	if args.VpcEndpointServiceId == nil {
		return nil, errors.New("invalid value for required argument 'VpcEndpointServiceId'")
	}
	aliases := pulumi.Aliases([]pulumi.Alias{
		{
			Type: pulumi.String("aws:ec2/vpcEndpointServiceAllowedPrinciple:VpcEndpointServiceAllowedPrinciple"),
		},
	})
	opts = append(opts, aliases)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource VpcEndpointServiceAllowedPrincipal
	err := ctx.RegisterResource("aws:ec2/vpcEndpointServiceAllowedPrincipal:VpcEndpointServiceAllowedPrincipal", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetVpcEndpointServiceAllowedPrincipal gets an existing VpcEndpointServiceAllowedPrincipal resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetVpcEndpointServiceAllowedPrincipal(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *VpcEndpointServiceAllowedPrincipalState, opts ...pulumi.ResourceOption) (*VpcEndpointServiceAllowedPrincipal, error) {
	var resource VpcEndpointServiceAllowedPrincipal
	err := ctx.ReadResource("aws:ec2/vpcEndpointServiceAllowedPrincipal:VpcEndpointServiceAllowedPrincipal", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering VpcEndpointServiceAllowedPrincipal resources.
type vpcEndpointServiceAllowedPrincipalState struct {
	// The ARN of the principal to allow permissions.
	PrincipalArn *string `pulumi:"principalArn"`
	// The ID of the VPC endpoint service to allow permission.
	VpcEndpointServiceId *string `pulumi:"vpcEndpointServiceId"`
}

type VpcEndpointServiceAllowedPrincipalState struct {
	// The ARN of the principal to allow permissions.
	PrincipalArn pulumi.StringPtrInput
	// The ID of the VPC endpoint service to allow permission.
	VpcEndpointServiceId pulumi.StringPtrInput
}

func (VpcEndpointServiceAllowedPrincipalState) ElementType() reflect.Type {
	return reflect.TypeOf((*vpcEndpointServiceAllowedPrincipalState)(nil)).Elem()
}

type vpcEndpointServiceAllowedPrincipalArgs struct {
	// The ARN of the principal to allow permissions.
	PrincipalArn string `pulumi:"principalArn"`
	// The ID of the VPC endpoint service to allow permission.
	VpcEndpointServiceId string `pulumi:"vpcEndpointServiceId"`
}

// The set of arguments for constructing a VpcEndpointServiceAllowedPrincipal resource.
type VpcEndpointServiceAllowedPrincipalArgs struct {
	// The ARN of the principal to allow permissions.
	PrincipalArn pulumi.StringInput
	// The ID of the VPC endpoint service to allow permission.
	VpcEndpointServiceId pulumi.StringInput
}

func (VpcEndpointServiceAllowedPrincipalArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*vpcEndpointServiceAllowedPrincipalArgs)(nil)).Elem()
}

type VpcEndpointServiceAllowedPrincipalInput interface {
	pulumi.Input

	ToVpcEndpointServiceAllowedPrincipalOutput() VpcEndpointServiceAllowedPrincipalOutput
	ToVpcEndpointServiceAllowedPrincipalOutputWithContext(ctx context.Context) VpcEndpointServiceAllowedPrincipalOutput
}

func (*VpcEndpointServiceAllowedPrincipal) ElementType() reflect.Type {
	return reflect.TypeOf((**VpcEndpointServiceAllowedPrincipal)(nil)).Elem()
}

func (i *VpcEndpointServiceAllowedPrincipal) ToVpcEndpointServiceAllowedPrincipalOutput() VpcEndpointServiceAllowedPrincipalOutput {
	return i.ToVpcEndpointServiceAllowedPrincipalOutputWithContext(context.Background())
}

func (i *VpcEndpointServiceAllowedPrincipal) ToVpcEndpointServiceAllowedPrincipalOutputWithContext(ctx context.Context) VpcEndpointServiceAllowedPrincipalOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VpcEndpointServiceAllowedPrincipalOutput)
}

// VpcEndpointServiceAllowedPrincipalArrayInput is an input type that accepts VpcEndpointServiceAllowedPrincipalArray and VpcEndpointServiceAllowedPrincipalArrayOutput values.
// You can construct a concrete instance of `VpcEndpointServiceAllowedPrincipalArrayInput` via:
//
//	VpcEndpointServiceAllowedPrincipalArray{ VpcEndpointServiceAllowedPrincipalArgs{...} }
type VpcEndpointServiceAllowedPrincipalArrayInput interface {
	pulumi.Input

	ToVpcEndpointServiceAllowedPrincipalArrayOutput() VpcEndpointServiceAllowedPrincipalArrayOutput
	ToVpcEndpointServiceAllowedPrincipalArrayOutputWithContext(context.Context) VpcEndpointServiceAllowedPrincipalArrayOutput
}

type VpcEndpointServiceAllowedPrincipalArray []VpcEndpointServiceAllowedPrincipalInput

func (VpcEndpointServiceAllowedPrincipalArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*VpcEndpointServiceAllowedPrincipal)(nil)).Elem()
}

func (i VpcEndpointServiceAllowedPrincipalArray) ToVpcEndpointServiceAllowedPrincipalArrayOutput() VpcEndpointServiceAllowedPrincipalArrayOutput {
	return i.ToVpcEndpointServiceAllowedPrincipalArrayOutputWithContext(context.Background())
}

func (i VpcEndpointServiceAllowedPrincipalArray) ToVpcEndpointServiceAllowedPrincipalArrayOutputWithContext(ctx context.Context) VpcEndpointServiceAllowedPrincipalArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VpcEndpointServiceAllowedPrincipalArrayOutput)
}

// VpcEndpointServiceAllowedPrincipalMapInput is an input type that accepts VpcEndpointServiceAllowedPrincipalMap and VpcEndpointServiceAllowedPrincipalMapOutput values.
// You can construct a concrete instance of `VpcEndpointServiceAllowedPrincipalMapInput` via:
//
//	VpcEndpointServiceAllowedPrincipalMap{ "key": VpcEndpointServiceAllowedPrincipalArgs{...} }
type VpcEndpointServiceAllowedPrincipalMapInput interface {
	pulumi.Input

	ToVpcEndpointServiceAllowedPrincipalMapOutput() VpcEndpointServiceAllowedPrincipalMapOutput
	ToVpcEndpointServiceAllowedPrincipalMapOutputWithContext(context.Context) VpcEndpointServiceAllowedPrincipalMapOutput
}

type VpcEndpointServiceAllowedPrincipalMap map[string]VpcEndpointServiceAllowedPrincipalInput

func (VpcEndpointServiceAllowedPrincipalMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*VpcEndpointServiceAllowedPrincipal)(nil)).Elem()
}

func (i VpcEndpointServiceAllowedPrincipalMap) ToVpcEndpointServiceAllowedPrincipalMapOutput() VpcEndpointServiceAllowedPrincipalMapOutput {
	return i.ToVpcEndpointServiceAllowedPrincipalMapOutputWithContext(context.Background())
}

func (i VpcEndpointServiceAllowedPrincipalMap) ToVpcEndpointServiceAllowedPrincipalMapOutputWithContext(ctx context.Context) VpcEndpointServiceAllowedPrincipalMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VpcEndpointServiceAllowedPrincipalMapOutput)
}

type VpcEndpointServiceAllowedPrincipalOutput struct{ *pulumi.OutputState }

func (VpcEndpointServiceAllowedPrincipalOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**VpcEndpointServiceAllowedPrincipal)(nil)).Elem()
}

func (o VpcEndpointServiceAllowedPrincipalOutput) ToVpcEndpointServiceAllowedPrincipalOutput() VpcEndpointServiceAllowedPrincipalOutput {
	return o
}

func (o VpcEndpointServiceAllowedPrincipalOutput) ToVpcEndpointServiceAllowedPrincipalOutputWithContext(ctx context.Context) VpcEndpointServiceAllowedPrincipalOutput {
	return o
}

// The ARN of the principal to allow permissions.
func (o VpcEndpointServiceAllowedPrincipalOutput) PrincipalArn() pulumi.StringOutput {
	return o.ApplyT(func(v *VpcEndpointServiceAllowedPrincipal) pulumi.StringOutput { return v.PrincipalArn }).(pulumi.StringOutput)
}

// The ID of the VPC endpoint service to allow permission.
func (o VpcEndpointServiceAllowedPrincipalOutput) VpcEndpointServiceId() pulumi.StringOutput {
	return o.ApplyT(func(v *VpcEndpointServiceAllowedPrincipal) pulumi.StringOutput { return v.VpcEndpointServiceId }).(pulumi.StringOutput)
}

type VpcEndpointServiceAllowedPrincipalArrayOutput struct{ *pulumi.OutputState }

func (VpcEndpointServiceAllowedPrincipalArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*VpcEndpointServiceAllowedPrincipal)(nil)).Elem()
}

func (o VpcEndpointServiceAllowedPrincipalArrayOutput) ToVpcEndpointServiceAllowedPrincipalArrayOutput() VpcEndpointServiceAllowedPrincipalArrayOutput {
	return o
}

func (o VpcEndpointServiceAllowedPrincipalArrayOutput) ToVpcEndpointServiceAllowedPrincipalArrayOutputWithContext(ctx context.Context) VpcEndpointServiceAllowedPrincipalArrayOutput {
	return o
}

func (o VpcEndpointServiceAllowedPrincipalArrayOutput) Index(i pulumi.IntInput) VpcEndpointServiceAllowedPrincipalOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *VpcEndpointServiceAllowedPrincipal {
		return vs[0].([]*VpcEndpointServiceAllowedPrincipal)[vs[1].(int)]
	}).(VpcEndpointServiceAllowedPrincipalOutput)
}

type VpcEndpointServiceAllowedPrincipalMapOutput struct{ *pulumi.OutputState }

func (VpcEndpointServiceAllowedPrincipalMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*VpcEndpointServiceAllowedPrincipal)(nil)).Elem()
}

func (o VpcEndpointServiceAllowedPrincipalMapOutput) ToVpcEndpointServiceAllowedPrincipalMapOutput() VpcEndpointServiceAllowedPrincipalMapOutput {
	return o
}

func (o VpcEndpointServiceAllowedPrincipalMapOutput) ToVpcEndpointServiceAllowedPrincipalMapOutputWithContext(ctx context.Context) VpcEndpointServiceAllowedPrincipalMapOutput {
	return o
}

func (o VpcEndpointServiceAllowedPrincipalMapOutput) MapIndex(k pulumi.StringInput) VpcEndpointServiceAllowedPrincipalOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *VpcEndpointServiceAllowedPrincipal {
		return vs[0].(map[string]*VpcEndpointServiceAllowedPrincipal)[vs[1].(string)]
	}).(VpcEndpointServiceAllowedPrincipalOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*VpcEndpointServiceAllowedPrincipalInput)(nil)).Elem(), &VpcEndpointServiceAllowedPrincipal{})
	pulumi.RegisterInputType(reflect.TypeOf((*VpcEndpointServiceAllowedPrincipalArrayInput)(nil)).Elem(), VpcEndpointServiceAllowedPrincipalArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*VpcEndpointServiceAllowedPrincipalMapInput)(nil)).Elem(), VpcEndpointServiceAllowedPrincipalMap{})
	pulumi.RegisterOutputType(VpcEndpointServiceAllowedPrincipalOutput{})
	pulumi.RegisterOutputType(VpcEndpointServiceAllowedPrincipalArrayOutput{})
	pulumi.RegisterOutputType(VpcEndpointServiceAllowedPrincipalMapOutput{})
}
